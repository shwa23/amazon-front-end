function cV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function FE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hv={exports:{}},qh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function hV(){if(KA)return qh;KA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return qh.Fragment=e,qh.jsx=t,qh.jsxs=t,qh}var WA;function dV(){return WA||(WA=1,Hv.exports=hV()),Hv.exports}var z=dV(),$v={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function fV(){if(QA)return Le;QA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function P(q,ae,be){this.props=q,this.context=ae,this.refs=I,this.updater=be||T}P.prototype.isReactComponent={},P.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},P.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=P.prototype;function M(q,ae,be){this.props=q,this.context=ae,this.refs=I,this.updater=be||T}var U=M.prototype=new L;U.constructor=M,w(U,P.prototype),U.isPureReactComponent=!0;var $=Array.isArray,j={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function V(q,ae,be,ve,ye,Oe){return be=Oe.ref,{$$typeof:n,type:q,key:ae,ref:be!==void 0?be:null,props:Oe}}function C(q,ae){return V(q.type,ae,void 0,void 0,void 0,q.props)}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function b(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(be){return ae[be]})}var x=/\/+/g;function O(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?b(""+q.key):ae.toString(36)}function D(){}function te(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function B(q,ae,be,ve,ye){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var De=!1;if(q===null)De=!0;else switch(Oe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(q.$$typeof){case n:case e:De=!0;break;case g:return De=q._init,B(De(q._payload),ae,be,ve,ye)}}if(De)return ye=ye(q),De=ve===""?"."+O(q,0):ve,$(ye)?(be="",De!=null&&(be=De.replace(x,"$&/")+"/"),B(ye,ae,be,"",function(_t){return _t})):ye!=null&&(R(ye)&&(ye=C(ye,be+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(x,"$&/")+"/")+De)),ae.push(ye)),1;De=0;var Ct=ve===""?".":ve+":";if($(q))for(var ze=0;ze<q.length;ze++)ve=q[ze],Oe=Ct+O(ve,ze),De+=B(ve,ae,be,Oe,ye);else if(ze=v(q),typeof ze=="function")for(q=ze.call(q),ze=0;!(ve=q.next()).done;)ve=ve.value,Oe=Ct+O(ve,ze++),De+=B(ve,ae,be,Oe,ye);else if(Oe==="object"){if(typeof q.then=="function")return B(te(q),ae,be,ve,ye);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return De}function ee(q,ae,be){if(q==null)return q;var ve=[],ye=0;return B(q,ve,"","",function(Oe){return ae.call(be,Oe,ye++)}),ve}function ie(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(be){(q._status===0||q._status===-1)&&(q._status=1,q._result=be)},function(be){(q._status===0||q._status===-1)&&(q._status=2,q._result=be)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Te(){}return Le.Children={map:ee,forEach:function(q,ae,be){ee(q,function(){ae.apply(this,arguments)},be)},count:function(q){var ae=0;return ee(q,function(){ae++}),ae},toArray:function(q){return ee(q,function(ae){return ae})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Le.Component=P,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=M,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cloneElement=function(q,ae,be){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=w({},q.props),ye=q.key,Oe=void 0;if(ae!=null)for(De in ae.ref!==void 0&&(Oe=void 0),ae.key!==void 0&&(ye=""+ae.key),ae)!H.call(ae,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ae.ref===void 0||(ve[De]=ae[De]);var De=arguments.length-2;if(De===1)ve.children=be;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ve.children=Ct}return V(q.type,ye,void 0,void 0,Oe,ve)},Le.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,ae,be){var ve,ye={},Oe=null;if(ae!=null)for(ve in ae.key!==void 0&&(Oe=""+ae.key),ae)H.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ye[ve]=ae[ve]);var De=arguments.length-2;if(De===1)ye.children=be;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ye.children=Ct}if(q&&q.defaultProps)for(ve in De=q.defaultProps,De)ye[ve]===void 0&&(ye[ve]=De[ve]);return V(q,Oe,void 0,void 0,null,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:h,render:q}},Le.isValidElement=R,Le.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:ie}},Le.memo=function(q,ae){return{$$typeof:f,type:q,compare:ae===void 0?null:ae}},Le.startTransition=function(q){var ae=j.T,be={};j.T=be;try{var ve=q(),ye=j.S;ye!==null&&ye(be,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Te,ue)}catch(Oe){ue(Oe)}finally{j.T=ae}},Le.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Le.use=function(q){return j.H.use(q)},Le.useActionState=function(q,ae,be){return j.H.useActionState(q,ae,be)},Le.useCallback=function(q,ae){return j.H.useCallback(q,ae)},Le.useContext=function(q){return j.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,ae){return j.H.useDeferredValue(q,ae)},Le.useEffect=function(q,ae){return j.H.useEffect(q,ae)},Le.useId=function(){return j.H.useId()},Le.useImperativeHandle=function(q,ae,be){return j.H.useImperativeHandle(q,ae,be)},Le.useInsertionEffect=function(q,ae){return j.H.useInsertionEffect(q,ae)},Le.useLayoutEffect=function(q,ae){return j.H.useLayoutEffect(q,ae)},Le.useMemo=function(q,ae){return j.H.useMemo(q,ae)},Le.useOptimistic=function(q,ae){return j.H.useOptimistic(q,ae)},Le.useReducer=function(q,ae,be){return j.H.useReducer(q,ae,be)},Le.useRef=function(q){return j.H.useRef(q)},Le.useState=function(q){return j.H.useState(q)},Le.useSyncExternalStore=function(q,ae,be){return j.H.useSyncExternalStore(q,ae,be)},Le.useTransition=function(){return j.H.useTransition()},Le.version="19.0.0",Le}var YA;function oo(){return YA||(YA=1,$v.exports=fV()),$v.exports}var W=oo();const Ke=FE(W),N0=cV({__proto__:null,default:Ke},[W]);var Gv={exports:{}},Hh={},Kv={exports:{}},Wv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function pV(){return XA||(XA=1,function(n){function e(ee,ie){var ue=ee.length;ee.push(ie);e:for(;0<ue;){var Te=ue-1>>>1,q=ee[Te];if(0<i(q,ie))ee[Te]=ie,ee[ue]=q,ue=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ue=ee.pop();if(ue!==ie){ee[0]=ue;e:for(var Te=0,q=ee.length,ae=q>>>1;Te<ae;){var be=2*(Te+1)-1,ve=ee[be],ye=be+1,Oe=ee[ye];if(0>i(ve,ue))ye<q&&0>i(Oe,ve)?(ee[Te]=Oe,ee[ye]=ue,Te=ye):(ee[Te]=ve,ee[be]=ue,Te=be);else if(ye<q&&0>i(Oe,ue))ee[Te]=Oe,ee[ye]=ue,Te=ye;else break e}}return ie}function i(ee,ie){var ue=ee.sortIndex-ie.sortIndex;return ue!==0?ue:ee.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,T=!1,w=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(ee){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=ee)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function $(ee){if(I=!1,U(ee),!w)if(t(d)!==null)w=!0,te();else{var ie=t(f);ie!==null&&B($,ie.startTime-ee)}}var j=!1,H=-1,V=5,C=-1;function R(){return!(n.unstable_now()-C<V)}function b(){if(j){var ee=n.unstable_now();C=ee;var ie=!0;try{e:{w=!1,I&&(I=!1,L(H),H=-1),T=!0;var ue=v;try{t:{for(U(ee),_=t(d);_!==null&&!(_.expirationTime>ee&&R());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,v=_.priorityLevel;var q=Te(_.expirationTime<=ee);if(ee=n.unstable_now(),typeof q=="function"){_.callback=q,U(ee),ie=!0;break t}_===t(d)&&r(d),U(ee)}else r(d);_=t(d)}if(_!==null)ie=!0;else{var ae=t(f);ae!==null&&B($,ae.startTime-ee),ie=!1}}break e}finally{_=null,v=ue,T=!1}ie=void 0}}finally{ie?x():j=!1}}}var x;if(typeof M=="function")x=function(){M(b)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=b,x=function(){D.postMessage(null)}}else x=function(){P(b,0)};function te(){j||(j=!0,x())}function B(ee,ie){H=P(function(){ee(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,te())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ue=v;v=ie;try{return ee()}finally{v=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=v;v=ee;try{return ie()}finally{v=ue}},n.unstable_scheduleCallback=function(ee,ie,ue){var Te=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Te+ue:Te):ue=Te,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,ee={id:g++,callback:ie,priorityLevel:ee,startTime:ue,expirationTime:q,sortIndex:-1},ue>Te?(ee.sortIndex=ue,e(f,ee),t(d)===null&&ee===t(f)&&(I?(L(H),H=-1):I=!0,B($,ue-Te))):(ee.sortIndex=q,e(d,ee),w||T||(w=!0,te())),ee},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ee){var ie=v;return function(){var ue=v;v=ie;try{return ee.apply(this,arguments)}finally{v=ue}}}}(Wv)),Wv}var JA;function mV(){return JA||(JA=1,Kv.exports=pV()),Kv.exports}var Qv={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function gV(){if(ZA)return Fn;ZA=1;var n=oo();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},Fn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},Fn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Fn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Fn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Fn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Fn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Fn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Fn.requestFormReset=function(d){r.d.r(d)},Fn.unstable_batchedUpdates=function(d,f){return d(f)},Fn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},Fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fn.version="19.0.0",Fn}var eI;function yV(){if(eI)return Qv.exports;eI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qv.exports=gV(),Qv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function _V(){if(tI)return Hh;tI=1;var n=mV(),e=oo(),t=yV();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),T=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function C(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case f:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case T:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case w:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return a=s.displayName||null,a!==null?a:C(s.type)||"Memo";case M:a=s._payload,s=s._init;try{return C(s(a))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.assign,x,O;function D(s){if(x===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);x=a&&a[1]||"",O=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+s+O}var te=!1;function B(s,a){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var Z=le}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(le){Z=le}s.call(fe.prototype)}}else{try{throw Error()}catch(le){Z=le}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&Z&&typeof le.stack=="string")return[le.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],k=y[1];if(A&&k){var F=A.split(`
`),K=k.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===K.length)for(c=F.length-1,m=K.length-1;1<=c&&0<=m&&F[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==K[m]){var ce=`
`+F[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?D(l):""}function ee(s){switch(s.tag){case 26:case 27:case 5:return D(s.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return s=B(s.type,!1),s;case 11:return s=B(s.type.render,!1),s;case 1:return s=B(s.type,!0),s;default:return""}}function ie(s){try{var a="";do a+=ee(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ue(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function Te(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function q(s){if(ue(s)!==s)throw Error(r(188))}function ae(s){var a=s.alternate;if(!a){if(a=ue(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return q(m),s;if(y===c)return q(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,k=m.child;k;){if(k===l){A=!0,l=m,c=y;break}if(k===c){A=!0,c=m,l=y;break}k=k.sibling}if(!A){for(k=y.child;k;){if(k===l){A=!0,l=y,c=m;break}if(k===c){A=!0,c=y,l=m;break}k=k.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function be(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=be(s),a!==null)return a;s=s.sibling}return null}var ve=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},De=[],Ct=-1;function ze(s){return{current:s}}function _t(s){0>Ct||(s.current=De[Ct],De[Ct]=null,Ct--)}function $e(s,a){Ct++,De[Ct]=s.current,s.current=a}var Et=ze(null),Je=ze(null),at=ze(null),Jt=ze(null);function fr(s,a){switch($e(at,a),$e(Je,s),$e(Et,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?wA(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=wA(s),a=TA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}_t(Et),$e(Et,a)}function Mn(){_t(Et),_t(Je),_t(at)}function Or(s){s.memoizedState!==null&&$e(Jt,s);var a=Et.current,l=TA(a,s.type);a!==l&&($e(Je,s),$e(Et,l))}function Ln(s){Je.current===s&&(_t(Et),_t(Je)),Jt.current===s&&(_t(Jt),Uh._currentValue=Oe)}var rr=Object.prototype.hasOwnProperty,Zr=n.unstable_scheduleCallback,kl=n.unstable_cancelCallback,Gy=n.unstable_shouldYield,Bc=n.unstable_requestPaint,ir=n.unstable_now,$f=n.unstable_getCurrentPriorityLevel,un=n.unstable_ImmediatePriority,yn=n.unstable_UserBlockingPriority,ns=n.unstable_NormalPriority,Gf=n.unstable_LowPriority,Fc=n.unstable_IdlePriority,Ky=n.log,yo=n.unstable_setDisableYieldValue,Qs=null,Un=null;function jc(s){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Qs,s,void 0,(s.current.flags&128)===128)}catch{}}function fi(s){if(typeof Ky=="function"&&yo(s),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(Qs,s)}catch{}}var Kn=Math.clz32?Math.clz32:Wf,zc=Math.log,Kf=Math.LN2;function Wf(s){return s>>>=0,s===0?32:31-(zc(s)/Kf|0)|0}var pi=128,Ys=4194304;function ei(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Dr(s,a){var l=s.pendingLanes;if(l===0)return 0;var c=0,m=s.suspendedLanes,y=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var k=l&134217727;return k!==0?(l=k&~m,l!==0?c=ei(l):(y&=k,y!==0?c=ei(y):s||(A=k&~A,A!==0&&(c=ei(A))))):(k=l&~m,k!==0?c=ei(k):y!==0?c=ei(y):s||(A=l&~A,A!==0&&(c=ei(A)))),c===0?0:a!==0&&a!==c&&!(a&m)&&(m=c&-c,A=a&-a,m>=A||m===32&&(A&4194176)!==0)?a:c}function Xs(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Nl(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qc(){var s=pi;return pi<<=1,!(pi&4194176)&&(pi=128),s}function Js(){var s=Ys;return Ys<<=1,!(Ys&62914560)&&(Ys=4194304),s}function Vl(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Gt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Qf(s,a,l,c,m,y){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,F=s.expirationTimes,K=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-Kn(l),fe=1<<ce;k[ce]=0,F[ce]=-1;var Z=K[ce];if(Z!==null)for(K[ce]=null,ce=0;ce<Z.length;ce++){var le=Z[ce];le!==null&&(le.lane&=-536870913)}l&=~fe}c!==0&&Zs(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function Zs(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Kn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194218}function ea(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Kn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Yf(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function Xf(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:jA(s.type))}function ta(s,a){var l=ye.p;try{return ye.p=s,a()}finally{ye.p=l}}var mi=Math.random().toString(36).slice(2),_n="__reactFiber$"+mi,cn="__reactProps$"+mi,rs="__reactContainer$"+mi,_o="__reactEvents$"+mi,Ml="__reactListeners$"+mi,gi="__reactHandles$"+mi,Hc="__reactResources$"+mi,na="__reactMarker$"+mi;function vo(s){delete s[_n],delete s[cn],delete s[_o],delete s[Ml],delete s[gi]}function ti(s){var a=s[_n];if(a)return a;for(var l=s.parentNode;l;){if(a=l[rs]||l[_n]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=IA(s);s!==null;){if(l=s[_n])return l;s=IA(s)}return a}s=l,l=s.parentNode}return null}function is(s){if(s=s[_n]||s[rs]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ra(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function ia(s){var a=s[Hc];return a||(a=s[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(s){s[na]=!0}var $c=new Set,Ll={};function pr(s,a){sr(s,a),sr(s+"Capture",a)}function sr(s,a){for(Ll[s]=a,s=0;s<a.length;s++)$c.add(a[s])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gc={},Kc={};function Jf(s){return rr.call(Kc,s)?!0:rr.call(Gc,s)?!1:Wy.test(s)?Kc[s]=!0:(Gc[s]=!0,!1)}function sa(s,a,l){if(Jf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function aa(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function kr(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}function Wn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Zf(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qy(s){var a=Zf(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Eo(s){s._valueTracker||(s._valueTracker=Qy(s))}function Wc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Zf(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Ul(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ss=/[\n"\\]/g;function Lt(s){return s.replace(ss,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function oa(s,a,l,c,m,y,A,k){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Wn(a)):s.value!==""+Wn(a)&&(s.value=""+Wn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Bl(s,A,Wn(a)):l!=null?Bl(s,A,Wn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Wn(k):s.removeAttribute("name")}function bo(s,a,l,c,m,y,A,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Wn(l):"",a=a!=null?""+Wn(a):l,k||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=k?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Bl(s,a,l){a==="number"&&Ul(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ze(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Wn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function wo(s,a,l){if(a!=null&&(a=""+Wn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Wn(l):""}function la(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Wn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Nr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Yy.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function ep(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&Qc(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&Qc(s,y,a[y])}function Yc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(s){return Jy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Vr=null;function Fl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var as=null,os=null;function ls(s){var a=is(s);if(a&&(s=a.stateNode)){var l=s[cn]||null;e:switch(s=a.stateNode,a.type){case"input":if(oa(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[cn]||null;if(!m)throw Error(r(90));oa(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Wc(c)}break e;case"textarea":wo(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ze(s,!!l.multiple,a,!1)}}}var Xc=!1;function tp(s,a,l){if(Xc)return s(a,l);Xc=!0;try{var c=s(a);return c}finally{if(Xc=!1,(as!==null||os!==null)&&(Gp(),as&&(a=as,s=os,os=as=null,ls(a),s)))for(a=0;a<s.length;a++)ls(s[a])}}function To(s,a){var l=s.stateNode;if(l===null)return null;var c=l[cn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Mr=!1;if(mr)try{var So={};Object.defineProperty(So,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{Mr=!1}var _i=null,ua=null,us=null;function Jc(){if(us)return us;var s,a=ua,l=a.length,c,m="value"in _i?_i.value:_i.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var A=l-s;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return us=m.slice(s,1<c?1-c:void 0)}function vi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function Zc(){return!1}function vn(s){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ei:Zc,this.isPropagationStopped=Zc,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=vn(st),Ao=b({},st,{view:0,detail:0}),np=vn(Ao),zl,ql,bi,Io=b({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bi&&(bi&&s.type==="mousemove"?(zl=s.screenX-bi.screenX,ql=s.screenY-bi.screenY):ql=zl=0,bi=s),zl)},movementY:function(s){return"movementY"in s?s.movementY:ql}}),Lr=vn(Io),rp=b({},Io,{dataTransfer:0}),Zy=vn(rp),Ro=b({},Ao,{relatedTarget:0}),Hl=vn(Ro),eh=b({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=vn(eh),ip=b({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gl=vn(ip),e_=b({},st,{data:0}),th=vn(e_),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ap[s])?!!a[s]:!1}function Po(){return nh}var op=b({},Ao,{key:function(s){if(s.key){var a=Co[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=vi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(s){return s.type==="keypress"?vi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Kl=vn(op),lp=b({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=vn(lp),cs=b({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),up=vn(cs),cp=b({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=vn(cp),dp=b({},Io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Wl=vn(dp),Qn=b({},st,{newState:0,oldState:0}),fp=vn(Qn),pp=[9,13,27,32],wi=mr&&"CompositionEvent"in window,p=null;mr&&"documentMode"in document&&(p=document.documentMode);var E=mr&&"TextEvent"in window&&!p,S=mr&&(!wi||p&&8<p&&11>=p),N=" ",Y=!1;function re(s,a){switch(s){case"keyup":return pp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function hn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Y=!0,N);case"textInput":return s=a.data,s===N&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!wi&&re(s,a)?(s=Jc(),us=ua=_i=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!En[s.type]:a==="textarea"}function hs(s,a,l,c){as?os?os.push(c):os=[c]:as=c,a=Xp(a,"onChange"),0<a.length&&(l=new jl("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Cn=null,Ti=null;function ih(s){yA(s,0)}function mp(s){var a=ra(s);if(Wc(a))return s}function Gw(s,a){if(s==="change")return a}var Kw=!1;if(mr){var t_;if(mr){var n_="oninput"in document;if(!n_){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),n_=typeof Ww.oninput=="function"}t_=n_}else t_=!1;Kw=t_&&(!document.documentMode||9<document.documentMode)}function Qw(){Cn&&(Cn.detachEvent("onpropertychange",Yw),Ti=Cn=null)}function Yw(s){if(s.propertyName==="value"&&mp(Ti)){var a=[];hs(a,Ti,s,Fl(s)),tp(ih,a)}}function FN(s,a,l){s==="focusin"?(Qw(),Cn=a,Ti=l,Cn.attachEvent("onpropertychange",Yw)):s==="focusout"&&Qw()}function jN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mp(Ti)}function zN(s,a){if(s==="click")return mp(a)}function qN(s,a){if(s==="input"||s==="change")return mp(a)}function HN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var gr=typeof Object.is=="function"?Object.is:HN;function sh(s,a){if(gr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!rr.call(a,m)||!gr(s[m],a[m]))return!1}return!0}function Xw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Jw(s,a){var l=Xw(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xw(l)}}function Zw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Zw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function eT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Ul(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Ul(s.document)}return a}function r_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function $N(s,a){var l=eT(a);a=s.focusedElem;var c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&Zw(a.ownerDocument.documentElement,a)){if(c!==null&&r_(a)){if(s=c.start,l=c.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!l.extend&&y>c&&(m=c,c=y,y=m),m=Jw(a,y);var A=Jw(a,c);m&&A&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),l.removeAllRanges(),y>c?(l.addRange(s),l.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var GN=mr&&"documentMode"in document&&11>=document.documentMode,Ql=null,i_=null,ah=null,s_=!1;function tT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;s_||Ql==null||Ql!==Ul(c)||(c=Ql,"selectionStart"in c&&r_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ah&&sh(ah,c)||(ah=c,c=Xp(i_,"onSelect"),0<c.length&&(a=new jl("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Ql)))}function xo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Yl={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},a_={},nT={};mr&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Oo(s){if(a_[s])return a_[s];if(!Yl[s])return s;var a=Yl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in nT)return a_[s]=a[l];return s}var rT=Oo("animationend"),iT=Oo("animationiteration"),sT=Oo("animationstart"),KN=Oo("transitionrun"),WN=Oo("transitionstart"),QN=Oo("transitioncancel"),aT=Oo("transitionend"),oT=new Map,lT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ni(s,a){oT.set(s,a),pr(a,[s])}var Ur=[],Xl=0,o_=0;function gp(){for(var s=Xl,a=o_=Xl=0;a<s;){var l=Ur[a];Ur[a++]=null;var c=Ur[a];Ur[a++]=null;var m=Ur[a];Ur[a++]=null;var y=Ur[a];if(Ur[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&uT(l,m,y)}}function yp(s,a,l,c){Ur[Xl++]=s,Ur[Xl++]=a,Ur[Xl++]=l,Ur[Xl++]=c,o_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function l_(s,a,l,c){return yp(s,a,l,c),_p(s)}function ca(s,a){return yp(s,null,null,a),_p(s)}function uT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-Kn(l),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=l|536870912)}function _p(s){if(50<Oh)throw Oh=0,pv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Jl={},cT=new WeakMap;function Br(s,a){if(typeof s=="object"&&s!==null){var l=cT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ie(a)},cT.set(s,a),a)}return{value:s,source:a,stack:ie(a)}}var Zl=[],eu=0,vp=null,Ep=0,Fr=[],jr=0,Do=null,ds=1,fs="";function ko(s,a){Zl[eu++]=Ep,Zl[eu++]=vp,vp=s,Ep=a}function hT(s,a,l){Fr[jr++]=ds,Fr[jr++]=fs,Fr[jr++]=Do,Do=s;var c=ds;s=fs;var m=32-Kn(c)-1;c&=~(1<<m),l+=1;var y=32-Kn(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,ds=1<<32-Kn(a)+m|l<<m|c,fs=y+s}else ds=1<<y|l<<m|c,fs=s}function u_(s){s.return!==null&&(ko(s,1),hT(s,1,0))}function c_(s){for(;s===vp;)vp=Zl[--eu],Zl[eu]=null,Ep=Zl[--eu],Zl[eu]=null;for(;s===Do;)Do=Fr[--jr],Fr[jr]=null,fs=Fr[--jr],Fr[jr]=null,ds=Fr[--jr],Fr[jr]=null}var Yn=null,Pn=null,et=!1,ri=null,Si=!1,h_=Error(r(519));function No(s){var a=Error(r(418,""));throw uh(Br(a,s)),h_}function dT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[_n]=s,a[cn]=c,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<kh.length;l++)Ge(kh[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),bo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Eo(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),la(a,c.value,c.defaultValue,c.children),Eo(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||bA(a.textContent,l)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=Jp),a=!0):a=!1,a||No(s)}function fT(s){for(Yn=s.return;Yn;)switch(Yn.tag){case 3:case 27:Si=!0;return;case 5:case 13:Si=!1;return;default:Yn=Yn.return}}function oh(s){if(s!==Yn)return!1;if(!et)return fT(s),et=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ov(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&Pn&&No(s),fT(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Pn=si(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Pn=null}}else Pn=Yn?si(s.stateNode.nextSibling):null;return!0}function lh(){Pn=Yn=null,et=!1}function uh(s){ri===null?ri=[s]:ri.push(s)}var ch=Error(r(460)),pT=Error(r(474)),d_={then:function(){}};function mT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function bp(){}function gT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(bp,bp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===ch?Error(r(483)):s;default:if(typeof a.status=="string")a.then(bp,bp);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===ch?Error(r(483)):s}throw hh=a,ch}}var hh=null;function yT(){if(hh===null)throw Error(r(459));var s=hh;return hh=null,s}var tu=null,dh=0;function wp(s){var a=dh;return dh+=1,tu===null&&(tu=[]),gT(tu,s,a)}function fh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Tp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function _T(s){var a=s._init;return a(s._payload)}function vT(s){function a(Q,G){if(s){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=wa(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=33554434,G):J):(Q.flags|=33554434,G)):(Q.flags|=1048576,G)}function A(Q){return s&&Q.alternate===null&&(Q.flags|=33554434),Q}function k(Q,G,J,he){return G===null||G.tag!==6?(G=av(J,Q.mode,he),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function F(Q,G,J,he){var Se=J.type;return Se===d?ce(Q,G,J.props.children,he,J.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&_T(Se)===G.type)?(G=m(G,J.props),fh(G,J),G.return=Q,G):(G=jp(J.type,J.key,J.props,null,Q.mode,he),fh(G,J),G.return=Q,G)}function K(Q,G,J,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=ov(J,Q.mode,he),G.return=Q,G):(G=m(G,J.children||[]),G.return=Q,G)}function ce(Q,G,J,he,Se){return G===null||G.tag!==7?(G=Ho(J,Q.mode,he,Se),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function fe(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=av(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return J=jp(G.type,G.key,G.props,null,Q.mode,J),fh(J,G),J.return=Q,J;case h:return G=ov(G,Q.mode,J),G.return=Q,G;case M:var he=G._init;return G=he(G._payload),fe(Q,G,J)}if(ve(G)||H(G))return G=Ho(G,Q.mode,J,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,wp(G),J);if(G.$$typeof===T)return fe(Q,Up(Q,G),J);Tp(Q,G)}return null}function Z(Q,G,J,he){var Se=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Se!==null?null:k(Q,G,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case u:return J.key===Se?F(Q,G,J,he):null;case h:return J.key===Se?K(Q,G,J,he):null;case M:return Se=J._init,J=Se(J._payload),Z(Q,G,J,he)}if(ve(J)||H(J))return Se!==null?null:ce(Q,G,J,he,null);if(typeof J.then=="function")return Z(Q,G,wp(J),he);if(J.$$typeof===T)return Z(Q,G,Up(Q,J),he);Tp(Q,J)}return null}function le(Q,G,J,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(J)||null,k(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return Q=Q.get(he.key===null?J:he.key)||null,F(G,Q,he,Se);case h:return Q=Q.get(he.key===null?J:he.key)||null,K(G,Q,he,Se);case M:var Be=he._init;return he=Be(he._payload),le(Q,G,J,he,Se)}if(ve(he)||H(he))return Q=Q.get(J)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return le(Q,G,J,wp(he),Se);if(he.$$typeof===T)return le(Q,G,J,Up(G,he),Se);Tp(G,he)}return null}function Ie(Q,G,J,he){for(var Se=null,Be=null,Ce=G,xe=G=0,Tn=null;Ce!==null&&xe<J.length;xe++){Ce.index>xe?(Tn=Ce,Ce=null):Tn=Ce.sibling;var tt=Z(Q,Ce,J[xe],he);if(tt===null){Ce===null&&(Ce=Tn);break}s&&Ce&&tt.alternate===null&&a(Q,Ce),G=y(tt,G,xe),Be===null?Se=tt:Be.sibling=tt,Be=tt,Ce=Tn}if(xe===J.length)return l(Q,Ce),et&&ko(Q,xe),Se;if(Ce===null){for(;xe<J.length;xe++)Ce=fe(Q,J[xe],he),Ce!==null&&(G=y(Ce,G,xe),Be===null?Se=Ce:Be.sibling=Ce,Be=Ce);return et&&ko(Q,xe),Se}for(Ce=c(Ce);xe<J.length;xe++)Tn=le(Ce,Q,xe,J[xe],he),Tn!==null&&(s&&Tn.alternate!==null&&Ce.delete(Tn.key===null?xe:Tn.key),G=y(Tn,G,xe),Be===null?Se=Tn:Be.sibling=Tn,Be=Tn);return s&&Ce.forEach(function(Pa){return a(Q,Pa)}),et&&ko(Q,xe),Se}function Ne(Q,G,J,he){if(J==null)throw Error(r(151));for(var Se=null,Be=null,Ce=G,xe=G=0,Tn=null,tt=J.next();Ce!==null&&!tt.done;xe++,tt=J.next()){Ce.index>xe?(Tn=Ce,Ce=null):Tn=Ce.sibling;var Pa=Z(Q,Ce,tt.value,he);if(Pa===null){Ce===null&&(Ce=Tn);break}s&&Ce&&Pa.alternate===null&&a(Q,Ce),G=y(Pa,G,xe),Be===null?Se=Pa:Be.sibling=Pa,Be=Pa,Ce=Tn}if(tt.done)return l(Q,Ce),et&&ko(Q,xe),Se;if(Ce===null){for(;!tt.done;xe++,tt=J.next())tt=fe(Q,tt.value,he),tt!==null&&(G=y(tt,G,xe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return et&&ko(Q,xe),Se}for(Ce=c(Ce);!tt.done;xe++,tt=J.next())tt=le(Ce,Q,xe,tt.value,he),tt!==null&&(s&&tt.alternate!==null&&Ce.delete(tt.key===null?xe:tt.key),G=y(tt,G,xe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return s&&Ce.forEach(function(uV){return a(Q,uV)}),et&&ko(Q,xe),Se}function Ft(Q,G,J,he){if(typeof J=="object"&&J!==null&&J.type===d&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case u:e:{for(var Se=J.key;G!==null;){if(G.key===Se){if(Se=J.type,Se===d){if(G.tag===7){l(Q,G.sibling),he=m(G,J.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&_T(Se)===G.type){l(Q,G.sibling),he=m(G,J.props),fh(he,J),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}J.type===d?(he=Ho(J.props.children,Q.mode,he,J.key),he.return=Q,Q=he):(he=jp(J.type,J.key,J.props,null,Q.mode,he),fh(he,J),he.return=Q,Q=he)}return A(Q);case h:e:{for(Se=J.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(Q,G.sibling),he=m(G,J.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=ov(J,Q.mode,he),he.return=Q,Q=he}return A(Q);case M:return Se=J._init,J=Se(J._payload),Ft(Q,G,J,he)}if(ve(J))return Ie(Q,G,J,he);if(H(J)){if(Se=H(J),typeof Se!="function")throw Error(r(150));return J=Se.call(J),Ne(Q,G,J,he)}if(typeof J.then=="function")return Ft(Q,G,wp(J),he);if(J.$$typeof===T)return Ft(Q,G,Up(Q,J),he);Tp(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,J),he.return=Q,Q=he):(l(Q,G),he=av(J,Q.mode,he),he.return=Q,Q=he),A(Q)):l(Q,G)}return function(Q,G,J,he){try{dh=0;var Se=Ft(Q,G,J,he);return tu=null,Se}catch(Ce){if(Ce===ch)throw Ce;var Be=$r(29,Ce,null,Q.mode);return Be.lanes=he,Be.return=Q,Be}finally{}}}var Vo=vT(!0),ET=vT(!1),nu=ze(null),Sp=ze(0);function bT(s,a){s=Ss,$e(Sp,s),$e(nu,a),Ss=s|a.baseLanes}function f_(){$e(Sp,Ss),$e(nu,nu.current)}function p_(){Ss=Sp.current,_t(nu),_t(Sp)}var zr=ze(null),Ai=null;function ha(s){var a=s.alternate;$e(fn,fn.current&1),$e(zr,s),Ai===null&&(a===null||nu.current!==null||a.memoizedState!==null)&&(Ai=s)}function wT(s){if(s.tag===22){if($e(fn,fn.current),$e(zr,s),Ai===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ai=s)}}else da()}function da(){$e(fn,fn.current),$e(zr,zr.current)}function ps(s){_t(zr),Ai===s&&(Ai=null),_t(fn)}var fn=ze(0);function Ap(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var YN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},XN=n.unstable_scheduleCallback,JN=n.unstable_NormalPriority,pn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m_(){return{controller:new YN,data:new Map,refCount:0}}function ph(s){s.refCount--,s.refCount===0&&XN(JN,function(){s.controller.abort()})}var mh=null,g_=0,ru=0,iu=null;function ZN(s,a){if(mh===null){var l=mh=[];g_=0,ru=wv(),iu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return g_++,a.then(TT,TT),a}function TT(){if(--g_===0&&mh!==null){iu!==null&&(iu.status="fulfilled");var s=mh;mh=null,ru=0,iu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function e2(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var ST=R.S;R.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&ZN(s,a),ST!==null&&ST(s,a)};var Mo=ze(null);function y_(){var s=Mo.current;return s!==null?s:mt.pooledCache}function Ip(s,a){a===null?$e(Mo,Mo.current):$e(Mo,a.pool)}function AT(){var s=y_();return s===null?null:{parent:pn._currentValue,pool:s}}var fa=0,Ue=null,ut=null,Zt=null,Rp=!1,su=!1,Lo=!1,Cp=0,gh=0,au=null,t2=0;function Kt(){throw Error(r(321))}function __(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!gr(s[l],a[l]))return!1;return!0}function v_(s,a,l,c,m,y){return fa=y,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=s===null||s.memoizedState===null?Uo:pa,Lo=!1,y=l(c,m),Lo=!1,su&&(y=RT(a,l,c,m)),IT(s),y}function IT(s){R.H=Ii;var a=ut!==null&&ut.next!==null;if(fa=0,Zt=ut=Ue=null,Rp=!1,gh=0,au=null,a)throw Error(r(300));s===null||bn||(s=s.dependencies,s!==null&&Lp(s)&&(bn=!0))}function RT(s,a,l,c){Ue=s;var m=0;do{if(su&&(au=null),gh=0,su=!1,25<=m)throw Error(r(301));if(m+=1,Zt=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=Bo,y=a(l,c)}while(su);return y}function n2(){var s=R.H,a=s.useState()[0];return a=typeof a.then=="function"?yh(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ue.flags|=1024),a}function E_(){var s=Cp!==0;return Cp=0,s}function b_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function w_(s){if(Rp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Rp=!1}fa=0,Zt=ut=Ue=null,su=!1,gh=Cp=0,au=null}function ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function en(){if(ut===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=Zt===null?Ue.memoizedState:Zt.next;if(a!==null)Zt=a,ut=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}var Pp;Pp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function yh(s){var a=gh;return gh+=1,au===null&&(au=[]),s=gT(au,s,a),a=Ue,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?Uo:pa),s}function xp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yh(s);if(s.$$typeof===T)return Bn(s)}throw Error(r(438,String(s)))}function T_(s){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Pp(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=$;return a.index++,l}function ms(s,a){return typeof a=="function"?a(s):a}function Op(s){var a=en();return S_(a,ut,s)}function S_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var k=A=null,F=null,K=a,ce=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Ye&fe)===fe:(fa&fe)===fe){var Z=K.revertLane;if(Z===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===ru&&(ce=!0);else if((fa&Z)===Z){K=K.next,Z===ru&&(ce=!0);continue}else fe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},F===null?(k=F=fe,A=y):F=F.next=fe,Ue.lanes|=Z,Ta|=Z;fe=K.action,Lo&&l(y,fe),y=K.hasEagerState?K.eagerState:l(y,fe)}else Z={lane:fe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},F===null?(k=F=Z,A=y):F=F.next=Z,Ue.lanes|=fe,Ta|=fe;K=K.next}while(K!==null&&K!==a);if(F===null?A=y:F.next=k,!gr(y,s.memoizedState)&&(bn=!0,ce&&(l=iu,l!==null)))throw l;s.memoizedState=y,s.baseState=A,s.baseQueue=F,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function A_(s){var a=en(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);gr(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function CT(s,a,l){var c=Ue,m=en(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!gr((ut||m).memoizedState,l);if(A&&(m.memoizedState=l,bn=!0),m=m.queue,C_(OT.bind(null,c,m,s),[s]),m.getSnapshot!==a||A||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,ou(9,xT.bind(null,c,m,l,a),{destroy:void 0},null),mt===null)throw Error(r(349));y||fa&60||PT(c,a,l)}return l}function PT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=Pp(),Ue.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function xT(s,a,l,c){a.value=l,a.getSnapshot=c,DT(a)&&kT(s)}function OT(s,a,l){return l(function(){DT(a)&&kT(s)})}function DT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!gr(s,l)}catch{return!0}}function kT(s){var a=ca(s,2);a!==null&&Xn(a,s,2)}function I_(s){var a=ar();if(typeof s=="function"){var l=s;if(s=l(),Lo){fi(!0);try{l()}finally{fi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},a}function NT(s,a,l,c){return s.baseState=l,S_(s,ut,typeof c=="function"?c:ms)}function r2(s,a,l,c,m){if(Np(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};R.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,VT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function VT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=R.T,A={};R.T=A;try{var k=l(m,c),F=R.S;F!==null&&F(A,k),MT(s,a,k)}catch(K){R_(s,a,K)}finally{R.T=y}}else try{y=l(m,c),MT(s,a,y)}catch(K){R_(s,a,K)}}function MT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){LT(s,a,c)},function(c){return R_(s,a,c)}):LT(s,a,l)}function LT(s,a,l){a.status="fulfilled",a.value=l,UT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,VT(s,l)))}function R_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,UT(a),a=a.next;while(a!==c)}s.action=null}function UT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function BT(s,a){return a}function FT(s,a){if(et){var l=mt.formState;if(l!==null){e:{var c=Ue;if(et){if(Pn){t:{for(var m=Pn,y=Si;m.nodeType!==8;){if(!y){m=null;break t}if(m=si(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Pn=si(m.nextSibling),c=m.data==="F!";break e}}No(c)}c=!1}c&&(a=l[0])}}return l=ar(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:BT,lastRenderedState:a},l.queue=c,l=iS.bind(null,Ue,c),c.dispatch=l,c=I_(!1),y=k_.bind(null,Ue,!1,c.queue),c=ar(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=r2.bind(null,Ue,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function jT(s){var a=en();return zT(a,ut,s)}function zT(s,a,l){a=S_(s,a,BT)[0],s=Op(ms)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?yh(a):a;var c=en(),m=c.queue,y=m.dispatch;return l!==c.memoizedState&&(Ue.flags|=2048,ou(9,i2.bind(null,m,l),{destroy:void 0},null)),[a,y,s]}function i2(s,a){s.action=a}function qT(s){var a=en(),l=ut;if(l!==null)return zT(a,l,s);en(),a=a.memoizedState,l=en();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function ou(s,a,l,c){return s={tag:s,create:a,inst:l,deps:c,next:null},a=Ue.updateQueue,a===null&&(a=Pp(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function HT(){return en().memoizedState}function Dp(s,a,l,c){var m=ar();Ue.flags|=s,m.memoizedState=ou(1|a,l,{destroy:void 0},c===void 0?null:c)}function kp(s,a,l,c){var m=en();c=c===void 0?null:c;var y=m.memoizedState.inst;ut!==null&&c!==null&&__(c,ut.memoizedState.deps)?m.memoizedState=ou(a,l,y,c):(Ue.flags|=s,m.memoizedState=ou(1|a,l,y,c))}function $T(s,a){Dp(8390656,8,s,a)}function C_(s,a){kp(2048,8,s,a)}function GT(s,a){return kp(4,2,s,a)}function KT(s,a){return kp(4,4,s,a)}function WT(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function QT(s,a,l){l=l!=null?l.concat([s]):null,kp(4,4,WT.bind(null,a,s),l)}function P_(){}function YT(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&__(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function XT(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&__(a,c[1]))return c[0];if(c=s(),Lo){fi(!0);try{s()}finally{fi(!1)}}return l.memoizedState=[c,a],c}function x_(s,a,l){return l===void 0||fa&1073741824?s.memoizedState=a:(s.memoizedState=l,s=ZS(),Ue.lanes|=s,Ta|=s,l)}function JT(s,a,l,c){return gr(l,a)?l:nu.current!==null?(s=x_(s,l,c),gr(s,a)||(bn=!0),s):fa&42?(s=ZS(),Ue.lanes|=s,Ta|=s,a):(bn=!0,s.memoizedState=l)}function ZT(s,a,l,c,m){var y=ye.p;ye.p=y!==0&&8>y?y:8;var A=R.T,k={};R.T=k,k_(s,!1,a,l);try{var F=m(),K=R.S;if(K!==null&&K(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=e2(F,c);_h(s,a,ce,Er(s))}else _h(s,a,c,Er(s))}catch(fe){_h(s,a,{then:function(){},status:"rejected",reason:fe},Er())}finally{ye.p=y,R.T=A}}function s2(){}function O_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=eS(s).queue;ZT(s,m,a,Oe,l===null?s2:function(){return tS(s),l(c)})}function eS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:Oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function tS(s){var a=eS(s).next.queue;_h(s,a,{},Er())}function D_(){return Bn(Uh)}function nS(){return en().memoizedState}function rS(){return en().memoizedState}function a2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Er();s=ya(l);var c=_a(a,s,l);c!==null&&(Xn(c,a,l),bh(c,a,l)),a={cache:m_()},s.payload=a;return}a=a.return}}function o2(s,a,l){var c=Er();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Np(s)?sS(a,l):(l=l_(s,a,l,c),l!==null&&(Xn(l,s,c),aS(l,a,c)))}function iS(s,a,l){var c=Er();_h(s,a,l,c)}function _h(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Np(s))sS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,k=y(A,l);if(m.hasEagerState=!0,m.eagerState=k,gr(k,A))return yp(s,a,m,0),mt===null&&gp(),!1}catch{}finally{}if(l=l_(s,a,m,c),l!==null)return Xn(l,s,c),aS(l,a,c),!0}return!1}function k_(s,a,l,c){if(c={lane:2,revertLane:wv(),action:c,hasEagerState:!1,eagerState:null,next:null},Np(s)){if(a)throw Error(r(479))}else a=l_(s,l,c,2),a!==null&&Xn(a,s,2)}function Np(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function sS(s,a){su=Rp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function aS(s,a,l){if(l&4194176){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ea(s,l)}}var Ii={readContext:Bn,use:xp,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt};Ii.useCacheRefresh=Kt,Ii.useMemoCache=Kt,Ii.useHostTransitionStatus=Kt,Ii.useFormState=Kt,Ii.useActionState=Kt,Ii.useOptimistic=Kt;var Uo={readContext:Bn,use:xp,useCallback:function(s,a){return ar().memoizedState=[s,a===void 0?null:a],s},useContext:Bn,useEffect:$T,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Dp(4194308,4,WT.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Dp(4194308,4,s,a)},useInsertionEffect:function(s,a){Dp(4,2,s,a)},useMemo:function(s,a){var l=ar();a=a===void 0?null:a;var c=s();if(Lo){fi(!0);try{s()}finally{fi(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=ar();if(l!==void 0){var m=l(a);if(Lo){fi(!0);try{l(a)}finally{fi(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=o2.bind(null,Ue,s),[c.memoizedState,s]},useRef:function(s){var a=ar();return s={current:s},a.memoizedState=s},useState:function(s){s=I_(s);var a=s.queue,l=iS.bind(null,Ue,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:P_,useDeferredValue:function(s,a){var l=ar();return x_(l,s,a)},useTransition:function(){var s=I_(!1);return s=ZT.bind(null,Ue,s.queue,!0,!1),ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ue,m=ar();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),mt===null)throw Error(r(349));Ye&60||PT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,$T(OT.bind(null,c,y,s),[s]),c.flags|=2048,ou(9,xT.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var s=ar(),a=mt.identifierPrefix;if(et){var l=fs,c=ds;l=(c&~(1<<32-Kn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=Cp++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=t2++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return ar().memoizedState=a2.bind(null,Ue)}};Uo.useMemoCache=T_,Uo.useHostTransitionStatus=D_,Uo.useFormState=FT,Uo.useActionState=FT,Uo.useOptimistic=function(s){var a=ar();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=k_.bind(null,Ue,!0,l),l.dispatch=a,[s,a]};var pa={readContext:Bn,use:xp,useCallback:YT,useContext:Bn,useEffect:C_,useImperativeHandle:QT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:XT,useReducer:Op,useRef:HT,useState:function(){return Op(ms)},useDebugValue:P_,useDeferredValue:function(s,a){var l=en();return JT(l,ut.memoizedState,s,a)},useTransition:function(){var s=Op(ms)[0],a=en().memoizedState;return[typeof s=="boolean"?s:yh(s),a]},useSyncExternalStore:CT,useId:nS};pa.useCacheRefresh=rS,pa.useMemoCache=T_,pa.useHostTransitionStatus=D_,pa.useFormState=jT,pa.useActionState=jT,pa.useOptimistic=function(s,a){var l=en();return NT(l,ut,s,a)};var Bo={readContext:Bn,use:xp,useCallback:YT,useContext:Bn,useEffect:C_,useImperativeHandle:QT,useInsertionEffect:GT,useLayoutEffect:KT,useMemo:XT,useReducer:A_,useRef:HT,useState:function(){return A_(ms)},useDebugValue:P_,useDeferredValue:function(s,a){var l=en();return ut===null?x_(l,s,a):JT(l,ut.memoizedState,s,a)},useTransition:function(){var s=A_(ms)[0],a=en().memoizedState;return[typeof s=="boolean"?s:yh(s),a]},useSyncExternalStore:CT,useId:nS};Bo.useCacheRefresh=rS,Bo.useMemoCache=T_,Bo.useHostTransitionStatus=D_,Bo.useFormState=qT,Bo.useActionState=qT,Bo.useOptimistic=function(s,a){var l=en();return ut!==null?NT(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])};function N_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var V_={isMounted:function(s){return(s=s._reactInternals)?ue(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Er(),m=ya(c);m.payload=a,l!=null&&(m.callback=l),a=_a(s,m,c),a!==null&&(Xn(a,s,c),bh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Er(),m=ya(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=_a(s,m,c),a!==null&&(Xn(a,s,c),bh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Er(),c=ya(l);c.tag=2,a!=null&&(c.callback=a),a=_a(s,c,l),a!==null&&(Xn(a,s,l),bh(a,s,l))}};function oS(s,a,l,c,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!sh(l,c)||!sh(m,y):!0}function lS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&V_.enqueueReplaceState(a,a.state,null)}function Fo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Vp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function uS(s){Vp(s)}function cS(s){console.error(s)}function hS(s){Vp(s)}function Mp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function dS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function M_(s,a,l){return l=ya(l),l.tag=3,l.payload={element:null},l.callback=function(){Mp(s,a)},l}function fS(s){return s=ya(s),s.tag=3,s}function pS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){dS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){dS(a,l,c),typeof m!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function l2(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Eh(a,l,m,!0),l=zr.current,l!==null){switch(l.tag){case 13:return Ai===null?yv():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===d_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),vv(s,c,m)),!1;case 22:return l.flags|=65536,c===d_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),vv(s,c,m)),!1}throw Error(r(435,l.tag))}return vv(s,c,m),yv(),!1}if(et)return a=zr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==h_&&(s=Error(r(422),{cause:c}),uh(Br(s,l)))):(c!==h_&&(a=Error(r(423),{cause:c}),uh(Br(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Br(c,l),m=M_(s.stateNode,c,m),X_(s,m),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:c});if(y=Br(y,l),Ph===null?Ph=[y]:Ph.push(y),Bt!==4&&(Bt=2),a===null)return!0;c=Br(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=M_(l.stateNode,c,s),X_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Sa===null||!Sa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=fS(m),pS(m,s,l,c),X_(l,m),!1}l=l.return}while(l!==null);return!1}var mS=Error(r(461)),bn=!1;function xn(s,a,l,c){a.child=s===null?ET(a,null,l,c):Vo(a,s.child,l,c)}function gS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var k in c)k!=="ref"&&(A[k]=c[k])}else A=c;return zo(a),c=v_(s,a,l,A,y,m),k=E_(),s!==null&&!bn?(b_(s,a,m),gs(s,a,m)):(et&&k&&u_(a),a.flags|=1,xn(s,a,c,m),a.child)}function yS(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!sv(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,_S(s,a,y,c,m)):(s=jp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!$_(s,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:sh,l(A,c)&&s.ref===a.ref)return gs(s,a,m)}return a.flags|=1,s=wa(y,c),s.ref=a.ref,s.return=a,a.child=s}function _S(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(sh(y,c)&&s.ref===a.ref)if(bn=!1,a.pendingProps=c=y,$_(s,m))s.flags&131072&&(bn=!0);else return a.lanes=s.lanes,gs(s,a,m)}return L_(s,a,l,c,m)}function vS(s,a,l){var c=a.pendingProps,m=c.children,y=(a.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(vh(s,a),c.mode==="hidden"||y){if(a.flags&128){if(c=A!==null?A.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return ES(s,a,c,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ip(a,A!==null?A.cachePool:null),A!==null?bT(a,A):f_(),wT(a);else return a.lanes=a.childLanes=536870912,ES(s,a,A!==null?A.baseLanes|l:l,l)}else A!==null?(Ip(a,A.cachePool),bT(a,A),da(),a.memoizedState=null):(s!==null&&Ip(a,null),f_(),da());return xn(s,a,m,l),a.child}function ES(s,a,l,c){var m=y_();return m=m===null?null:{parent:pn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Ip(a,null),f_(),wT(a),s!==null&&Eh(s,a,c,!0),null}function vh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function L_(s,a,l,c,m){return zo(a),l=v_(s,a,l,c,void 0,m),c=E_(),s!==null&&!bn?(b_(s,a,m),gs(s,a,m)):(et&&c&&u_(a),a.flags|=1,xn(s,a,l,m),a.child)}function bS(s,a,l,c,m,y){return zo(a),a.updateQueue=null,l=RT(a,c,l,m),IT(s),c=E_(),s!==null&&!bn?(b_(s,a,y),gs(s,a,y)):(et&&c&&u_(a),a.flags|=1,xn(s,a,l,y),a.child)}function wS(s,a,l,c,m){if(zo(a),a.stateNode===null){var y=Jl,A=l.contextType;typeof A=="object"&&A!==null&&(y=Bn(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=V_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},Q_(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Bn(A):Jl,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(N_(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&V_.enqueueReplaceState(y,y.state,null),Th(a,c,y,m),wh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var k=a.memoizedProps,F=Fo(l,k);y.props=F;var K=y.context,ce=l.contextType;A=Jl,typeof ce=="object"&&ce!==null&&(A=Bn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||K!==A)&&lS(a,y,c,A),ga=!1;var Z=a.memoizedState;y.state=Z,Th(a,c,y,m),wh(),K=a.memoizedState,k||Z!==K||ga?(typeof fe=="function"&&(N_(a,l,fe,c),K=a.memoizedState),(F=ga||oS(a,l,F,c,Z,K,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),y.props=c,y.state=K,y.context=A,c=F):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,Y_(s,a),A=a.memoizedProps,ce=Fo(l,A),y.props=ce,fe=a.pendingProps,Z=y.context,K=l.contextType,F=Jl,typeof K=="object"&&K!==null&&(F=Bn(K)),k=l.getDerivedStateFromProps,(K=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||Z!==F)&&lS(a,y,c,F),ga=!1,Z=a.memoizedState,y.state=Z,Th(a,c,y,m),wh();var le=a.memoizedState;A!==fe||Z!==le||ga||s!==null&&s.dependencies!==null&&Lp(s.dependencies)?(typeof k=="function"&&(N_(a,l,k,c),le=a.memoizedState),(ce=ga||oS(a,l,ce,c,Z,le,F)||s!==null&&s.dependencies!==null&&Lp(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,F)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=le),y.props=c,y.state=le,y.context=F,c=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,vh(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=Vo(a,s.child,null,m),a.child=Vo(a,null,l,m)):xn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=gs(s,a,m),s}function TS(s,a,l,c){return lh(),a.flags|=256,xn(s,a,l,c),a.child}var U_={dehydrated:null,treeContext:null,retryLane:0};function B_(s){return{baseLanes:s,cachePool:AT()}}function F_(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Gr),s}function SS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(fn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?ha(a):da(),et){var k=Pn,F;if(F=k){e:{for(F=k,k=Si;F.nodeType!==8;){if(!k){k=null;break e}if(F=si(F.nextSibling),F===null){k=null;break e}}k=F}k!==null?(a.memoizedState={dehydrated:k,treeContext:Do!==null?{id:ds,overflow:fs}:null,retryLane:536870912},F=$r(18,null,null,0),F.stateNode=k,F.return=a,a.child=F,Yn=a,Pn=null,F=!0):F=!1}F||No(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?a.lanes=16:a.lanes=536870912,null;ps(a)}return k=c.children,c=c.fallback,m?(da(),m=a.mode,k=z_({mode:"hidden",children:k},m),c=Ho(c,m,l,null),k.return=a,c.return=a,k.sibling=c,a.child=k,m=a.child,m.memoizedState=B_(l),m.childLanes=F_(s,A,l),a.memoizedState=U_,c):(ha(a),j_(a,k))}if(F=s.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(y)a.flags&256?(ha(a),a.flags&=-257,a=q_(s,a,l)):a.memoizedState!==null?(da(),a.child=s.child,a.flags|=128,a=null):(da(),m=c.fallback,k=a.mode,c=z_({mode:"visible",children:c.children},k),m=Ho(m,k,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Vo(a,s.child,null,l),c=a.child,c.memoizedState=B_(l),c.childLanes=F_(s,A,l),a.memoizedState=U_,a=m);else if(ha(a),k.data==="$!"){if(A=k.nextSibling&&k.nextSibling.dataset,A)var K=A.dgst;A=K,c=Error(r(419)),c.stack="",c.digest=A,uh({value:c,source:null,stack:null}),a=q_(s,a,l)}else if(bn||Eh(s,a,l,!1),A=(l&s.childLanes)!==0,bn||A){if(A=mt,A!==null){if(c=l&-l,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(A.suspendedLanes|l)?0:c,c!==0&&c!==F.retryLane)throw F.retryLane=c,ca(s,c),Xn(A,s,c),mS}k.data==="$?"||yv(),a=q_(s,a,l)}else k.data==="$?"?(a.flags|=128,a.child=s.child,a=T2.bind(null,s),k._reactRetry=a,a=null):(s=F.treeContext,Pn=si(k.nextSibling),Yn=a,et=!0,ri=null,Si=!1,s!==null&&(Fr[jr++]=ds,Fr[jr++]=fs,Fr[jr++]=Do,ds=s.id,fs=s.overflow,Do=a),a=j_(a,c.children),a.flags|=4096);return a}return m?(da(),m=c.fallback,k=a.mode,F=s.child,K=F.sibling,c=wa(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&31457280,K!==null?m=wa(K,m):(m=Ho(m,k,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,k=s.child.memoizedState,k===null?k=B_(l):(F=k.cachePool,F!==null?(K=pn._currentValue,F=F.parent!==K?{parent:K,pool:K}:F):F=AT(),k={baseLanes:k.baseLanes|l,cachePool:F}),m.memoizedState=k,m.childLanes=F_(s,A,l),a.memoizedState=U_,c):(ha(a),l=s.child,s=l.sibling,l=wa(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function j_(s,a){return a=z_({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function z_(s,a){return YS(s,a,0,null)}function q_(s,a,l){return Vo(a,s.child,null,l),s=j_(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function AS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),K_(s.return,a,l)}function H_(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function IS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(xn(s,a,c.children,l),c=fn.current,c&2)c=c&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&AS(s,l,a);else if(s.tag===19)AS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch($e(fn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Ap(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),H_(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Ap(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}H_(a,!0,l,null,y);break;case"together":H_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function gs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ta|=a.lanes,!(l&a.childLanes))if(s!==null){if(Eh(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=wa(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=wa(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function $_(s,a){return s.lanes&a?!0:(s=s.dependencies,!!(s!==null&&Lp(s)))}function u2(s,a,l){switch(a.tag){case 3:fr(a,a.stateNode.containerInfo),ma(a,pn,s.memoizedState.cache),lh();break;case 27:case 5:Or(a);break;case 4:fr(a,a.stateNode.containerInfo);break;case 10:ma(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ha(a),a.flags|=128,null):l&a.child.childLanes?SS(s,a,l):(ha(a),s=gs(s,a,l),s!==null?s.sibling:null);ha(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Eh(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return IS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(fn,fn.current),c)break;return null;case 22:case 23:return a.lanes=0,vS(s,a,l);case 24:ma(a,pn,s.memoizedState.cache)}return gs(s,a,l)}function RS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)bn=!0;else{if(!$_(s,l)&&!(a.flags&128))return bn=!1,u2(s,a,l);bn=!!(s.flags&131072)}else bn=!1,et&&a.flags&1048576&&hT(a,Ep,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")sv(c)?(s=Fo(c,s),a.tag=1,a=wS(null,a,c,s,l)):(a.tag=0,a=L_(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===w){a.tag=11,a=gS(null,a,c,s,l);break e}else if(m===L){a.tag=14,a=yS(null,a,c,s,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return L_(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Fo(c,a.pendingProps),wS(s,a,c,m,l);case 3:e:{if(fr(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,c=m.element,Y_(s,a),Th(a,y,null,l);var A=a.memoizedState;if(y=A.cache,ma(a,pn,y),y!==m.cache&&W_(a,[pn],l,!0),wh(),y=A.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=TS(s,a,y,l);break e}else if(y!==c){c=Br(Error(r(424)),a),uh(c),a=TS(s,a,y,l);break e}else for(Pn=si(a.stateNode.containerInfo.firstChild),Yn=a,et=!0,ri=null,Si=!0,l=ET(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(lh(),y===c){a=gs(s,a,l);break e}xn(s,a,y,l)}a=a.child}return a;case 26:return vh(s,a),s===null?(l=xA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=Zp(at.current).createElement(l),c[_n]=a,c[cn]=s,On(c,l,s),Pt(c),a.stateNode=c):a.memoizedState=xA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Or(a),s===null&&et&&(c=a.stateNode=RA(a.type,a.pendingProps,at.current),Yn=a,Si=!0,Pn=si(c.firstChild)),c=a.pendingProps.children,s!==null||et?xn(s,a,c,l):a.child=Vo(a,null,c,l),vh(s,a),a.child;case 5:return s===null&&et&&((m=c=Pn)&&(c=B2(c,a.type,a.pendingProps,Si),c!==null?(a.stateNode=c,Yn=a,Pn=si(c.firstChild),Si=!1,m=!0):m=!1),m||No(a)),Or(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,c=y.children,Ov(m,y)?c=null:A!==null&&Ov(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=v_(s,a,n2,null,null,l),Uh._currentValue=m),vh(s,a),xn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Pn)&&(l=F2(l,a.pendingProps,Si),l!==null?(a.stateNode=l,Yn=a,Pn=null,s=!0):s=!1),s||No(a)),null;case 13:return SS(s,a,l);case 4:return fr(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=Vo(a,null,c,l):xn(s,a,c,l),a.child;case 11:return gS(s,a,a.type,a.pendingProps,l);case 7:return xn(s,a,a.pendingProps,l),a.child;case 8:return xn(s,a,a.pendingProps.children,l),a.child;case 12:return xn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ma(a,a.type,c.value),xn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,zo(a),m=Bn(m),c=c(m),a.flags|=1,xn(s,a,c,l),a.child;case 14:return yS(s,a,a.type,a.pendingProps,l);case 15:return _S(s,a,a.type,a.pendingProps,l);case 19:return IS(s,a,l);case 22:return vS(s,a,l);case 24:return zo(a),c=Bn(pn),s===null?(m=y_(),m===null&&(m=mt,y=m_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},Q_(a),ma(a,pn,m)):(s.lanes&l&&(Y_(s,a),Th(a,null,null,l),wh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ma(a,pn,c)):(c=y.cache,ma(a,pn,c),c!==m.cache&&W_(a,[pn],l,!0))),xn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var G_=ze(null),jo=null,ys=null;function ma(s,a,l){$e(G_,a._currentValue),a._currentValue=l}function _s(s){s._currentValue=G_.current,_t(G_)}function K_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function W_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=m;for(var F=0;F<a.length;F++)if(k.context===a[F]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),K_(y.return,l,s),c||(A=null);break e}y=k.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),K_(A,l,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Eh(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var k=m.type;gr(m.pendingProps.value,A.value)||(s!==null?s.push(k):s=[k])}}else if(m===Jt.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Uh):s=[Uh])}m=m.return}s!==null&&W_(a,s,l,c),a.flags|=262144}function Lp(s){for(s=s.firstContext;s!==null;){if(!gr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function zo(s){jo=s,ys=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bn(s){return CS(jo,s)}function Up(s,a){return jo===null&&zo(s),CS(s,a)}function CS(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ys===null){if(s===null)throw Error(r(308));ys=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ys=ys.next=a;return l}var ga=!1;function Q_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Y_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ya(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _a(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,Ot&2){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=_p(s),uT(s,null,l),a}return yp(s,c,a,l),_p(s)}function bh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ea(s,l)}}function X_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var J_=!1;function wh(){if(J_){var s=iu;if(s!==null)throw s}}function Th(s,a,l,c){J_=!1;var m=s.updateQueue;ga=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var F=k,K=F.next;F.next=null,A===null?y=K:A.next=K,A=F;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,k=ce.lastBaseUpdate,k!==A&&(k===null?ce.firstBaseUpdate=K:k.next=K,ce.lastBaseUpdate=F))}if(y!==null){var fe=m.baseState;A=0,ce=K=F=null,k=y;do{var Z=k.lane&-536870913,le=Z!==k.lane;if(le?(Ye&Z)===Z:(c&Z)===Z){Z!==0&&Z===ru&&(J_=!0),ce!==null&&(ce=ce.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ie=s,Ne=k;Z=a;var Ft=l;switch(Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){fe=Ie.call(Ft,fe,Z);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,Z=typeof Ie=="function"?Ie.call(Ft,fe,Z):Ie,Z==null)break e;fe=b({},fe,Z);break e;case 2:ga=!0}}Z=k.callback,Z!==null&&(s.flags|=64,le&&(s.flags|=8192),le=m.callbacks,le===null?m.callbacks=[Z]:le.push(Z))}else le={lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ce===null?(K=ce=le,F=fe):ce=ce.next=le,A|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;le=k,k=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ce===null&&(F=fe),m.baseState=F,m.firstBaseUpdate=K,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),Ta|=A,s.lanes=A,s.memoizedState=fe}}function PS(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function xS(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)PS(l[s],a)}function Sh(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(k){dt(a,a.return,k)}}function va(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var A=c.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,m=a;var F=l;try{k()}catch(K){dt(m,F,K)}}}c=c.next}while(c!==y)}}catch(K){dt(a,a.return,K)}}function OS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{xS(a,l)}catch(c){dt(s,s.return,c)}}}function DS(s,a,l){l.props=Fo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){dt(s,a,c)}}function qo(s,a){try{var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?s.refCleanup=l(m):l.current=m}}catch(y){dt(s,a,y)}}function yr(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){dt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(s,a,m)}else l.current=null}function kS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){dt(s,s.return,m)}}function NS(s,a,l){try{var c=s.stateNode;N2(c,s.type,l,a),c[cn]=a}catch(m){dt(s,s.return,m)}}function VS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Z_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||VS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ev(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Jp));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(ev(s,a,l),s=s.sibling;s!==null;)ev(s,a,l),s=s.sibling}function Bp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Bp(s,a,l),s=s.sibling;s!==null;)Bp(s,a,l),s=s.sibling}var vs=!1,Ut=!1,tv=!1,MS=typeof WeakSet=="function"?WeakSet:Set,wn=null,LS=!1;function c2(s,a){if(s=s.containerInfo,Pv=sm,s=eT(s),r_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,k=-1,F=-1,K=0,ce=0,fe=s,Z=null;t:for(;;){for(var le;fe!==l||m!==0&&fe.nodeType!==3||(k=A+m),fe!==y||c!==0&&fe.nodeType!==3||(F=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(le=fe.firstChild)!==null;)Z=fe,fe=le;for(;;){if(fe===s)break t;if(Z===l&&++K===m&&(k=A),Z===y&&++ce===c&&(F=A),(le=fe.nextSibling)!==null)break;fe=Z,Z=fe.parentNode}fe=le}l=k===-1||F===-1?null:{start:k,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(xv={focusedElem:s,selectionRange:l},sm=!1,wn=a;wn!==null;)if(a=wn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,wn=s;else for(;wn!==null;){switch(a=wn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ie=Fo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ie,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){dt(l,l.return,Ne)}}break;case 3:if(s&1024){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Nv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Nv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,wn=s;break}wn=a.return}return Ie=LS,LS=!1,Ie}function US(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:bs(s,l),c&4&&Sh(5,l);break;case 1:if(bs(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(k){dt(l,l.return,k)}else{var m=Fo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){dt(l,l.return,k)}}c&64&&OS(l),c&512&&qo(l,l.return);break;case 3:if(bs(s,l),c&64&&(c=l.updateQueue,c!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{xS(c,s)}catch(k){dt(l,l.return,k)}}break;case 26:bs(s,l),c&512&&qo(l,l.return);break;case 27:case 5:bs(s,l),a===null&&c&4&&kS(l),c&512&&qo(l,l.return);break;case 12:bs(s,l);break;case 13:bs(s,l),c&4&&jS(s,l);break;case 22:if(m=l.memoizedState!==null||vs,!m){a=a!==null&&a.memoizedState!==null||Ut;var y=vs,A=Ut;vs=m,(Ut=a)&&!A?Ea(s,l,(l.subtreeFlags&8772)!==0):bs(s,l),vs=y,Ut=A}c&512&&(l.memoizedProps.mode==="manual"?qo(l,l.return):yr(l,l.return));break;default:bs(s,l)}}function BS(s){var a=s.alternate;a!==null&&(s.alternate=null,BS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&vo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,_r=!1;function Es(s,a,l){for(l=l.child;l!==null;)FS(s,a,l),l=l.sibling}function FS(s,a,l){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Qs,l)}catch{}switch(l.tag){case 26:Ut||yr(l,a),Es(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ut||yr(l,a);var c=tn,m=_r;for(tn=l.stateNode,Es(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);vo(l),tn=c,_r=m;break;case 5:Ut||yr(l,a);case 6:m=tn;var y=_r;if(tn=null,Es(s,a,l),tn=m,_r=y,tn!==null)if(_r)try{s=tn,c=l.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(A){dt(l,a,A)}else try{tn.removeChild(l.stateNode)}catch(A){dt(l,a,A)}break;case 18:tn!==null&&(_r?(a=tn,l=l.stateNode,a.nodeType===8?kv(a.parentNode,l):a.nodeType===1&&kv(a,l),zh(a)):kv(tn,l.stateNode));break;case 4:c=tn,m=_r,tn=l.stateNode.containerInfo,_r=!0,Es(s,a,l),tn=c,_r=m;break;case 0:case 11:case 14:case 15:Ut||va(2,l,a),Ut||va(4,l,a),Es(s,a,l);break;case 1:Ut||(yr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&DS(l,a,c)),Es(s,a,l);break;case 21:Es(s,a,l);break;case 22:Ut||yr(l,a),Ut=(c=Ut)||l.memoizedState!==null,Es(s,a,l),Ut=c;break;default:Es(s,a,l)}}function jS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{zh(s)}catch(l){dt(a,a.return,l)}}function h2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new MS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new MS),a;default:throw Error(r(435,s.tag))}}function nv(s,a){var l=h2(s);a.forEach(function(c){var m=S2.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function qr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,A=a,k=A;e:for(;k!==null;){switch(k.tag){case 27:case 5:tn=k.stateNode,_r=!1;break e;case 3:tn=k.stateNode.containerInfo,_r=!0;break e;case 4:tn=k.stateNode.containerInfo,_r=!0;break e}k=k.return}if(tn===null)throw Error(r(160));FS(y,A,m),tn=null,_r=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)zS(a,s),a=a.sibling}var ii=null;function zS(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qr(a,s),Hr(s),c&4&&(va(3,s,s.return),Sh(3,s),va(5,s,s.return));break;case 1:qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),c&64&&vs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ii;if(qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[na]||y[_n]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),On(y,c,l),y[_n]=s,Pt(y),c=y;break e;case"link":var A=kA("link","href",m).get(c+(l.href||""));if(A){for(var k=0;k<A.length;k++)if(y=A[k],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(k,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;case"meta":if(A=kA("meta","content",m).get(c+(l.content||""))){for(k=0;k<A.length;k++)if(y=A[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(k,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[_n]=s,Pt(y),c=y}s.stateNode=c}else NA(m,s.type,s.stateNode);else s.stateNode=DA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?NA(m,s.type,s.stateNode):DA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&NS(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var F=m.firstChild;F;){var K=F.nextSibling,ce=F.nodeName;F[na]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&F.rel.toLowerCase()==="stylesheet"||m.removeChild(F),F=K}for(var fe=s.type,Z=m.attributes;Z.length;)m.removeAttributeNode(Z[0]);On(m,fe,y),m[_n]=s,m[cn]=y}catch(Ie){dt(s,s.return,Ie)}}case 5:if(qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),s.flags&32){m=s.stateNode;try{Nr(m,"")}catch(Ie){dt(s,s.return,Ie)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,NS(s,m,l!==null?l.memoizedProps:m)),c&1024&&(tv=!0);break;case 6:if(qr(a,s),Hr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Ie){dt(s,s.return,Ie)}}break;case 3:if(nm=null,m=ii,ii=em(a.containerInfo),qr(a,s),ii=m,Hr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{zh(a.containerInfo)}catch(Ie){dt(s,s.return,Ie)}tv&&(tv=!1,qS(s));break;case 4:c=ii,ii=em(s.stateNode.containerInfo),qr(a,s),Hr(s),ii=c;break;case 12:qr(a,s),Hr(s);break;case 13:qr(a,s),Hr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hv=ir()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nv(s,c)));break;case 22:if(c&512&&(Ut||l===null||yr(l,l.return)),F=s.memoizedState!==null,K=l!==null&&l.memoizedState!==null,ce=vs,fe=Ut,vs=ce||F,Ut=fe||K,qr(a,s),Ut=fe,vs=ce,Hr(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=F?a._visibility&-2:a._visibility|1,F&&(a=vs||Ut,l===null||K||a||lu(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){K=l=a;try{if(m=K.stateNode,F)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode,k=K.memoizedProps.style;var le=k!=null&&k.hasOwnProperty("display")?k.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ie){dt(K,K.return,Ie)}}}else if(a.tag===6){if(l===null){K=a;try{K.stateNode.nodeValue=F?"":K.memoizedProps}catch(Ie){dt(K,K.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,nv(s,l))));break;case 19:qr(a,s),Hr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,nv(s,c)));break;case 21:break;default:qr(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(VS(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,y=Z_(s);Bp(s,y,m);break;case 5:var A=c.stateNode;c.flags&32&&(Nr(A,""),c.flags&=-33);var k=Z_(s);Bp(s,k,A);break;case 3:case 4:var F=c.stateNode.containerInfo,K=Z_(s);ev(s,K,F);break;default:throw Error(r(161))}}}catch(ce){dt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function qS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;qS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function bs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)US(s,a.alternate,a),a=a.sibling}function lu(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:va(4,a,a.return),lu(a);break;case 1:yr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&DS(a,a.return,l),lu(a);break;case 26:case 27:case 5:yr(a,a.return),lu(a);break;case 22:yr(a,a.return),a.memoizedState===null&&lu(a);break;default:lu(a)}s=s.sibling}}function Ea(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:Ea(m,y,l),Sh(4,y);break;case 1:if(Ea(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){dt(c,c.return,K)}if(c=y,m=c.updateQueue,m!==null){var k=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)PS(F[m],k)}catch(K){dt(c,c.return,K)}}l&&A&64&&OS(y),qo(y,y.return);break;case 26:case 27:case 5:Ea(m,y,l),l&&c===null&&A&4&&kS(y),qo(y,y.return);break;case 12:Ea(m,y,l);break;case 13:Ea(m,y,l),l&&A&4&&jS(m,y);break;case 22:y.memoizedState===null&&Ea(m,y,l),qo(y,y.return);break;default:Ea(m,y,l)}a=a.sibling}}function rv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ph(l))}function iv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ph(s))}function ba(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)HS(s,a,l,c),a=a.sibling}function HS(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ba(s,a,l,c),m&2048&&Sh(9,a);break;case 3:ba(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ph(s)));break;case 12:if(m&2048){ba(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,k=y.onPostCommit;typeof k=="function"&&k(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){dt(a,a.return,F)}}else ba(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?ba(s,a,l,c):Ah(s,a):y._visibility&4?ba(s,a,l,c):(y._visibility|=4,uu(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&rv(a.alternate,a);break;case 24:ba(s,a,l,c),m&2048&&iv(a.alternate,a);break;default:ba(s,a,l,c)}}function uu(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,k=l,F=c,K=A.flags;switch(A.tag){case 0:case 11:case 15:uu(y,A,k,F,m),Sh(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?uu(y,A,k,F,m):Ah(y,A):(ce._visibility|=4,uu(y,A,k,F,m)),m&&K&2048&&rv(A.alternate,A);break;case 24:uu(y,A,k,F,m),m&&K&2048&&iv(A.alternate,A);break;default:uu(y,A,k,F,m)}a=a.sibling}}function Ah(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Ah(l,c),m&2048&&rv(c.alternate,c);break;case 24:Ah(l,c),m&2048&&iv(c.alternate,c);break;default:Ah(l,c)}a=a.sibling}}var Ih=8192;function cu(s){if(s.subtreeFlags&Ih)for(s=s.child;s!==null;)$S(s),s=s.sibling}function $S(s){switch(s.tag){case 26:cu(s),s.flags&Ih&&s.memoizedState!==null&&Z2(ii,s.memoizedState,s.memoizedProps);break;case 5:cu(s);break;case 3:case 4:var a=ii;ii=em(s.stateNode.containerInfo),cu(s),ii=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Ih,Ih=16777216,cu(s),Ih=a):cu(s));break;default:cu(s)}}function GS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Rh(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,WS(c,s)}GS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)KS(s),s=s.sibling}function KS(s){switch(s.tag){case 0:case 11:case 15:Rh(s),s.flags&2048&&va(9,s,s.return);break;case 3:Rh(s);break;case 12:Rh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,Fp(s)):Rh(s);break;default:Rh(s)}}function Fp(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,WS(c,s)}GS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:va(8,a,a.return),Fp(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,Fp(a));break;default:Fp(a)}s=s.sibling}}function WS(s,a){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:va(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ph(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=s;wn!==null;){c=wn;var m=c.sibling,y=c.return;if(BS(c),c===l){wn=null;break e}if(m!==null){m.return=y,wn=m;break e}wn=y}}}function d2(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,a,l,c){return new d2(s,a,l,c)}function sv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wa(s,a){var l=s.alternate;return l===null?(l=$r(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function QS(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function jp(s,a,l,c,m,y){var A=0;if(c=s,typeof s=="function")sv(s)&&(A=1);else if(typeof s=="string")A=X2(s,l,Et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return Ho(l.children,m,y,a);case f:A=8,m|=24;break;case g:return s=$r(12,l,a,m|2),s.elementType=g,s.lanes=y,s;case I:return s=$r(13,l,a,m),s.elementType=I,s.lanes=y,s;case P:return s=$r(19,l,a,m),s.elementType=P,s.lanes=y,s;case U:return YS(l,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case T:A=10;break e;case v:A=9;break e;case w:A=11;break e;case L:A=14;break e;case M:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=$r(A,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function Ho(s,a,l,c){return s=$r(7,s,c,a),s.lanes=l,s}function YS(s,a,l,c){s=$r(22,s,c,a),s.elementType=U,s.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var A=ca(y,2);A!==null&&(m._pendingVisibility|=2,Xn(A,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if(m._pendingVisibility&2){var A=ca(y,2);A!==null&&(m._pendingVisibility&=-3,Xn(A,y,2))}}};return s.stateNode=m,s}function av(s,a,l){return s=$r(6,s,null,a),s.lanes=l,s}function ov(s,a,l){return a=$r(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function ws(s){s.flags|=4}function XS(s,a){if(a.type!=="stylesheet"||a.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!VA(a)){if(a=zr.current,a!==null&&((Ye&4194176)===Ye?Ai!==null:(Ye&62914560)!==Ye&&!(Ye&536870912)||a!==Ai))throw hh=d_,pT;s.flags|=8192}}function zp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Js():536870912,s.lanes|=a,du|=a)}function Ch(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function xt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function f2(s,a,l){var c=a.pendingProps;switch(c_(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(a),null;case 1:return xt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),_s(pn),Mn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(oh(a)?ws(a):s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ri!==null&&(mv(ri),ri=null))),xt(a),null;case 26:return l=a.memoizedState,s===null?(ws(a),l!==null?(xt(a),XS(a,l)):(xt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ws(a),xt(a),XS(a,l)):(xt(a),a.flags&=-16777217):(s.memoizedProps!==c&&ws(a),xt(a),a.flags&=-16777217),null;case 27:Ln(a),l=at.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return xt(a),null}s=Et.current,oh(a)?dT(a):(s=RA(m,c,l),a.stateNode=s,ws(a))}return xt(a),null;case 5:if(Ln(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return xt(a),null}if(s=Et.current,oh(a))dT(a);else{switch(m=Zp(at.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[_n]=a,s[cn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(On(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ws(a)}}return xt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&ws(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=at.current,oh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Yn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[_n]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||bA(s.nodeValue,l)),s||No(a)}else s=Zp(s).createTextNode(c),s[_n]=a,a.stateNode=s}return xt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=oh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[_n]=a}else lh(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;xt(a),m=!1}else ri!==null&&(mv(ri),ri=null),m=!0;if(!m)return a.flags&256?(ps(a),a):(ps(a),null)}if(ps(a),a.flags&128)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),zp(a,a.updateQueue),xt(a),null;case 4:return Mn(),s===null&&Iv(a.stateNode.containerInfo),xt(a),null;case 10:return _s(a.type),xt(a),null;case 19:if(_t(fn),m=a.memoizedState,m===null)return xt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Ch(m,!1);else{if(Bt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(y=Ap(s),y!==null){for(a.flags|=128,Ch(m,!1),s=y.updateQueue,a.updateQueue=s,zp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)QS(l,s),l=l.sibling;return $e(fn,fn.current&1|2),a.child}s=s.sibling}m.tail!==null&&ir()>qp&&(a.flags|=128,c=!0,Ch(m,!1),a.lanes=4194304)}else{if(!c)if(s=Ap(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,zp(a,s),Ch(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return xt(a),null}else 2*ir()-m.renderingStartTime>qp&&l!==536870912&&(a.flags|=128,c=!0,Ch(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ir(),a.sibling=null,s=fn.current,$e(fn,c?s&1|2:s&1),a):(xt(a),null);case 22:case 23:return ps(a),p_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?l&536870912&&!(a.flags&128)&&(xt(a),a.subtreeFlags&6&&(a.flags|=8192)):xt(a),l=a.updateQueue,l!==null&&zp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&_t(Mo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),_s(pn),xt(a),null;case 25:return null}throw Error(r(156,a.tag))}function p2(s,a){switch(c_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return _s(pn),Mn(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ln(a),null;case 13:if(ps(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));lh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(fn),null;case 4:return Mn(),null;case 10:return _s(a.type),null;case 22:case 23:return ps(a),p_(),s!==null&&_t(Mo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return _s(pn),null;case 25:return null;default:return null}}function JS(s,a){switch(c_(a),a.tag){case 3:_s(pn),Mn();break;case 26:case 27:case 5:Ln(a);break;case 4:Mn();break;case 13:ps(a);break;case 19:_t(fn);break;case 10:_s(a.type);break;case 22:case 23:ps(a),p_(),s!==null&&_t(Mo);break;case 24:_s(pn)}}var m2={getCacheForType:function(s){var a=Bn(pn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},g2=typeof WeakMap=="function"?WeakMap:Map,Ot=0,mt=null,Fe=null,Ye=0,gt=0,vr=null,Ts=!1,hu=!1,lv=!1,Ss=0,Bt=0,Ta=0,$o=0,uv=0,Gr=0,du=0,Ph=null,Ri=null,cv=!1,hv=0,qp=1/0,Hp=null,Sa=null,$p=!1,Go=null,xh=0,dv=0,fv=null,Oh=0,pv=null;function Er(){if(Ot&2&&Ye!==0)return Ye&-Ye;if(R.T!==null){var s=ru;return s!==0?s:wv()}return Xf()}function ZS(){Gr===0&&(Gr=!(Ye&536870912)||et?qc():536870912);var s=zr.current;return s!==null&&(s.flags|=32),Gr}function Xn(s,a,l){(s===mt&&gt===2||s.cancelPendingCommit!==null)&&(fu(s,0),As(s,Ye,Gr,!1)),Gt(s,l),(!(Ot&2)||s!==mt)&&(s===mt&&(!(Ot&2)&&($o|=l),Bt===4&&As(s,Ye,Gr,!1)),Ci(s))}function eA(s,a,l){if(Ot&6)throw Error(r(327));var c=!l&&(a&60)===0&&(a&s.expiredLanes)===0||Xs(s,a),m=c?v2(s,a):_v(s,a,!0),y=c;do{if(m===0){hu&&!c&&As(s,a,0,!1);break}else if(m===6)As(s,a,0,!Ts);else{if(l=s.current.alternate,y&&!y2(l)){m=_v(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var k=s;m=Ph;var F=k.current.memoizedState.isDehydrated;if(F&&(fu(k,A).flags|=256),A=_v(k,A,!1),A!==2){if(lv&&!F){k.errorRecoveryDisabledLanes|=y,$o|=y,m=4;break e}y=Ri,Ri=m,y!==null&&mv(y)}m=A}if(y=!1,m!==2)continue}}if(m===1){fu(s,0),As(s,a,0,!0);break}e:{switch(c=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){As(c,a,Gr,!Ts);break e}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=hv+300-ir(),10<y)){if(As(c,a,Gr,!Ts),Dr(c,0)!==0)break e;c.timeoutHandle=SA(tA.bind(null,c,l,Ri,Hp,cv,a,Gr,$o,du,Ts,2,-0,0),y);break e}tA(c,l,Ri,Hp,cv,a,Gr,$o,du,Ts,0,-0,0)}}break}while(!0);Ci(s)}function mv(s){Ri===null?Ri=s:Ri.push.apply(Ri,s)}function tA(s,a,l,c,m,y,A,k,F,K,ce,fe,Z){var le=a.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Lh={stylesheets:null,count:0,unsuspend:J2},$S(a),a=eV(),a!==null)){s.cancelPendingCommit=a(lA.bind(null,s,l,c,m,A,k,F,1,fe,Z)),As(s,y,A,!K);return}lA(s,l,c,m,A,k,F,ce,fe,Z)}function y2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!gr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function As(s,a,l,c){a&=~uv,a&=~$o,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-Kn(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&Zs(s,l,a)}function Gp(){return Ot&6?!0:(Dh(0),!1)}function gv(){if(Fe!==null){if(gt===0)var s=Fe.return;else s=Fe,ys=jo=null,w_(s),tu=null,dh=0,s=Fe;for(;s!==null;)JS(s.alternate,s),s=s.return;Fe=null}}function fu(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,M2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),gv(),mt=s,Fe=l=wa(s.current,null),Ye=a,gt=0,vr=null,Ts=!1,hu=Xs(s,a),lv=!1,du=Gr=uv=$o=Ta=Bt=0,Ri=Ph=null,cv=!1,a&8&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Kn(c),y=1<<m;a|=s[m],c&=~y}return Ss=a,gp(),l}function nA(s,a){Ue=null,R.H=Ii,a===ch?(a=yT(),gt=3):a===pT?(a=yT(),gt=4):gt=a===mS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,vr=a,Fe===null&&(Bt=1,Mp(s,Br(a,s.current)))}function rA(){var s=R.H;return R.H=Ii,s===null?Ii:s}function iA(){var s=R.A;return R.A=m2,s}function yv(){Bt=4,Ts||(Ye&4194176)!==Ye&&zr.current!==null||(hu=!0),!(Ta&134217727)&&!($o&134217727)||mt===null||As(mt,Ye,Gr,!1)}function _v(s,a,l){var c=Ot;Ot|=2;var m=rA(),y=iA();(mt!==s||Ye!==a)&&(Hp=null,fu(s,a)),a=!1;var A=Bt;e:do try{if(gt!==0&&Fe!==null){var k=Fe,F=vr;switch(gt){case 8:gv(),A=6;break e;case 3:case 2:case 6:zr.current===null&&(a=!0);var K=gt;if(gt=0,vr=null,pu(s,k,F,K),l&&hu){A=0;break e}break;default:K=gt,gt=0,vr=null,pu(s,k,F,K)}}_2(),A=Bt;break}catch(ce){nA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ys=jo=null,Ot=c,R.H=m,R.A=y,Fe===null&&(mt=null,Ye=0,gp()),A}function _2(){for(;Fe!==null;)sA(Fe)}function v2(s,a){var l=Ot;Ot|=2;var c=rA(),m=iA();mt!==s||Ye!==a?(Hp=null,qp=ir()+500,fu(s,a)):hu=Xs(s,a);e:do try{if(gt!==0&&Fe!==null){a=Fe;var y=vr;t:switch(gt){case 1:gt=0,vr=null,pu(s,a,y,1);break;case 2:if(mT(y)){gt=0,vr=null,aA(a);break}a=function(){gt===2&&mt===s&&(gt=7),Ci(s)},y.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:mT(y)?(gt=0,vr=null,aA(a)):(gt=0,vr=null,pu(s,a,y,7));break;case 5:var A=null;switch(Fe.tag){case 26:A=Fe.memoizedState;case 5:case 27:var k=Fe;if(!A||VA(A)){gt=0,vr=null;var F=k.sibling;if(F!==null)Fe=F;else{var K=k.return;K!==null?(Fe=K,Kp(K)):Fe=null}break t}}gt=0,vr=null,pu(s,a,y,5);break;case 6:gt=0,vr=null,pu(s,a,y,6);break;case 8:gv(),Bt=6;break e;default:throw Error(r(462))}}E2();break}catch(ce){nA(s,ce)}while(!0);return ys=jo=null,R.H=c,R.A=m,Ot=l,Fe!==null?0:(mt=null,Ye=0,gp(),Bt)}function E2(){for(;Fe!==null&&!Gy();)sA(Fe)}function sA(s){var a=RS(s.alternate,s,Ss);s.memoizedProps=s.pendingProps,a===null?Kp(s):Fe=a}function aA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=bS(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=bS(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:w_(a);default:JS(l,a),a=Fe=QS(a,Ss),a=RS(l,a,Ss)}s.memoizedProps=s.pendingProps,a===null?Kp(s):Fe=a}function pu(s,a,l,c){ys=jo=null,w_(a),tu=null,dh=0;var m=a.return;try{if(l2(s,m,a,l,Ye)){Bt=1,Mp(s,Br(l,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;Bt=1,Mp(s,Br(l,s.current)),Fe=null;return}a.flags&32768?(et||c===1?s=!0:hu||Ye&536870912?s=!1:(Ts=s=!0,(c===2||c===3||c===6)&&(c=zr.current,c!==null&&c.tag===13&&(c.flags|=16384))),oA(a,s)):Kp(a)}function Kp(s){var a=s;do{if(a.flags&32768){oA(a,Ts);return}s=a.return;var l=f2(a.alternate,a,Ss);if(l!==null){Fe=l;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=s}while(a!==null);Bt===0&&(Bt=5)}function oA(s,a){do{var l=p2(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);Bt=6,Fe=null}function lA(s,a,l,c,m,y,A,k,F,K){var ce=R.T,fe=ye.p;try{ye.p=2,R.T=null,b2(s,a,l,c,fe,m,y,A,k,F,K)}finally{R.T=ce,ye.p=fe}}function b2(s,a,l,c,m,y,A,k){do mu();while(Go!==null);if(Ot&6)throw Error(r(327));var F=s.finishedWork;if(c=s.finishedLanes,F===null)return null;if(s.finishedWork=null,s.finishedLanes=0,F===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var K=F.lanes|F.childLanes;if(K|=o_,Qf(s,c,K,y,A,k),s===mt&&(Fe=mt=null,Ye=0),!(F.subtreeFlags&10256)&&!(F.flags&10256)||$p||($p=!0,dv=K,fv=l,A2(ns,function(){return mu(),null})),l=(F.flags&15990)!==0,F.subtreeFlags&15990||l?(l=R.T,R.T=null,y=ye.p,ye.p=2,A=Ot,Ot|=4,c2(s,F),zS(F,s),$N(xv,s.containerInfo),sm=!!Pv,xv=Pv=null,s.current=F,US(s,F.alternate,F),Bc(),Ot=A,ye.p=y,R.T=l):s.current=F,$p?($p=!1,Go=s,xh=c):uA(s,K),K=s.pendingLanes,K===0&&(Sa=null),jc(F.stateNode),Ci(s),a!==null)for(m=s.onRecoverableError,F=0;F<a.length;F++)K=a[F],m(K.value,{componentStack:K.stack});return xh&3&&mu(),K=s.pendingLanes,c&4194218&&K&42?s===pv?Oh++:(Oh=0,pv=s):Oh=0,Dh(0),null}function uA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ph(a)))}function mu(){if(Go!==null){var s=Go,a=dv;dv=0;var l=Yf(xh),c=R.T,m=ye.p;try{if(ye.p=32>l?32:l,R.T=null,Go===null)var y=!1;else{l=fv,fv=null;var A=Go,k=xh;if(Go=null,xh=0,Ot&6)throw Error(r(331));var F=Ot;if(Ot|=4,KS(A.current),HS(A,A.current,k,l),Ot=F,Dh(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Qs,A)}catch{}y=!0}return y}finally{ye.p=m,R.T=c,uA(s,a)}}return!1}function cA(s,a,l){a=Br(l,a),a=M_(s.stateNode,a,2),s=_a(s,a,2),s!==null&&(Gt(s,2),Ci(s))}function dt(s,a,l){if(s.tag===3)cA(s,s,l);else for(;a!==null;){if(a.tag===3){cA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sa===null||!Sa.has(c))){s=Br(l,s),l=fS(2),c=_a(a,l,2),c!==null&&(pS(l,c,a,s),Gt(c,2),Ci(c));break}}a=a.return}}function vv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new g2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(lv=!0,m.add(l),s=w2.bind(null,s,a,l),a.then(s,s))}function w2(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Ye&l)===l&&(Bt===4||Bt===3&&(Ye&62914560)===Ye&&300>ir()-hv?!(Ot&2)&&fu(s,0):uv|=l,du===Ye&&(du=0)),Ci(s)}function hA(s,a){a===0&&(a=Js()),s=ca(s,a),s!==null&&(Gt(s,a),Ci(s))}function T2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),hA(s,l)}function S2(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),hA(s,l)}function A2(s,a){return Zr(s,a)}var Wp=null,gu=null,Ev=!1,Qp=!1,bv=!1,Ko=0;function Ci(s){s!==gu&&s.next===null&&(gu===null?Wp=gu=s:gu=gu.next=s),Qp=!0,Ev||(Ev=!0,R2(I2))}function Dh(s,a){if(!bv&&Qp){bv=!0;do for(var l=!1,c=Wp;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-Kn(42|s)+1)-1,y&=m&~(A&~k),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,pA(c,y))}else y=Ye,y=Dr(c,c===mt?y:0),!(y&3)||Xs(c,y)||(l=!0,pA(c,y));c=c.next}while(l);bv=!1}}function I2(){Qp=Ev=!1;var s=0;Ko!==0&&(V2()&&(s=Ko),Ko=0);for(var a=ir(),l=null,c=Wp;c!==null;){var m=c.next,y=dA(c,a);y===0?(c.next=null,l===null?Wp=m:l.next=m,m===null&&(gu=l)):(l=c,(s!==0||y&3)&&(Qp=!0)),c=m}Dh(s)}function dA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Kn(y),k=1<<A,F=m[A];F===-1?(!(k&l)||k&c)&&(m[A]=Nl(k,a)):F<=a&&(s.expiredLanes|=k),y&=~k}if(a=mt,l=Ye,l=Dr(s,s===a?l:0),c=s.callbackNode,l===0||s===a&&gt===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&kl(c),s.callbackNode=null,s.callbackPriority=0;if(!(l&3)||Xs(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&kl(c),Yf(l)){case 2:case 8:l=yn;break;case 32:l=ns;break;case 268435456:l=Fc;break;default:l=ns}return c=fA.bind(null,s),l=Zr(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&kl(c),s.callbackPriority=2,s.callbackNode=null,2}function fA(s,a){var l=s.callbackNode;if(mu()&&s.callbackNode!==l)return null;var c=Ye;return c=Dr(s,s===mt?c:0),c===0?null:(eA(s,c,a),dA(s,ir()),s.callbackNode!=null&&s.callbackNode===l?fA.bind(null,s):null)}function pA(s,a){if(mu())return null;eA(s,a,!0)}function R2(s){L2(function(){Ot&6?Zr(un,s):s()})}function wv(){return Ko===0&&(Ko=qc()),Ko}function mA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yi(""+s)}function gA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function C2(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=mA((m[cn]||null).action),A=c.submitter;A&&(a=(a=A[cn]||null)?mA(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var k=new jl("action","action",null,c,m);s.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ko!==0){var F=A?gA(m,A):new FormData(m);O_(l,{pending:!0,data:F,method:m.method,action:y},null,F)}}else typeof y=="function"&&(k.preventDefault(),F=A?gA(m,A):new FormData(m),O_(l,{pending:!0,data:F,method:m.method,action:y},y,F))},currentTarget:m}]})}}for(var Tv=0;Tv<lT.length;Tv++){var Sv=lT[Tv],P2=Sv.toLowerCase(),x2=Sv[0].toUpperCase()+Sv.slice(1);ni(P2,"on"+x2)}ni(rT,"onAnimationEnd"),ni(iT,"onAnimationIteration"),ni(sT,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(KN,"onTransitionRun"),ni(WN,"onTransitionStart"),ni(QN,"onTransitionCancel"),ni(aT,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function yA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var k=c[A],F=k.instance,K=k.currentTarget;if(k=k.listener,F!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=K;try{y(m)}catch(ce){Vp(ce)}m.currentTarget=null,y=F}else for(A=0;A<c.length;A++){if(k=c[A],F=k.instance,K=k.currentTarget,k=k.listener,F!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=K;try{y(m)}catch(ce){Vp(ce)}m.currentTarget=null,y=F}}}}function Ge(s,a){var l=a[_o];l===void 0&&(l=a[_o]=new Set);var c=s+"__bubble";l.has(c)||(_A(a,s,2,!1),l.add(c))}function Av(s,a,l){var c=0;a&&(c|=4),_A(l,s,c,a)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function Iv(s){if(!s[Yp]){s[Yp]=!0,$c.forEach(function(l){l!=="selectionchange"&&(O2.has(l)||Av(l,!1,s),Av(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Yp]||(a[Yp]=!0,Av("selectionchange",!1,a))}}function _A(s,a,l,c){switch(jA(a)){case 2:var m=rV;break;case 8:m=iV;break;default:m=Bv}l=m.bind(null,a,l,s),m=void 0,!Mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Rv(s,a,l,c,m){var y=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var k=c.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(A===4)for(A=c.return;A!==null;){var F=A.tag;if((F===3||F===4)&&(F=A.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;A=A.return}for(;k!==null;){if(A=ti(k),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){c=y=A;continue e}k=k.parentNode}}c=c.return}tp(function(){var K=y,ce=Fl(l),fe=[];e:{var Z=oT.get(s);if(Z!==void 0){var le=jl,Ie=s;switch(s){case"keypress":if(vi(l)===0)break e;case"keydown":case"keyup":le=Kl;break;case"focusin":Ie="focus",le=Hl;break;case"focusout":Ie="blur",le=Hl;break;case"beforeblur":case"afterblur":le=Hl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=up;break;case rT:case iT:case sT:le=$l;break;case aT:le=hp;break;case"scroll":case"scrollend":le=np;break;case"wheel":le=Wl;break;case"copy":case"cut":case"paste":le=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=rh;break;case"toggle":case"beforetoggle":le=fp}var Ne=(a&4)!==0,Ft=!Ne&&(s==="scroll"||s==="scrollend"),Q=Ne?Z!==null?Z+"Capture":null:Z;Ne=[];for(var G=K,J;G!==null;){var he=G;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||Q===null||(he=To(G,Q),he!=null&&Ne.push(Nh(G,he,J))),Ft)break;G=G.return}0<Ne.length&&(Z=new le(Z,Ie,null,l,ce),fe.push({event:Z,listeners:Ne}))}}if(!(a&7)){e:{if(Z=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",Z&&l!==Vr&&(Ie=l.relatedTarget||l.fromElement)&&(ti(Ie)||Ie[rs]))break e;if((le||Z)&&(Z=ce.window===ce?ce:(Z=ce.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(Ie=l.relatedTarget||l.toElement,le=K,Ie=Ie?ti(Ie):null,Ie!==null&&(Ft=ue(Ie),Ne=Ie.tag,Ie!==Ft||Ne!==5&&Ne!==27&&Ne!==6)&&(Ie=null)):(le=null,Ie=K),le!==Ie)){if(Ne=Lr,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=rh,he="onPointerLeave",Q="onPointerEnter",G="pointer"),Ft=le==null?Z:ra(le),J=Ie==null?Z:ra(Ie),Z=new Ne(he,G+"leave",le,l,ce),Z.target=Ft,Z.relatedTarget=J,he=null,ti(ce)===K&&(Ne=new Ne(Q,G+"enter",Ie,l,ce),Ne.target=J,Ne.relatedTarget=Ft,he=Ne),Ft=he,le&&Ie)t:{for(Ne=le,Q=Ie,G=0,J=Ne;J;J=yu(J))G++;for(J=0,he=Q;he;he=yu(he))J++;for(;0<G-J;)Ne=yu(Ne),G--;for(;0<J-G;)Q=yu(Q),J--;for(;G--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=yu(Ne),Q=yu(Q)}Ne=null}else Ne=null;le!==null&&vA(fe,Z,le,Ne,!1),Ie!==null&&Ft!==null&&vA(fe,Ft,Ie,Ne,!0)}}e:{if(Z=K?ra(K):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var Se=Gw;else if(dn(Z))if(Kw)Se=qN;else{Se=jN;var Be=FN}else le=Z.nodeName,!le||le.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&Yc(K.elementType)&&(Se=Gw):Se=zN;if(Se&&(Se=Se(s,K))){hs(fe,Se,l,ce);break e}Be&&Be(s,Z,K),s==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&Bl(Z,"number",Z.value)}switch(Be=K?ra(K):window,s){case"focusin":(dn(Be)||Be.contentEditable==="true")&&(Ql=Be,i_=K,ah=null);break;case"focusout":ah=i_=Ql=null;break;case"mousedown":s_=!0;break;case"contextmenu":case"mouseup":case"dragend":s_=!1,tT(fe,l,ce);break;case"selectionchange":if(GN)break;case"keydown":case"keyup":tT(fe,l,ce)}var Ce;if(wi)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else We?re(s,l)&&(xe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(S&&l.locale!=="ko"&&(We||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&We&&(Ce=Jc()):(_i=ce,ua="value"in _i?_i.value:_i.textContent,We=!0)),Be=Xp(K,xe),0<Be.length&&(xe=new th(xe,s,null,l,ce),fe.push({event:xe,listeners:Be}),Ce?xe.data=Ce:(Ce=ge(l),Ce!==null&&(xe.data=Ce)))),(Ce=E?hn(s,l):Qe(s,l))&&(xe=Xp(K,"onBeforeInput"),0<xe.length&&(Be=new th("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Be,listeners:xe}),Be.data=Ce)),C2(fe,s,K,l,ce)}yA(fe,a)})}function Nh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Xp(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=To(s,l),m!=null&&c.unshift(Nh(s,m,y)),m=To(s,a),m!=null&&c.push(Nh(s,m,y))),s=s.return}return c}function yu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function vA(s,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var k=l,F=k.alternate,K=k.stateNode;if(k=k.tag,F!==null&&F===c)break;k!==5&&k!==26&&k!==27||K===null||(F=K,m?(K=To(l,y),K!=null&&A.unshift(Nh(l,K,F))):m||(K=To(l,y),K!=null&&A.push(Nh(l,K,F)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var D2=/\r\n?/g,k2=/\u0000|\uFFFD/g;function EA(s){return(typeof s=="string"?s:""+s).replace(D2,`
`).replace(k2,"")}function bA(s,a){return a=EA(a),EA(s)===a}function Jp(){}function ct(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Nr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Nr(s,""+c);break;case"className":aa(s,"class",c);break;case"tabIndex":aa(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":aa(s,l,c);break;case"style":ep(s,c,y);break;case"data":if(a!=="object"){aa(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=yi(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ct(s,a,"name",m.name,m,null),ct(s,a,"formEncType",m.formEncType,m,null),ct(s,a,"formMethod",m.formMethod,m,null),ct(s,a,"formTarget",m.formTarget,m,null)):(ct(s,a,"encType",m.encType,m,null),ct(s,a,"method",m.method,m,null),ct(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=yi(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Jp);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=yi(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),sa(s,"popover",c);break;case"xlinkActuate":kr(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kr(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kr(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kr(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kr(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kr(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kr(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":sa(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xy.get(l)||l,sa(s,l,c))}}function Cv(s,a,l,c,m,y){switch(l){case"style":ep(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Nr(s,c):(typeof c=="number"||typeof c=="bigint")&&Nr(s,""+c);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Jp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[cn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):sa(s,l,c)}}}function On(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,y,A,l,null)}}m&&ct(s,a,"srcSet",l.srcSet,l,null),c&&ct(s,a,"src",l.src,l,null);return;case"input":Ge("invalid",s);var k=y=A=m=null,F=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":F=ce;break;case"defaultChecked":K=ce;break;case"value":y=ce;break;case"defaultValue":k=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(s,a,c,ce,l,null)}}bo(s,y,k,F,K,A,m,!1),Eo(s);return;case"select":Ge("invalid",s),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(k=l[m],k!=null))switch(m){case"value":y=k;break;case"defaultValue":A=k;break;case"multiple":c=k;default:ct(s,a,m,k,l,null)}a=y,l=A,s.multiple=!!c,a!=null?Ze(s,!!c,a,!1):l!=null&&Ze(s,!!c,l,!0);return;case"textarea":Ge("invalid",s),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(k=l[A],k!=null))switch(A){case"value":c=k;break;case"defaultValue":m=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ct(s,a,A,k,l,null)}la(s,c,m,y),Eo(s);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(s,a,F,c,l,null)}return;case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(c=0;c<kh.length;c++)Ge(kh[c],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,K,c,l,null)}return;default:if(Yc(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Cv(s,a,ce,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&ct(s,a,k,c,l,null))}function N2(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,k=null,F=null,K=null,ce=null;for(le in l){var fe=l[le];if(l.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":F=fe;default:c.hasOwnProperty(le)||ct(s,a,le,null,c,fe)}}for(var Z in c){var le=c[Z];if(fe=l[Z],c.hasOwnProperty(Z)&&(le!=null||fe!=null))switch(Z){case"type":y=le;break;case"name":m=le;break;case"checked":K=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==fe&&ct(s,a,Z,le,c,fe)}}oa(s,A,k,F,K,ce,y,m);return;case"select":le=A=k=Z=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":le=F;default:c.hasOwnProperty(y)||ct(s,a,y,null,c,F)}for(m in c)if(y=c[m],F=l[m],c.hasOwnProperty(m)&&(y!=null||F!=null))switch(m){case"value":Z=y;break;case"defaultValue":k=y;break;case"multiple":A=y;default:y!==F&&ct(s,a,m,y,c,F)}a=k,l=A,c=le,Z!=null?Ze(s,!!l,Z,!1):!!c!=!!l&&(a!=null?Ze(s,!!l,a,!0):Ze(s,!!l,l?[]:"",!1));return;case"textarea":le=Z=null;for(k in l)if(m=l[k],l.hasOwnProperty(k)&&m!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ct(s,a,k,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":Z=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ct(s,a,A,m,c,y)}wo(s,Z,le);return;case"option":for(var Ie in l)if(Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:ct(s,a,Ie,null,c,Z)}for(F in c)if(Z=c[F],le=l[F],c.hasOwnProperty(F)&&Z!==le&&(Z!=null||le!=null))switch(F){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ct(s,a,F,Z,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)Z=l[Ne],l.hasOwnProperty(Ne)&&Z!=null&&!c.hasOwnProperty(Ne)&&ct(s,a,Ne,null,c,Z);for(K in c)if(Z=c[K],le=l[K],c.hasOwnProperty(K)&&Z!==le&&(Z!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:ct(s,a,K,Z,c,le)}return;default:if(Yc(a)){for(var Ft in l)Z=l[Ft],l.hasOwnProperty(Ft)&&Z!==void 0&&!c.hasOwnProperty(Ft)&&Cv(s,a,Ft,void 0,c,Z);for(ce in c)Z=c[ce],le=l[ce],!c.hasOwnProperty(ce)||Z===le||Z===void 0&&le===void 0||Cv(s,a,ce,Z,c,le);return}}for(var Q in l)Z=l[Q],l.hasOwnProperty(Q)&&Z!=null&&!c.hasOwnProperty(Q)&&ct(s,a,Q,null,c,Z);for(fe in c)Z=c[fe],le=l[fe],!c.hasOwnProperty(fe)||Z===le||Z==null&&le==null||ct(s,a,fe,Z,c,le)}var Pv=null,xv=null;function Zp(s){return s.nodeType===9?s:s.ownerDocument}function wA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ov(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dv=null;function V2(){var s=window.event;return s&&s.type==="popstate"?s===Dv?!1:(Dv=s,!0):(Dv=null,!1)}var SA=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,AA=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof AA<"u"?function(s){return AA.resolve(null).then(s).catch(U2)}:SA;function U2(s){setTimeout(function(){throw s})}function kv(s,a){var l=a,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){s.removeChild(m),zh(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);zh(a)}function Nv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Nv(l),vo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function B2(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[na])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=si(s.nextSibling),s===null)break}return null}function F2(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=si(s.nextSibling),s===null))return null;return s}function si(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function IA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function RA(s,a,l){switch(a=Zp(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var Kr=new Map,CA=new Set;function em(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Is=ye.d;ye.d={f:j2,r:z2,D:q2,C:H2,L:$2,m:G2,X:W2,S:K2,M:Q2};function j2(){var s=Is.f(),a=Gp();return s||a}function z2(s){var a=is(s);a!==null&&a.tag===5&&a.type==="form"?tS(a):Is.r(s)}var _u=typeof document>"u"?null:document;function PA(s,a,l){var c=_u;if(c&&typeof a=="string"&&a){var m=Lt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),CA.has(m)||(CA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),On(a,"link",s),Pt(a),c.head.appendChild(a)))}}function q2(s){Is.D(s),PA("dns-prefetch",s,null)}function H2(s,a){Is.C(s,a),PA("preconnect",s,a)}function $2(s,a,l){Is.L(s,a,l);var c=_u;if(c&&s&&a){var m='link[rel="preload"][as="'+Lt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Lt(l.imageSizes)+'"]')):m+='[href="'+Lt(s)+'"]';var y=m;switch(a){case"style":y=vu(s);break;case"script":y=Eu(s)}Kr.has(y)||(s=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Kr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Vh(y))||a==="script"&&c.querySelector(Mh(y))||(a=c.createElement("link"),On(a,"link",s),Pt(a),c.head.appendChild(a)))}}function G2(s,a){Is.m(s,a);var l=_u;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Lt(c)+'"][href="'+Lt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Eu(s)}if(!Kr.has(y)&&(s=b({rel:"modulepreload",href:s},a),Kr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Mh(y)))return}c=l.createElement("link"),On(c,"link",s),Pt(c),l.head.appendChild(c)}}}function K2(s,a,l){Is.S(s,a,l);var c=_u;if(c&&s){var m=ia(c).hoistableStyles,y=vu(s);a=a||"default";var A=m.get(y);if(!A){var k={loading:0,preload:null};if(A=c.querySelector(Vh(y)))k.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Kr.get(y))&&Vv(s,l);var F=A=c.createElement("link");Pt(F),On(F,"link",s),F._p=new Promise(function(K,ce){F.onload=K,F.onerror=ce}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,tm(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:k},m.set(y,A)}}}function W2(s,a){Is.X(s,a);var l=_u;if(l&&s){var c=ia(l).hoistableScripts,m=Eu(s),y=c.get(m);y||(y=l.querySelector(Mh(m)),y||(s=b({src:s,async:!0},a),(a=Kr.get(m))&&Mv(s,a),y=l.createElement("script"),Pt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Q2(s,a){Is.M(s,a);var l=_u;if(l&&s){var c=ia(l).hoistableScripts,m=Eu(s),y=c.get(m);y||(y=l.querySelector(Mh(m)),y||(s=b({src:s,async:!0,type:"module"},a),(a=Kr.get(m))&&Mv(s,a),y=l.createElement("script"),Pt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function xA(s,a,l,c){var m=(m=at.current)?em(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=vu(l.href),l=ia(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=vu(l.href);var y=ia(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(Vh(s)))&&!y._p&&(A.instance=y,A.state.loading=5),Kr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kr.set(s,l),y||Y2(m,s,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Eu(l),l=ia(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function vu(s){return'href="'+Lt(s)+'"'}function Vh(s){return'link[rel="stylesheet"]['+s+"]"}function OA(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function Y2(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),On(a,"link",l),Pt(a),s.head.appendChild(a))}function Eu(s){return'[src="'+Lt(s)+'"]'}function Mh(s){return"script[async]"+s}function DA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(c)return a.instance=c,Pt(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Pt(c),On(c,"style",m),tm(c,l.precedence,s),a.instance=c;case"stylesheet":m=vu(l.href);var y=s.querySelector(Vh(m));if(y)return a.state.loading|=4,a.instance=y,Pt(y),y;c=OA(l),(m=Kr.get(m))&&Vv(c,m),y=(s.ownerDocument||s).createElement("link"),Pt(y);var A=y;return A._p=new Promise(function(k,F){A.onload=k,A.onerror=F}),On(y,"link",c),a.state.loading|=4,tm(y,l.precedence,s),a.instance=y;case"script":return y=Eu(l.src),(m=s.querySelector(Mh(y)))?(a.instance=m,Pt(m),m):(c=l,(m=Kr.get(y))&&(c=b({},l),Mv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Pt(m),On(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,tm(c,l.precedence,s));return a.instance}function tm(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var k=c[A];if(k.dataset.precedence===a)y=k;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Vv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Mv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var nm=null;function kA(s,a,l){if(nm===null){var c=new Map,m=nm=new Map;m.set(l,c)}else m=nm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[na]||y[_n]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var k=c.get(A);k?k.push(y):c.set(A,[y])}}return c}function NA(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function X2(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function VA(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var Lh=null;function J2(){}function Z2(s,a,l){if(Lh===null)throw Error(r(475));var c=Lh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=vu(l.href),y=s.querySelector(Vh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=rm.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Pt(y);return}y=s.ownerDocument||s,l=OA(l),(m=Kr.get(m))&&Vv(l,m),y=y.createElement("link"),Pt(y);var A=y;A._p=new Promise(function(k,F){A.onload=k,A.onerror=F}),On(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=rm.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function eV(){if(Lh===null)throw Error(r(475));var s=Lh;return s.stylesheets&&s.count===0&&Lv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Lv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function rm(){if(this.count--,this.count===0){if(this.stylesheets)Lv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var im=null;function Lv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,im=new Map,a.forEach(tV,s),im=null,rm.call(s))}function tV(s,a){if(!(a.state.loading&4)){var l=im.get(s);if(l)var c=l.get(null);else{l=new Map,im.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=rm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Uh={$$typeof:T,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function nV(s,a,l,c,m,y,A,k){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.hiddenUpdates=Vl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function MA(s,a,l,c,m,y,A,k,F,K,ce,fe){return s=new nV(s,a,l,A,k,F,K,fe),a=1,y===!0&&(a|=24),y=$r(3,null,null,a),s.current=y,y.stateNode=s,a=m_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},Q_(y),s}function LA(s){return s?(s=Jl,s):Jl}function UA(s,a,l,c,m,y){m=LA(m),c.context===null?c.context=m:c.pendingContext=m,c=ya(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=_a(s,c,a),l!==null&&(Xn(l,s,a),bh(l,s,a))}function BA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Uv(s,a){BA(s,a),(s=s.alternate)&&BA(s,a)}function FA(s){if(s.tag===13){var a=ca(s,67108864);a!==null&&Xn(a,s,67108864),Uv(s,67108864)}}var sm=!0;function rV(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=2,Bv(s,a,l,c)}finally{ye.p=y,R.T=m}}function iV(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=8,Bv(s,a,l,c)}finally{ye.p=y,R.T=m}}function Bv(s,a,l,c){if(sm){var m=Fv(c);if(m===null)Rv(s,a,c,am,l),zA(s,c);else if(aV(m,s,a,l,c))c.stopPropagation();else if(zA(s,c),a&4&&-1<sV.indexOf(s)){for(;m!==null;){var y=is(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ei(y.pendingLanes);if(A!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var F=1<<31-Kn(A);k.entanglements[1]|=F,A&=~F}Ci(y),!(Ot&6)&&(qp=ir()+500,Dh(0))}}break;case 13:k=ca(y,2),k!==null&&Xn(k,y,2),Gp(),Uv(y,2)}if(y=Fv(c),y===null&&Rv(s,a,c,am,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Rv(s,a,c,null,l)}}function Fv(s){return s=Fl(s),jv(s)}var am=null;function jv(s){if(am=null,s=ti(s),s!==null){var a=ue(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=Te(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return am=s,null}function jA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($f()){case un:return 2;case yn:return 8;case ns:case Gf:return 32;case Fc:return 268435456;default:return 32}default:return 32}}var zv=!1,Aa=null,Ia=null,Ra=null,Bh=new Map,Fh=new Map,Ca=[],sV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zA(s,a){switch(s){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Bh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fh.delete(a.pointerId)}}function jh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=is(a),a!==null&&FA(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function aV(s,a,l,c,m){switch(a){case"focusin":return Aa=jh(Aa,s,a,l,c,m),!0;case"dragenter":return Ia=jh(Ia,s,a,l,c,m),!0;case"mouseover":return Ra=jh(Ra,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return Bh.set(y,jh(Bh.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Fh.set(y,jh(Fh.get(y)||null,s,a,l,c,m)),!0}return!1}function qA(s){var a=ti(s.target);if(a!==null){var l=ue(a);if(l!==null){if(a=l.tag,a===13){if(a=Te(l),a!==null){s.blockedOn=a,ta(s.priority,function(){if(l.tag===13){var c=Er(),m=ca(l,c);m!==null&&Xn(m,l,c),Uv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function om(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Fv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Vr=c,l.target.dispatchEvent(c),Vr=null}else return a=is(l),a!==null&&FA(a),s.blockedOn=l,!1;a.shift()}return!0}function HA(s,a,l){om(s)&&l.delete(a)}function oV(){zv=!1,Aa!==null&&om(Aa)&&(Aa=null),Ia!==null&&om(Ia)&&(Ia=null),Ra!==null&&om(Ra)&&(Ra=null),Bh.forEach(HA),Fh.forEach(HA)}function lm(s,a){s.blockedOn===a&&(s.blockedOn=null,zv||(zv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oV)))}var um=null;function $A(s){um!==s&&(um=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){um===s&&(um=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(jv(c||l)===null)continue;break}var y=is(l);y!==null&&(s.splice(a,3),a-=3,O_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function zh(s){function a(F){return lm(F,s)}Aa!==null&&lm(Aa,s),Ia!==null&&lm(Ia,s),Ra!==null&&lm(Ra,s),Bh.forEach(a),Fh.forEach(a);for(var l=0;l<Ca.length;l++){var c=Ca[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ca.length&&(l=Ca[0],l.blockedOn===null);)qA(l),l.blockedOn===null&&Ca.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[cn]||null;if(typeof y=="function")A||$A(l);else if(A){var k=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[cn]||null)k=A.formAction;else if(jv(m)!==null)continue}else k=A.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),$A(l)}}}function qv(s){this._internalRoot=s}cm.prototype.render=qv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Er();UA(l,c,s,a,null,null)},cm.prototype.unmount=qv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&mu(),UA(s.current,2,null,s,null,null),Gp(),a[rs]=null}};function cm(s){this._internalRoot=s}cm.prototype.unstable_scheduleHydration=function(s){if(s){var a=Xf();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ca.length&&a!==0&&a<Ca[l].priority;l++);Ca.splice(l,0,s),l===0&&qA(s)}};var GA=e.version;if(GA!=="19.0.0")throw Error(r(527,GA,"19.0.0"));ye.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ae(a),s=s!==null?be(s):null,s=s===null?null:s.stateNode,s};var lV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ti,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hm.isDisabled&&hm.supportsFiber)try{Qs=hm.inject(lV),Un=hm}catch{}}return Hh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=uS,y=cS,A=hS,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=MA(s,1,!1,null,null,l,c,m,y,A,k,null),s[rs]=a.current,Iv(s.nodeType===8?s.parentNode:s),new qv(a)},Hh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=uS,A=cS,k=hS,F=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=MA(s,1,!0,a,l??null,c,m,y,A,k,F,K),a.context=LA(null),l=a.current,c=Er(),m=ya(c),m.callback=null,_a(l,m,c),a.current.lanes=c,Gt(a,c),Ci(a),s[rs]=a.current,Iv(s),new cm(a)},Hh.version="19.0.0",Hh}var nI;function vV(){if(nI)return Gv.exports;nI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gv.exports=_V(),Gv.exports}var EV=vV(),$h={},rI;function bV(){if(rI)return $h;rI=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.parse=u,$h.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const w=new o,I=v.length;if(I<2)return w;const P=(T==null?void 0:T.decode)||g;let L=0;do{const M=v.indexOf("=",L);if(M===-1)break;const U=v.indexOf(";",L),$=U===-1?I:U;if(M>$){L=v.lastIndexOf(";",M-1)+1;continue}const j=h(v,L,M),H=d(v,M,j),V=v.slice(j,H);if(w[V]===void 0){let C=h(v,M+1,$),R=d(v,$,C);const b=P(v.slice(C,R));w[V]=b}L=$+1}while(L<I);return w}function h(v,T,w){do{const I=v.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<w);return w}function d(v,T,w){for(;T>w;){const I=v.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return w}function f(v,T,w){const I=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const P=I(T);if(!e.test(P))throw new TypeError(`argument val is invalid: ${T}`);let L=v+"="+P;if(!w)return L;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);L+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);L+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);L+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);L+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(L+="; HttpOnly"),w.secure&&(L+="; Secure"),w.partitioned&&(L+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return L}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return $h}bV();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iI="popstate";function wV(n={}){function e(i,o){let{pathname:u="/",search:h="",hash:d=""}=Il(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),V0("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let u=i.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");h=f===-1?d:d.slice(0,f)}return h+"#"+(typeof o=="string"?o:Bd(o))}function r(i,o){ci(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return SV(e,t,r,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TV(){return Math.random().toString(36).substring(2,10)}function sI(n,e){return{usr:n.state,key:n.key,idx:e}}function V0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Il(e):e,state:t,key:e&&e.key||r||TV()}}function Bd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function SV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let P=g(),L=P==null?null:P-f;f=P,d&&d({action:h,location:I.location,delta:L})}function v(P,L){h="PUSH";let M=V0(I.location,P,L);t&&t(M,P),f=g()+1;let U=sI(M,f),$=I.createHref(M);try{u.pushState(U,"",$)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign($)}o&&d&&d({action:h,location:I.location,delta:1})}function T(P,L){h="REPLACE";let M=V0(I.location,P,L);t&&t(M,P),f=g();let U=sI(M,f),$=I.createHref(M);u.replaceState(U,"",$),o&&d&&d({action:h,location:I.location,delta:0})}function w(P){let L=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof P=="string"?P:Bd(P);return M=M.replace(/ $/,"%20"),kt(L,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,L)}let I={get action(){return h},get location(){return n(i,u)},listen(P){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(iI,_),d=P,()=>{i.removeEventListener(iI,_),d=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let L=w(P);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:T,go(P){return u.go(P)}};return I}function VC(n,e,t="/"){return AV(n,e,t,!1)}function AV(n,e,t,r){let i=typeof e=="string"?Il(e):e,o=$a(i.pathname||"/",t);if(o==null)return null;let u=MC(n);IV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=LV(o);h=VV(u[d],f,r)}return h}function MC(n,e=[],t=[],r=""){let i=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(kt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=ks([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),MC(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:kV(f,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of LC(o.path))i(o,u,d)}),e}function LC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=LC(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function IV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var RV=/^:[\w-]+$/,CV=3,PV=2,xV=1,OV=10,DV=-2,aI=n=>n==="*";function kV(n,e){let t=n.split("/"),r=t.length;return t.some(aI)&&(r+=DV),e&&(r+=PV),t.filter(i=>!aI(i)).reduce((i,o)=>i+(RV.test(o)?CV:o===""?xV:OV),r)}function NV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function VV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Zm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=Zm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:ks([o,_.pathname]),pathnameBase:jV(ks([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=ks([o,_.pathnameBase]))}return u}function Zm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=MV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function MV(n,e=!1,t=!0){ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $a(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function UV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Il(n):n;return{pathname:t?t.startsWith("/")?t:BV(t,e):e,search:zV(r),hash:qV(i)}}function BV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Yv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function UC(n){let e=FV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function BC(n,e,t,r=!1){let i;typeof n=="string"?i=Il(n):(i={...n},kt(!i.pathname||!i.pathname.includes("?"),Yv("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),Yv("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),Yv("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=UV(i,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var ks=n=>n.join("/").replace(/\/\/+/g,"/"),jV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var FC=["POST","PUT","PATCH","DELETE"];new Set(FC);var $V=["GET",...FC];new Set($V);var Ec=W.createContext(null);Ec.displayName="DataRouter";var Lg=W.createContext(null);Lg.displayName="DataRouterState";var jC=W.createContext({isTransitioning:!1});jC.displayName="ViewTransition";var GV=W.createContext(new Map);GV.displayName="Fetchers";var KV=W.createContext(null);KV.displayName="Await";var es=W.createContext(null);es.displayName="Navigation";var pf=W.createContext(null);pf.displayName="Location";var ts=W.createContext({outlet:null,matches:[],isDataRoute:!1});ts.displayName="Route";var jE=W.createContext(null);jE.displayName="RouteError";function WV(n,{relative:e}={}){kt(mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(es),{hash:i,pathname:o,search:u}=gf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ks([t,o])),r.createHref({pathname:h,search:u,hash:i})}function mf(){return W.useContext(pf)!=null}function lo(){return kt(mf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(pf).location}var zC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qC(n){W.useContext(es).static||W.useLayoutEffect(n)}function Ug(){let{isDataRoute:n}=W.useContext(ts);return n?oM():QV()}function QV(){kt(mf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Ec),{basename:e,navigator:t}=W.useContext(es),{matches:r}=W.useContext(ts),{pathname:i}=lo(),o=JSON.stringify(UC(r)),u=W.useRef(!1);return qC(()=>{u.current=!0}),W.useCallback((d,f={})=>{if(ci(u.current,zC),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=BC(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ks([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}W.createContext(null);function HC(){let{matches:n}=W.useContext(ts),e=n[n.length-1];return e?e.params:{}}function gf(n,{relative:e}={}){let{matches:t}=W.useContext(ts),{pathname:r}=lo(),i=JSON.stringify(UC(t));return W.useMemo(()=>BC(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function YV(n,e){return $C(n,e)}function $C(n,e,t,r){var M;kt(mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(es),{matches:u}=W.useContext(ts),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";GC(f,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=lo(),T;if(e){let U=typeof e=="string"?Il(e):e;kt(g==="/"||((M=U.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=v;let w=T.pathname||"/",I=w;if(g!=="/"){let U=g.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=!o&&t&&t.matches&&t.matches.length>0?t.matches:VC(n,{pathname:I});ci(_||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ci(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=tM(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:ks([g,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:ks([g,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,t,r);return e&&L?W.createElement(pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function XV(){let n=aM(),e=HV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var JV=W.createElement(XV,null),ZV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(ts.Provider,{value:this.props.routeContext},W.createElement(jE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eM({routeContext:n,match:e,children:t}){let r=W.useContext(Ec);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(ts.Provider,{value:n},t)}function tM(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:g,errors:_}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let _,v=!1,T=null,w=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||JV,u&&(h<0&&g===0?(GC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===g&&(v=!0,w=f.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),P=()=>{let L;return _?L=T:v?L=w:f.route.Component?L=W.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=d,W.createElement(eM,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?W.createElement(ZV,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:P(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):P()},null)}function zE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nM(n){let e=W.useContext(Ec);return kt(e,zE(n)),e}function rM(n){let e=W.useContext(Lg);return kt(e,zE(n)),e}function iM(n){let e=W.useContext(ts);return kt(e,zE(n)),e}function qE(n){let e=iM(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sM(){return qE("useRouteId")}function aM(){var r;let n=W.useContext(jE),e=rM("useRouteError"),t=qE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function oM(){let{router:n}=nM("useNavigate"),e=qE("useNavigate"),t=W.useRef(!1);return qC(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{ci(t.current,zC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var oI={};function GC(n,e,t){!e&&!oI[n]&&(oI[n]=!0,ci(!1,t))}W.memo(lM);function lM({routes:n,future:e,state:t}){return $C(n,void 0,t,e)}function Va(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){kt(!mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=Il(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let w=$a(d,u);return w==null?null:{location:{pathname:w,search:f,hash:g,state:_,key:v},navigationType:r}},[u,d,f,g,_,v,r]);return ci(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(es.Provider,{value:h},W.createElement(pf.Provider,{children:e,value:T}))}function cM({children:n,location:e}){return YV(M0(n),e)}function M0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,M0(r.props.children,o));return}kt(r.type===Va,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=M0(r.props.children,o)),t.push(u)}),t}var Cm="get",Pm="application/x-www-form-urlencoded";function Bg(n){return n!=null&&typeof n.tagName=="string"}function hM(n){return Bg(n)&&n.tagName.toLowerCase()==="button"}function dM(n){return Bg(n)&&n.tagName.toLowerCase()==="form"}function fM(n){return Bg(n)&&n.tagName.toLowerCase()==="input"}function pM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mM(n,e){return n.button===0&&(!e||e==="_self")&&!pM(n)}var dm=null;function gM(){if(dm===null)try{new FormData(document.createElement("form"),0),dm=!1}catch{dm=!0}return dm}var yM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xv(n){return n!=null&&!yM.has(n)?(ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pm}"`),null):n}function _M(n,e){let t,r,i,o,u;if(dM(n)){let h=n.getAttribute("action");r=h?$a(h,e):null,t=n.getAttribute("method")||Cm,i=Xv(n.getAttribute("enctype"))||Pm,o=new FormData(n)}else if(hM(n)||fM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?$a(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Cm,i=Xv(n.getAttribute("formenctype"))||Xv(h.getAttribute("enctype"))||Pm,o=new FormData(h,n),!gM()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(Bg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Cm,r=null,i=Pm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function HE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function vM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bM(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await vM(o,t);return u.links?u.links():[]}return[]}));return AM(r.flat(1).filter(EM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lI(n,e,t,r,i,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function wM(n,e,{includeHydrateFallback:t}={}){return TM(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function TM(n){return[...new Set(n)]}function SM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function AM(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(SM(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function IM(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function RM(){let n=W.useContext(Ec);return HE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function CM(){let n=W.useContext(Lg);return HE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $E=W.createContext(void 0);$E.displayName="FrameworkContext";function KC(){let n=W.useContext($E);return HE(n,"You must render this element inside a <HydratedRouter> element"),n}function PM(n,e){let t=W.useContext($E),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=L=>{L.forEach(M=>{u(M.isIntersecting)})},P=new IntersectionObserver(I,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[n]),W.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},w=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Gh(h,T),onBlur:Gh(d,w),onMouseEnter:Gh(f,T),onMouseLeave:Gh(g,w),onTouchStart:Gh(_,T)}]:[!1,v,{}]}function Gh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xM({page:n,...e}){let{router:t}=RM(),r=W.useMemo(()=>VC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(DM,{page:n,matches:r,...e}):null}function OM(n){let{manifest:e,routeModules:t}=KC(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return bM(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function DM({page:n,matches:e,...t}){let r=lo(),{manifest:i,routeModules:o}=KC(),{loaderData:u,matches:h}=CM(),d=W.useMemo(()=>lI(n,e,h,i,r,"data"),[n,e,h,i,r]),f=W.useMemo(()=>lI(n,e,h,i,r,"assets"),[n,e,h,i,r]),g=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(e.forEach(P=>{var M;let L=i.routes[P.route.id];!L||!L.hasLoader||(!d.some(U=>U.route.id===P.route.id)&&P.route.id in u&&((M=o[P.route.id])!=null&&M.shouldRevalidate)||L.hasClientLoader?w=!0:T.add(P.route.id))}),T.size===0)return[];let I=IM(n);return w&&T.size>0&&I.searchParams.set("_routes",e.filter(P=>T.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[u,r,i,d,e,n,o]),_=W.useMemo(()=>wM(f,i),[f,i]),v=OM(f);return W.createElement(W.Fragment,null,g.map(T=>W.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>W.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),v.map(({key:T,link:w})=>W.createElement("link",{key:T,...w})))}function kM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WC&&(window.__reactRouterVersion="7.2.0")}catch{}function NM({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=wV({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(d=>{W.startTransition(()=>u(d))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(uM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var QC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ji=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=W.useContext(es),I=typeof f=="string"&&QC.test(f),P,L=!1;if(typeof f=="string"&&I&&(P=f,WC))try{let R=new URL(window.location.href),b=f.startsWith("//")?new URL(R.protocol+f):new URL(f),x=$a(b.pathname,w);b.origin===R.origin&&x!=null?f=x+b.search+b.hash:L=!0}catch{ci(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=WV(f,{relative:i}),[U,$,j]=PM(r,v),H=UM(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:i,viewTransition:_});function V(R){e&&e(R),R.defaultPrevented||H(R)}let C=W.createElement("a",{...v,...j,href:P||M,onClick:L||o?e:V,ref:kM(T,$),target:d,"data-discover":!I&&t==="render"?"true":void 0});return U&&!I?W.createElement(W.Fragment,null,C,W.createElement(xM,{page:M})):C});ji.displayName="Link";var VM=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=gf(u,{relative:f.relative}),v=lo(),T=W.useContext(Lg),{navigator:w,basename:I}=W.useContext(es),P=T!=null&&qM(_)&&h===!0,L=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,M=v.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(M=M.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&I&&(U=$a(U,I)||U);const $=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let j=M===L||!i&&M.startsWith(L)&&M.charAt($)==="/",H=U!=null&&(U===L||!i&&U.startsWith(L)&&U.charAt(L.length)==="/"),V={isActive:j,isPending:H,isTransitioning:P},C=j?e:void 0,R;typeof r=="function"?R=r(V):R=[r,j?"active":null,H?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(V):o;return W.createElement(ji,{...f,"aria-current":C,className:R,ref:g,style:b,to:u,viewTransition:h},typeof d=="function"?d(V):d)});VM.displayName="NavLink";var MM=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Cm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=jM(),I=zM(h,{relative:f}),P=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&QC.test(h),M=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let $=U.nativeEvent.submitter,j=($==null?void 0:$.getAttribute("formmethod"))||u;w($||U.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:P,action:I,onSubmit:r?d:M,...v,"data-discover":!L&&n==="render"?"true":void 0})});MM.displayName="Form";function LM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YC(n){let e=W.useContext(Ec);return kt(e,LM(n)),e}function UM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Ug(),d=lo(),f=gf(n,{relative:o});return W.useCallback(g=>{if(mM(g,e)){g.preventDefault();let _=t!==void 0?t:Bd(d)===Bd(f);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,i,o,u])}var BM=0,FM=()=>`__${String(++BM)}__`;function jM(){let{router:n}=YC("useSubmit"),{basename:e}=W.useContext(es),t=sM();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=_M(r,e);if(i.navigate===!1){let g=i.fetcherKey||FM();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function zM(n,{relative:e}={}){let{basename:t}=W.useContext(es),r=W.useContext(ts);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...gf(n||".",{relative:e})},u=lo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ks([t,o.pathname])),Bd(o)}function qM(n,e={}){let t=W.useContext(jC);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YC("useViewTransitionState"),i=gf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=$a(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=$a(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zm(i.pathname,u)!=null||Zm(i.pathname,o)!=null}new TextEncoder;var Jv={},Kh={},fm={},pm={},Zv={exports:{}},e0,uI;function HM(){if(uI)return e0;uI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return e0=n,e0}var t0,cI;function $M(){if(cI)return t0;cI=1;var n=HM();function e(){}function t(){}return t.resetWarningCache=e,t0=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},t0}var hI;function XC(){return hI||(hI=1,Zv.exports=$M()()),Zv.exports}var dI;function GM(){return dI||(dI=1,function(n){(function(e,t){t(n,oo(),XC())})(pm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var i=u(t),o=u(r);function u(M){return M&&M.__esModule?M:{default:M}}var h=Object.assign||function(M){for(var U=1;U<arguments.length;U++){var $=arguments[U];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(M[j]=$[j])}return M};function d(M,U){var $={};for(var j in M)U.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(M,j)&&($[j]=M[j]);return $}function f(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}var g=function(){function M(U,$){for(var j=0;j<$.length;j++){var H=$[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(U,H.key,H)}}return function(U,$,j){return $&&M(U.prototype,$),j&&M(U,j),U}}();function _(M,U){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:M}function v(M,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);M.prototype=Object.create(U&&U.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(M,U):M.__proto__=U)}var T=!1;function w(M){T=M}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?M:M.capture}function P(M){if("touches"in M){var U=M.touches[0],$=U.pageX,j=U.pageY;return{x:$,y:j}}var H=M.screenX,V=M.screenY;return{x:H,y:V}}var L=function(M){v(U,M);function U(){var $;f(this,U);for(var j=arguments.length,H=Array(j),V=0;V<j;V++)H[V]=arguments[V];var C=_(this,($=U.__proto__||Object.getPrototypeOf(U)).call.apply($,[this].concat(H)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(U,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var H=P(j),V=H.x,C=H.y;this.moveStart={x:V,y:C},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var H=P(j),V=H.x,C=H.y,R=V-this.moveStart.x,b=C-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:R,y:b},j);x&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:R,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var H=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-H?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>H&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-H?this.props.onSwipeUp(1,j):this.movePosition.deltaY>H&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var H=j.className,V=j.style,C=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var R=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:H,style:V},R),C)}}]),U}(t.Component);L.displayName="ReactSwipe",L.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},L.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=L})}(pm)),pm}var fI;function JC(){return fI||(fI=1,function(n){(function(e,t){t(n,GM())})(fm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(fm)),fm}var Wh={},n0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var pI;function KM(){return pI||(pI=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(n0)),n0.exports}var mI;function ZC(){if(mI)return Wh;mI=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.default=void 0;var n=e(KM());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return Wh.default=r,Wh}var Qh={},Yh={},gI;function WM(){if(gI)return Yh;gI=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Yh.outerWidth=n,Yh}var Xh={},yI;function GE(){if(yI)return Xh;yI=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return Xh.default=n,Xh}var Jh={},_I;function eP(){if(_I)return Jh;_I=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.default=void 0;var n=function(){return window};return Jh.default=n,Jh}var vI;function tP(){if(vI)return Qh;vI=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.default=void 0;var n=d(oo()),e=u(ZC()),t=WM(),r=u(GE()),i=u(JC()),o=u(eP());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var R=h();if(R&&R.has(C))return R.get(C);var b={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in C)if(Object.prototype.hasOwnProperty.call(C,O)){var D=x?Object.getOwnPropertyDescriptor(C,O):null;D&&(D.get||D.set)?Object.defineProperty(b,O,D):b[O]=C[O]}return b.default=C,R&&R.set(C,b),b}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(b){return typeof b}:f=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(C)}function g(){return g=Object.assign||function(C){for(var R=1;R<arguments.length;R++){var b=arguments[R];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(C[x]=b[x])}return C},g.apply(this,arguments)}function _(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function v(C,R){for(var b=0;b<R.length;b++){var x=R[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(C,x.key,x)}}function T(C,R,b){return R&&v(C.prototype,R),C}function w(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),R&&I(C,R)}function I(C,R){return I=Object.setPrototypeOf||function(x,O){return x.__proto__=O,x},I(C,R)}function P(C){var R=U();return function(){var x=$(C),O;if(R){var D=$(this).constructor;O=Reflect.construct(x,arguments,D)}else O=x.apply(this,arguments);return L(this,O)}}function L(C,R){return R&&(f(R)==="object"||typeof R=="function")?R:M(C)}function M(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $(C){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},$(C)}function j(C,R,b){return R in C?Object.defineProperty(C,R,{value:b,enumerable:!0,configurable:!0,writable:!0}):C[R]=b,C}var H=function(R){return R.hasOwnProperty("key")},V=function(C){w(b,C);var R=P(b);function b(x){var O;return _(this,b),O=R.call(this,x),j(M(O),"itemsWrapperRef",void 0),j(M(O),"itemsListRef",void 0),j(M(O),"thumbsRef",void 0),j(M(O),"setItemsWrapperRef",function(D){O.itemsWrapperRef=D}),j(M(O),"setItemsListRef",function(D){O.itemsListRef=D}),j(M(O),"setThumbsRef",function(D,te){O.thumbsRef||(O.thumbsRef=[]),O.thumbsRef[te]=D}),j(M(O),"updateSizes",function(){if(!(!O.props.children||!O.itemsWrapperRef||!O.thumbsRef)){var D=n.Children.count(O.props.children),te=O.itemsWrapperRef.clientWidth,B=O.props.thumbWidth?O.props.thumbWidth:(0,t.outerWidth)(O.thumbsRef[0]),ee=Math.floor(te/B),ie=ee<D,ue=ie?D-ee:0;O.setState(function(Te,q){return{itemSize:B,visibleItems:ee,firstItem:ie?O.getFirstItem(q.selectedItem):0,lastPosition:ue,showArrows:ie}})}}),j(M(O),"handleClickItem",function(D,te,B){if(!H(B)||B.key==="Enter"){var ee=O.props.onSelectItem;typeof ee=="function"&&ee(D,te)}}),j(M(O),"onSwipeStart",function(){O.setState({swiping:!0})}),j(M(O),"onSwipeEnd",function(){O.setState({swiping:!1})}),j(M(O),"onSwipeMove",function(D){var te=D.x;if(!O.state.itemSize||!O.itemsWrapperRef||!O.state.visibleItems)return!1;var B=0,ee=n.Children.count(O.props.children),ie=-(O.state.firstItem*100)/O.state.visibleItems,ue=Math.max(ee-O.state.visibleItems,0),Te=-ue*100/O.state.visibleItems;ie===B&&te>0&&(te=0),ie===Te&&te<0&&(te=0);var q=O.itemsWrapperRef.clientWidth,ae=ie+100/(q/te);return O.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(be){O.itemsListRef.style[be]=(0,r.default)(ae,"%",O.props.axis)}),!0}),j(M(O),"slideRight",function(D){O.moveTo(O.state.firstItem-(typeof D=="number"?D:1))}),j(M(O),"slideLeft",function(D){O.moveTo(O.state.firstItem+(typeof D=="number"?D:1))}),j(M(O),"moveTo",function(D){D=D<0?0:D,D=D>=O.state.lastPosition?O.state.lastPosition:D,O.setState({firstItem:D})}),O.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},O}return T(b,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(O){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==O.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(O){var D=O;return O>=this.state.lastPosition&&(D=this.state.lastPosition),O<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),O<this.state.firstItem&&(D=O),D}},{key:"renderItems",value:function(){var O=this;return this.props.children.map(function(D,te){var B=e.default.ITEM(!1,te===O.state.selectedItem),ee={key:te,ref:function(ue){return O.setThumbsRef(ue,te)},className:B,onClick:O.handleClickItem.bind(O,te,O.props.children[te]),onKeyDown:O.handleClickItem.bind(O,te,O.props.children[te]),"aria-label":"".concat(O.props.labels.item," ").concat(te+1),style:{width:O.props.thumbWidth}};return n.default.createElement("li",g({},ee,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var O=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,te=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ee={},ie=-this.state.firstItem*(this.state.itemSize||0),ue=(0,r.default)(ie,"px",this.props.axis),Te=this.props.transitionTime+"ms";return ee={WebkitTransform:ue,MozTransform:ue,MsTransform:ue,OTransform:ue,transform:ue,msTransform:ue,WebkitTransitionDuration:Te,MozTransitionDuration:Te,MsTransitionDuration:Te,OTransitionDuration:Te,transitionDuration:Te,msTransitionDuration:Te},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!te),onClick:function(){return O.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ee,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ae){return O.setItemsListRef(ae)},style:ee},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return O.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),b}(n.Component);return Qh.default=V,j(V,"displayName","Thumbs"),j(V,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Qh}var Zh={},EI;function QM(){if(EI)return Zh;EI=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.default=void 0;var n=function(){return document};return Zh.default=n,Zh}var br={},bI;function nP(){if(bI)return br;bI=1,Object.defineProperty(br,"__esModule",{value:!0}),br.setPosition=br.getPosition=br.isKeyboardEvent=br.defaultStatusFormatter=br.noop=void 0;var n=oo(),e=t(GE());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};br.noop=r;var i=function(f,g){return"".concat(f," of ").concat(g)};br.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};br.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,T=_-1;return f&&(f!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===T&&(v+=100-g.centerSlidePercentage),v}return-f*100};br.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return br.setPosition=h,br}var ai={},wI;function YM(){if(wI)return ai;wI=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.fadeAnimationHandler=ai.slideStopSwipingHandler=ai.slideSwipeAnimationHandler=ai.slideAnimationHandler=void 0;var n=oo(),e=r(GE()),t=nP();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(w){u(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var w={},I=T.selectedItem,P=I,L=n.Children.count(v.children)-1,M=v.infiniteLoop&&(I<0||I>L);if(M)return P<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(L+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(L+2)*100,v.axis):P>L&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var U=(0,t.getPosition)(I,v),$=(0,e.default)(U,"%",v.axis),j=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:$,msTransform:$,OTransform:$,transform:$},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),w};ai.slideAnimationHandler=h;var d=function(v,T,w,I){var P={},L=T.axis==="horizontal",M=n.Children.count(T.children),U=0,$=(0,t.getPosition)(w.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(M-1,T)-100:(0,t.getPosition)(M-1,T),H=L?v.x:v.y,V=H;$===U&&H>0&&(V=0),$===j&&H<0&&(V=0);var C=$+100/(w.itemSize/V),R=Math.abs(H)>T.swipeScrollTolerance;return T.infiniteLoop&&R&&(w.selectedItem===0&&C>-100?C-=M*100:w.selectedItem===M-1&&C<-M*100&&(C+=M*100)),(!T.preventMovementUntilSwipeScrollTolerance||R||w.swipeMovementStarted)&&(w.swipeMovementStarted||I({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(C,T.axis)),R&&!w.cancelClick&&I({cancelClick:!0}),P};ai.slideSwipeAnimationHandler=d;var f=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),I=(0,t.setPosition)(w,v.axis);return{itemListStyle:I}};ai.slideStopSwipingHandler=f;var g=function(v,T){var w=v.transitionTime+"ms",I="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:I,msTransitionTimingFunction:I,MozTransitionTimingFunction:I,WebkitTransitionTimingFunction:I,OTransitionTimingFunction:I};return T.swiping||(P=o(o({},P),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:P,selectedStyle:o(o({},P),{},{opacity:1,position:"relative"}),prevStyle:o({},P)}};return ai.fadeAnimationHandler=g,ai}var TI;function XM(){if(TI)return Kh;TI=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.default=void 0;var n=g(oo()),e=d(JC()),t=d(ZC()),r=d(tP()),i=d(QM()),o=d(eP()),u=nP(),h=YM();function d(x){return x&&x.__esModule?x:{default:x}}function f(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return f=function(){return x},x}function g(x){if(x&&x.__esModule)return x;if(x===null||_(x)!=="object"&&typeof x!="function")return{default:x};var O=f();if(O&&O.has(x))return O.get(x);var D={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in x)if(Object.prototype.hasOwnProperty.call(x,B)){var ee=te?Object.getOwnPropertyDescriptor(x,B):null;ee&&(ee.get||ee.set)?Object.defineProperty(D,B,ee):D[B]=x[B]}return D.default=x,O&&O.set(x,D),D}function _(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(x)}function v(){return v=Object.assign||function(x){for(var O=1;O<arguments.length;O++){var D=arguments[O];for(var te in D)Object.prototype.hasOwnProperty.call(D,te)&&(x[te]=D[te])}return x},v.apply(this,arguments)}function T(x,O){var D=Object.keys(x);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(x);O&&(te=te.filter(function(B){return Object.getOwnPropertyDescriptor(x,B).enumerable})),D.push.apply(D,te)}return D}function w(x){for(var O=1;O<arguments.length;O++){var D=arguments[O]!=null?arguments[O]:{};O%2?T(Object(D),!0).forEach(function(te){R(x,te,D[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(te){Object.defineProperty(x,te,Object.getOwnPropertyDescriptor(D,te))})}return x}function I(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}function P(x,O){for(var D=0;D<O.length;D++){var te=O[D];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(x,te.key,te)}}function L(x,O,D){return O&&P(x.prototype,O),x}function M(x,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),O&&U(x,O)}function U(x,O){return U=Object.setPrototypeOf||function(te,B){return te.__proto__=B,te},U(x,O)}function $(x){var O=V();return function(){var te=C(x),B;if(O){var ee=C(this).constructor;B=Reflect.construct(te,arguments,ee)}else B=te.apply(this,arguments);return j(this,B)}}function j(x,O){return O&&(_(O)==="object"||typeof O=="function")?O:H(x)}function H(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(x){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},C(x)}function R(x,O,D){return O in x?Object.defineProperty(x,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[O]=D,x}var b=function(x){M(D,x);var O=$(D);function D(te){var B;I(this,D),B=O.call(this,te),R(H(B),"thumbsRef",void 0),R(H(B),"carouselWrapperRef",void 0),R(H(B),"listRef",void 0),R(H(B),"itemsRef",void 0),R(H(B),"timer",void 0),R(H(B),"animationHandler",void 0),R(H(B),"setThumbsRef",function(ie){B.thumbsRef=ie}),R(H(B),"setCarouselWrapperRef",function(ie){B.carouselWrapperRef=ie}),R(H(B),"setListRef",function(ie){B.listRef=ie}),R(H(B),"setItemsRef",function(ie,ue){B.itemsRef||(B.itemsRef=[]),B.itemsRef[ue]=ie}),R(H(B),"autoPlay",function(){n.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),R(H(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),R(H(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),R(H(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),R(H(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),R(H(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,i.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),R(H(B),"navigateWithKeyboard",function(ie){if(B.isFocusWithinTheCarousel()){var ue=B.props.axis,Te=ue==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ae=Te?q.ArrowRight:q.ArrowDown,be=Te?q.ArrowLeft:q.ArrowUp;ae===ie.keyCode?B.increment():be===ie.keyCode&&B.decrement()}}),R(H(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var ie=B.props.axis==="horizontal",ue=B.itemsRef[0];if(ue){var Te=ie?ue.clientWidth:ue.clientHeight;B.setState({itemSize:Te}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),R(H(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),R(H(B),"handleClickItem",function(ie,ue){if(n.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(ie,ue),ie!==B.state.selectedItem&&B.setState({selectedItem:ie})}}),R(H(B),"handleOnChange",function(ie,ue){n.Children.count(B.props.children)<=1||B.props.onChange(ie,ue)}),R(H(B),"handleClickThumb",function(ie,ue){B.props.onClickThumb(ie,ue),B.moveTo(ie)}),R(H(B),"onSwipeStart",function(ie){B.setState({swiping:!0}),B.props.onSwipeStart(ie)}),R(H(B),"onSwipeEnd",function(ie){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(ie),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),R(H(B),"onSwipeMove",function(ie,ue){B.props.onSwipeMove(ue);var Te=B.props.swipeAnimationHandler(ie,B.props,B.state,B.setState.bind(H(B)));return B.setState(w({},Te)),!!Object.keys(Te).length}),R(H(B),"decrement",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof ie=="number"?ie:1))}),R(H(B),"increment",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof ie=="number"?ie:1))}),R(H(B),"moveTo",function(ie){if(typeof ie=="number"){var ue=n.Children.count(B.props.children)-1;ie<0&&(ie=B.props.infiniteLoop?ue:0),ie>ue&&(ie=B.props.infiniteLoop?0:ue),B.selectItem({selectedItem:ie}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),R(H(B),"onClickNext",function(){B.increment(1)}),R(H(B),"onClickPrev",function(){B.decrement(1)}),R(H(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),R(H(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),R(H(B),"changeItem",function(ie){return function(ue){(!(0,u.isKeyboardEvent)(ue)||ue.key==="Enter")&&B.moveTo(ie)}}),R(H(B),"selectItem",function(ie){B.setState(w({previousItem:B.state.selectedItem},ie),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(ie.selectedItem,n.Children.toArray(B.props.children)[ie.selectedItem])}),R(H(B),"getInitialImage",function(){var ie=B.props.selectedItem,ue=B.itemsRef&&B.itemsRef[ie],Te=ue&&ue.getElementsByTagName("img")||[];return Te[0]}),R(H(B),"getVariableItemHeight",function(ie){var ue=B.itemsRef&&B.itemsRef[ie];if(B.state.hasMount&&ue&&ue.children.length){var Te=ue.children[0].getElementsByTagName("img")||[];if(Te.length>0){var q=Te[0];if(!q.complete){var ae=function ye(){B.forceUpdate(),q.removeEventListener("load",ye)};q.addEventListener("load",ae)}}var be=Te[0]||ue.children[0],ve=be.clientHeight;return ve>0?ve:null}return null});var ee={initialized:!1,previousItem:te.selectedItem,selectedItem:te.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:te.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof te.animationHandler=="function"&&te.animationHandler||te.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,B.state=w(w({},ee),B.animationHandler(te,ee)),B}return L(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,ee){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),ee.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ee=B.getInitialImage();ee&&!ee.complete?ee.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var ee=this;return this.props.children?n.Children.map(this.props.children,function(ie,ue){var Te=ue===ee.state.selectedItem,q=ue===ee.state.previousItem,ae=Te&&ee.state.selectedStyle||q&&ee.state.prevStyle||ee.state.slideStyle||{};ee.props.centerMode&&ee.props.axis==="horizontal"&&(ae=w(w({},ae),{},{minWidth:ee.props.centerSlidePercentage+"%"})),ee.state.swiping&&ee.state.swipeMovementStarted&&(ae=w(w({},ae),{},{pointerEvents:"none"}));var be={ref:function(ye){return ee.setItemsRef(ye,ue)},key:"itemKey"+ue+(B?"clone":""),className:t.default.ITEM(!0,ue===ee.state.selectedItem,ue===ee.state.previousItem),onClick:ee.handleClickItem.bind(ee,ue,ie),style:ae};return n.default.createElement("li",be,ee.props.renderItem(ie,{isSelected:ue===ee.state.selectedItem,isPrevious:ue===ee.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,ee=this.props,ie=ee.showIndicators,ue=ee.labels,Te=ee.renderIndicator,q=ee.children;return ie?n.default.createElement("ul",{className:"control-dots"},n.Children.map(q,function(ae,be){return Te&&Te(B.changeItem(be),be===B.state.selectedItem,be,ue.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var ee=this.props.swipeable&&n.Children.count(this.props.children)>1,ie=this.props.axis==="horizontal",ue=this.props.showArrows&&n.Children.count(this.props.children)>1,Te=ue&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=ue&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ae=this.renderItems(!0),be=ae.shift(),ve=ae.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Oe={};if(ie){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var De=this.getVariableItemHeight(this.state.selectedItem);Oe.height=De||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=w(w({},ye.style),{},{height:this.state.itemSize}),Oe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Te,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Oe},ee?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(ze){return B.setListRef(ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return Kh.default=b,R(b,"displayName","Carousel"),R(b,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_PREV(!D),onClick:O})},renderArrowNext:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_NEXT(!D),onClick:O})},renderIndicator:function(O,D,te,B){return n.default.createElement("li",{className:t.default.DOT(D),onClick:O,onKeyDown:O,value:te,key:te,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(te+1)})},renderItem:function(O){return O},renderThumbs:function(O){var D=n.Children.map(O,function(te){var B=te;if(te.type!=="img"&&(B=n.Children.toArray(te.props.children).find(function(ee){return ee.type==="img"})),!!B)return B});return D.filter(function(te){return te}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),Kh}var SI={},AI;function JM(){return AI||(AI=1),SI}var II;function ZM(){return II||(II=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(XM()),t=JM(),r=i(tP());function i(o){return o&&o.__esModule?o:{default:o}}}(Jv)),Jv}var eL=ZM();const tL="/amazon-clone/assets/10001-X-_6zMIx.jpg",nL="/amazon-clone/assets/10002-CO6XiwvK.jpg",rL="/amazon-clone/assets/10003-bl35EseN.jpg",iL="/amazon-clone/assets/10004-BPr44Ttk.jpg",r0=[tL,nL,rL,iL],sL="_car_bottom_z4qny_1",aL={car_bottom:sL};function oL(){return z.jsxs("div",{children:[z.jsx(eL.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:r0==null?void 0:r0.map((n,e)=>z.jsx("img",{src:n,alt:""},e))}),z.jsx("div",{className:aL.car_bottom})]})}const i0=[{id:10,title:"SanDisk SSD ",category:"electronics",imageLink:"https://fakestoreapi.com/img/61U7T1koQqL._AC_SX679_.jpg"},{id:7,title:"White Gold Plated Princess",category:"jewelery",imageLink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg"},{id:3,title:"Mens Cotton Jacket",category:"men's clothing",imageLink:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg"},{id:17,title:"Rain Jacket Women ",category:"women's clothing",imageLink:"https://fakestoreapi.com/img/71HblAHs5xL._AC_UY879_-2.jpg"}],lL="_catagory_43jhw_1",uL="_catagory_container_43jhw_30",rP={catagory:lL,catagory_container:uL};function cL({data:n}){return z.jsx("div",{className:rP.catagory,children:z.jsxs(ji,{to:`/category/${n.category}`,children:[z.jsx("span",{children:n.category}),z.jsx("img",{src:n.imageLink,alt:""}),z.jsx("p",{children:"Shop Now"})]})})}function hL(){return z.jsx("section",{className:rP.catagory_container,children:i0==null?void 0:i0.map((n,e)=>z.jsx(cL,{data:n},e))})}function iP(n,e){return function(){return n.apply(e,arguments)}}const{toString:dL}=Object.prototype,{getPrototypeOf:KE}=Object,Fg=(n=>e=>{const t=dL.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),di=n=>(n=n.toLowerCase(),e=>Fg(e)===n),jg=n=>e=>typeof e===n,{isArray:bc}=Array,Fd=jg("undefined");function fL(n){return n!==null&&!Fd(n)&&n.constructor!==null&&!Fd(n.constructor)&&Rr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const sP=di("ArrayBuffer");function pL(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&sP(n.buffer),e}const mL=jg("string"),Rr=jg("function"),aP=jg("number"),zg=n=>n!==null&&typeof n=="object",gL=n=>n===!0||n===!1,xm=n=>{if(Fg(n)!=="object")return!1;const e=KE(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},yL=di("Date"),_L=di("File"),vL=di("Blob"),EL=di("FileList"),bL=n=>zg(n)&&Rr(n.pipe),wL=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Rr(n.append)&&((e=Fg(n))==="formdata"||e==="object"&&Rr(n.toString)&&n.toString()==="[object FormData]"))},TL=di("URLSearchParams"),[SL,AL,IL,RL]=["ReadableStream","Request","Response","Headers"].map(di),CL=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),bc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function oP(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lP=n=>!Fd(n)&&n!==il;function L0(){const{caseless:n}=lP(this)&&this||{},e={},t=(r,i)=>{const o=n&&oP(e,i)||i;xm(e[o])&&xm(r)?e[o]=L0(e[o],r):xm(r)?e[o]=L0({},r):bc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&yf(arguments[r],t);return e}const PL=(n,e,t,{allOwnKeys:r}={})=>(yf(e,(i,o)=>{t&&Rr(i)?n[o]=iP(i,t):n[o]=i},{allOwnKeys:r}),n),xL=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),OL=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},DL=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&KE(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},kL=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},NL=n=>{if(!n)return null;if(bc(n))return n;let e=n.length;if(!aP(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},VL=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&KE(Uint8Array)),ML=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},LL=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},UL=di("HTMLFormElement"),BL=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),RI=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),FL=di("RegExp"),uP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};yf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},jL=n=>{uP(n,(e,t)=>{if(Rr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Rr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},zL=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return bc(n)?r(n):r(String(n).split(e)),t},qL=()=>{},HL=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,s0="abcdefghijklmnopqrstuvwxyz",CI="0123456789",cP={DIGIT:CI,ALPHA:s0,ALPHA_DIGIT:s0+s0.toUpperCase()+CI},$L=(n=16,e=cP.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function GL(n){return!!(n&&Rr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const KL=n=>{const e=new Array(10),t=(r,i)=>{if(zg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=bc(r)?[]:{};return yf(r,(u,h)=>{const d=t(u,i+1);!Fd(d)&&(o[h]=d)}),e[i]=void 0,o}}return r};return t(n,0)},WL=di("AsyncFunction"),QL=n=>n&&(zg(n)||Rr(n))&&Rr(n.then)&&Rr(n.catch),hP=((n,e)=>n?setImmediate:e?((t,r)=>(il.addEventListener("message",({source:i,data:o})=>{i===il&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),il.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Rr(il.postMessage)),YL=typeof queueMicrotask<"u"?queueMicrotask.bind(il):typeof process<"u"&&process.nextTick||hP,se={isArray:bc,isArrayBuffer:sP,isBuffer:fL,isFormData:wL,isArrayBufferView:pL,isString:mL,isNumber:aP,isBoolean:gL,isObject:zg,isPlainObject:xm,isReadableStream:SL,isRequest:AL,isResponse:IL,isHeaders:RL,isUndefined:Fd,isDate:yL,isFile:_L,isBlob:vL,isRegExp:FL,isFunction:Rr,isStream:bL,isURLSearchParams:TL,isTypedArray:VL,isFileList:EL,forEach:yf,merge:L0,extend:PL,trim:CL,stripBOM:xL,inherits:OL,toFlatObject:DL,kindOf:Fg,kindOfTest:di,endsWith:kL,toArray:NL,forEachEntry:ML,matchAll:LL,isHTMLForm:UL,hasOwnProperty:RI,hasOwnProp:RI,reduceDescriptors:uP,freezeMethods:jL,toObjectSet:zL,toCamelCase:BL,noop:qL,toFiniteNumber:HL,findKey:oP,global:il,isContextDefined:lP,ALPHABET:cP,generateString:$L,isSpecCompliantForm:GL,toJSONObject:KL,isAsyncFn:WL,isThenable:QL,setImmediate:hP,asap:YL};function Ve(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const dP=Ve.prototype,fP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{fP[n]={value:n}});Object.defineProperties(Ve,fP);Object.defineProperty(dP,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,i,o)=>{const u=Object.create(dP);return se.toFlatObject(n,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Ve.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const XL=null;function U0(n){return se.isPlainObject(n)||se.isArray(n)}function pP(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function PI(n,e,t){return n?n.concat(e).map(function(i,o){return i=pP(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function JL(n){return se.isArray(n)&&!n.some(U0)}const ZL=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function qg(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,P){return!se.isUndefined(P[I])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(!d&&se.isBlob(w))throw new Ve("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,I,P){let L=w;if(w&&!P&&typeof w=="object"){if(se.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&JL(w)||(se.isFileList(w)||se.endsWith(I,"[]"))&&(L=se.toArray(w)))return I=pP(I),L.forEach(function(U,$){!(se.isUndefined(U)||U===null)&&e.append(u===!0?PI([I],$,o):u===null?I:I+"[]",f(U))}),!1}return U0(w)?!0:(e.append(PI(P,I,o),f(w)),!1)}const _=[],v=Object.assign(ZL,{defaultVisitor:g,convertValue:f,isVisitable:U0});function T(w,I){if(!se.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(w),se.forEach(w,function(L,M){(!(se.isUndefined(L)||L===null)&&i.call(e,L,se.isString(M)?M.trim():M,I,v))===!0&&T(L,I?I.concat(M):[M])}),_.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return T(n),e}function xI(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function WE(n,e){this._pairs=[],n&&qg(n,this,e)}const mP=WE.prototype;mP.append=function(e,t){this._pairs.push([e,t])};mP.toString=function(e){const t=e?function(r){return e.call(this,r,xI)}:xI;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function e4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gP(n,e,t){if(!e)return n;const r=t&&t.encode||e4;se.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=se.isURLSearchParams(e)?e.toString():new WE(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class OI{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const yP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t4=typeof URLSearchParams<"u"?URLSearchParams:WE,n4=typeof FormData<"u"?FormData:null,r4=typeof Blob<"u"?Blob:null,i4={isBrowser:!0,classes:{URLSearchParams:t4,FormData:n4,Blob:r4},protocols:["http","https","file","blob","url","data"]},QE=typeof window<"u"&&typeof document<"u",B0=typeof navigator=="object"&&navigator||void 0,s4=QE&&(!B0||["ReactNative","NativeScript","NS"].indexOf(B0.product)<0),a4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o4=QE&&window.location.href||"http://localhost",l4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:QE,hasStandardBrowserEnv:s4,hasStandardBrowserWebWorkerEnv:a4,navigator:B0,origin:o4},Symbol.toStringTag,{value:"Module"})),Hn={...l4,...i4};function u4(n,e){return qg(n,new Hn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Hn.isNode&&se.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function c4(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function h4(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function _P(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&se.isArray(i)?i.length:u,d?(se.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!se.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&se.isArray(i[u])&&(i[u]=h4(i[u])),!h)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(r,i)=>{e(c4(r),i,t,0)}),t}return null}function d4(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const _f={transitional:yP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(_P(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return u4(e,this.formSerializer).toString();if((h=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return qg(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),d4(e)):e}],transformResponse:[function(e){const t=this.transitional||_f.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Ve.from(h,Ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{_f.headers[n]={}});const f4=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p4=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&f4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},DI=Symbol("internals");function ed(n){return n&&String(n).trim().toLowerCase()}function Om(n){return n===!1||n==null?n:se.isArray(n)?n.map(Om):String(n)}function m4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const g4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function a0(n,e,t,r,i){if(se.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function y4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function _4(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let hr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,d,f){const g=ed(d);if(!g)throw new Error("header name must be a non-empty string");const _=se.findKey(i,g);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||d]=Om(h))}const u=(h,d)=>se.forEach(h,(f,g)=>o(f,g,d));if(se.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(se.isString(e)&&(e=e.trim())&&!g4(e))u(p4(e),t);else if(se.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=ed(e),e){const r=se.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return m4(i);if(se.isFunction(t))return t.call(this,i,r);if(se.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ed(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||a0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=ed(u),u){const h=se.findKey(r,u);h&&(!t||a0(r,r[h],h,t))&&(delete r[h],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||a0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return se.forEach(this,(i,o)=>{const u=se.findKey(r,o);if(u){t[u]=Om(i),delete t[o];return}const h=e?y4(o):String(o).trim();h!==o&&delete t[o],t[h]=Om(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&se.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[DI]=this[DI]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=ed(u);r[h]||(_4(i,u),r[h]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(hr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});se.freezeMethods(hr);function o0(n,e){const t=this||_f,r=e||t,i=hr.from(r.headers);let o=r.data;return se.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function vP(n){return!!(n&&n.__CANCEL__)}function wc(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(wc,Ve,{__CANCEL__:!0});function EP(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function v4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function E4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[i]=d,r[i]=f;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-u<e)return;const T=g&&f-g;return T?Math.round(v*1e3/T):void 0}}function b4(n,e){let t=0,r=1e3/e,i,o;const u=(f,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(i=f,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const eg=(n,e,t=3)=>{let r=0;const i=E4(50,250);return b4(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=i(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},kI=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},NI=n=>(...e)=>se.asap(()=>n(...e)),w4=Hn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Hn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Hn.origin),Hn.navigator&&/(msie|trident)/i.test(Hn.navigator.userAgent)):()=>!0,T4=Hn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];se.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),se.isString(r)&&u.push("path="+r),se.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function A4(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function bP(n,e){return n&&!S4(e)?A4(n,e):e}const VI=n=>n instanceof hr?{...n}:n;function fl(n,e){e=e||{};const t={};function r(f,g,_,v){return se.isPlainObject(f)&&se.isPlainObject(g)?se.merge.call({caseless:v},f,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(f,g,_,v){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!se.isUndefined(g))return r(void 0,g)}function u(f,g){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>i(VI(f),VI(g),_,!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=d[g]||i,v=_(n[g],e[g],g);se.isUndefined(v)&&_!==h||(t[g]=v)}),t}const wP=n=>{const e=fl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=hr.from(u),e.url=gP(bP(e.baseURL,e.url),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(se.isFormData(t)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[f,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([f||"multipart/form-data",...g].join("; "))}}if(Hn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&w4(e.url))){const f=i&&o&&T4.read(o);f&&u.set(i,f)}return e},I4=typeof XMLHttpRequest<"u",R4=I4&&function(n){return new Promise(function(t,r){const i=wP(n);let o=i.data;const u=hr.from(i.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i,g,_,v,T,w;function I(){T&&T(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function L(){if(!P)return;const U=hr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:U,config:n,request:P};EP(function(V){t(V),I()},function(V){r(V),I()},j),P=null}"onloadend"in P?P.onloadend=L:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(L)},P.onabort=function(){P&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,P)),P=null)},P.onerror=function(){r(new Ve("Network Error",Ve.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||yP;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Ve($,j.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,P)),P=null},o===void 0&&u.setContentType(null),"setRequestHeader"in P&&se.forEach(u.toJSON(),function($,j){P.setRequestHeader(j,$)}),se.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),h&&h!=="json"&&(P.responseType=i.responseType),f&&([v,w]=eg(f,!0),P.addEventListener("progress",v)),d&&P.upload&&([_,T]=eg(d),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=U=>{P&&(r(!U||U.type?new wc(null,n,P):U),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const M=v4(i.url);if(M&&Hn.protocols.indexOf(M)===-1){r(new Ve("Unsupported protocol "+M+":",Ve.ERR_BAD_REQUEST,n));return}P.send(o||null)})},C4=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Ve?g:new wc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(h),d}},P4=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},x4=async function*(n,e){for await(const t of O4(n))yield*P4(t,e)},O4=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},MI=(n,e,t,r)=>{const i=x4(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),i.return()}},{highWaterMark:2})},Hg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TP=Hg&&typeof ReadableStream=="function",D4=Hg&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),SP=(n,...e)=>{try{return!!n(...e)}catch{return!1}},k4=TP&&SP(()=>{let n=!1;const e=new Request(Hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),LI=64*1024,F0=TP&&SP(()=>se.isReadableStream(new Response("").body)),tg={stream:F0&&(n=>n.body)};Hg&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!tg[e]&&(tg[e]=se.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,r)})})})(new Response);const N4=async n=>{if(n==null)return 0;if(se.isBlob(n))return n.size;if(se.isSpecCompliantForm(n))return(await new Request(Hn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(se.isArrayBufferView(n)||se.isArrayBuffer(n))return n.byteLength;if(se.isURLSearchParams(n)&&(n=n+""),se.isString(n))return(await D4(n)).byteLength},V4=async(n,e)=>{const t=se.toFiniteNumber(n.getContentLength());return t??N4(e)},M4=Hg&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:f,headers:g,withCredentials:_="same-origin",fetchOptions:v}=wP(n);f=f?(f+"").toLowerCase():"text";let T=C4([i,o&&o.toAbortSignal()],u),w;const I=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let P;try{if(d&&k4&&t!=="get"&&t!=="head"&&(P=await V4(g,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(se.isFormData(r)&&(H=j.headers.get("content-type"))&&g.setContentType(H),j.body){const[V,C]=kI(P,eg(NI(d)));r=MI(j.body,LI,V,C)}}se.isString(_)||(_=_?"include":"omit");const L="credentials"in Request.prototype;w=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:L?_:void 0});let M=await fetch(w);const U=F0&&(f==="stream"||f==="response");if(F0&&(h||U&&I)){const j={};["status","statusText","headers"].forEach(R=>{j[R]=M[R]});const H=se.toFiniteNumber(M.headers.get("content-length")),[V,C]=h&&kI(H,eg(NI(h),!0))||[];M=new Response(MI(M.body,LI,V,()=>{C&&C(),I&&I()}),j)}f=f||"text";let $=await tg[se.findKey(tg,f)||"text"](M,n);return!U&&I&&I(),await new Promise((j,H)=>{EP(j,H,{data:$,headers:hr.from(M.headers),status:M.status,statusText:M.statusText,config:n,request:w})})}catch(L){throw I&&I(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,n,w),{cause:L.cause||L}):Ve.from(L,L&&L.code,n,w)}}),j0={http:XL,xhr:R4,fetch:M4};se.forEach(j0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const UI=n=>`- ${n}`,L4=n=>se.isFunction(n)||n===null||n===!1,AP={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!L4(t)&&(r=j0[(u=String(t)).toLowerCase()],r===void 0))throw new Ve(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(UI).join(`
`):" "+UI(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:j0};function l0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new wc(null,n)}function BI(n){return l0(n),n.headers=hr.from(n.headers),n.data=o0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),AP.getAdapter(n.adapter||_f.adapter)(n).then(function(r){return l0(n),r.data=o0.call(n,n.transformResponse,r),r.headers=hr.from(r.headers),r},function(r){return vP(r)||(l0(n),r&&r.response&&(r.response.data=o0.call(n,n.transformResponse,r.response),r.response.headers=hr.from(r.response.headers))),Promise.reject(r)})}const IP="1.7.9",$g={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{$g[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const FI={};$g.transitional=function(e,t,r){function i(o,u){return"[Axios v"+IP+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ve(i(u," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!FI[u]&&(FI[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};$g.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function U4(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Ve("option "+o+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const Dm={assertOptions:U4,validators:$g},Pi=Dm.validators;let ul=class{constructor(e){this.defaults=e,this.interceptors={request:new OI,response:new OI}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=fl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Dm.assertOptions(r,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(se.isFunction(i)?t.paramsSerializer={serialize:i}:Dm.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),Dm.assertOptions(t,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=hr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let g,_=0,v;if(!d){const w=[BI.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const w=h[_++],I=h[_++];try{T=w(T)}catch(P){I.call(this,P);break}}try{g=BI.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=fl(this.defaults,e);const t=bP(e.baseURL,e.url);return gP(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){ul.prototype[e]=function(t,r){return this.request(fl(r||{},{method:e,url:t,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(fl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}ul.prototype[e]=t(),ul.prototype[e+"Form"]=t(!0)});let B4=class RP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new wc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new RP(function(i){e=i}),cancel:e}}};function F4(n){return function(t){return n.apply(null,t)}}function j4(n){return se.isObject(n)&&n.isAxiosError===!0}const z0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(z0).forEach(([n,e])=>{z0[e]=n});function CP(n){const e=new ul(n),t=iP(ul.prototype.request,e);return se.extend(t,ul.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return CP(fl(n,i))},t}const Rt=CP(_f);Rt.Axios=ul;Rt.CanceledError=wc;Rt.CancelToken=B4;Rt.isCancel=vP;Rt.VERSION=IP;Rt.toFormData=qg;Rt.AxiosError=Ve;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=F4;Rt.isAxiosError=j4;Rt.mergeConfig=fl;Rt.AxiosHeaders=hr;Rt.formToJSON=n=>_P(se.isHTMLForm(n)?new FormData(n):n);Rt.getAdapter=AP.getAdapter;Rt.HttpStatusCode=z0;Rt.default=Rt;const{Axios:bK,AxiosError:wK,CanceledError:TK,isCancel:SK,CancelToken:AK,VERSION:IK,all:RK,Cancel:CK,isAxiosError:PK,spread:xK,toFormData:OK,AxiosHeaders:DK,HttpStatusCode:kK,formToJSON:NK,getAdapter:VK,mergeConfig:MK}=Rt,z4="_card_container_oe4fn_1",q4="_button_oe4fn_15",H4="_rating_oe4fn_35",$4="_product_contianer_oe4fn_44",G4="_product_flexed_oe4fn_54",gd={card_container:z4,button:q4,rating:H4,product_contianer:$4,product_flexed:G4};var K4=XC();const Dt=FE(K4);function PP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=PP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ad(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=PP(n))&&(r&&(r+=" "),r+=e);return r}function xP(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const W4={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function OP(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[i]=u}return r}const Q4=W.createContext(),Y4=()=>W.useContext(Q4)??!1;function jI(n){try{return n.matches(":focus-visible")}catch{}return!1}var u0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI;function X4(){if(zI)return ht;zI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function w(I){if(typeof I=="object"&&I!==null){var P=I.$$typeof;switch(P){case n:switch(I=I.type,I){case t:case i:case r:case d:case f:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case _:case g:return I;case o:return I;default:return P}}case e:return P}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=n,ht.ForwardRef=h,ht.Fragment=t,ht.Lazy=_,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(I){return w(I)===o},ht.isContextProvider=function(I){return w(I)===u},ht.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},ht.isForwardRef=function(I){return w(I)===h},ht.isFragment=function(I){return w(I)===t},ht.isLazy=function(I){return w(I)===_},ht.isMemo=function(I){return w(I)===g},ht.isPortal=function(I){return w(I)===e},ht.isProfiler=function(I){return w(I)===i},ht.isStrictMode=function(I){return w(I)===r},ht.isSuspense=function(I){return w(I)===d},ht.isSuspenseList=function(I){return w(I)===f},ht.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===i||I===r||I===d||I===f||I===v||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===g||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===T||I.getModuleId!==void 0)},ht.typeOf=w,ht}var qI;function J4(){return qI||(qI=1,u0.exports=X4()),u0.exports}var DP=J4();function Cs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function kP(n){if(W.isValidElement(n)||DP.isValidElementType(n)||!Cs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=kP(n[t])}),e}function Cr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Cs(n)&&Cs(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||DP.isValidElementType(e[i])?r[i]=e[i]:Cs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Cs(n[i])?r[i]=Cr(n[i],e[i],t):t.clone?r[i]=Cs(e[i])?kP(e[i]):e[i]:r[i]=e[i]}),r}function pl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Ga(n){if(typeof n!="string")throw new Error(pl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Z4(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let HI=0;function eU(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(HI+=1,t(`mui-${HI}`))},[e]),r}const tU={...N0},$I=tU.useId;function NP(n){if($I!==void 0){const e=$I();return n??e}return eU(n)}function nU({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=W.useRef(n!==void 0),[o,u]=W.useState(e),h=i?n:o,d=W.useCallback(f=>{i||u(f)},[]);return[h,d]}function rU(...n){return W.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{Z4(t,e)})},n)}function q0(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const d=h;t[i][d]=q0(o[d],u[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const GI=n=>n,iU=()=>{let n=GI;return{configure(e){n=e},generate(e){return n(e)},reset(){n=GI}}},sU=iU(),aU={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function YE(n,e,t="Mui"){const r=aU[e];return r?`${t}-${r}`:`${sU.generate(n)}-${e}`}function VP(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=YE(n,i,t)}),r}function Id(n,e){return e?Cr(n,e,{clone:!1}):n}function oU(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function lU(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function uU(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function cU(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Gg={xs:0,sm:600,md:900,lg:1200,xl:1536},KI={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Gg[n]}px)`},hU={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Gg[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Vs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||KI;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||KI;return Object.keys(e).reduce((u,h)=>{if(lU(o.keys,h)){const d=uU(r.containerQueries?r:hU,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||Gg).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function dU(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function fU(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Kg(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function ng(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Kg(n,t)||r,e&&(i=e(i,r,n)),i}function Xt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=Kg(d,r)||{};return Vs(u,h,_=>{let v=ng(f,i,_);return _===v&&typeof _=="string"&&(v=ng(f,i,`${e}${_==="default"?"":Ga(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function pU(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const mU={m:"margin",p:"padding"},gU={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},WI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yU=pU(n=>{if(n.length>2)if(WI[n])n=WI[n];else return[n];const[e,t]=n.split(""),r=mU[e],i=gU[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),XE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],JE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...XE,...JE];function vf(n,e,t,r){const i=Kg(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:`-${h}`}:typeof i=="function"?i:()=>{}}function ZE(n){return vf(n,"spacing",8)}function Ef(n,e){return typeof e=="string"||e==null?e:n(e)}function _U(n,e){return t=>n.reduce((r,i)=>(r[i]=Ef(e,t),r),{})}function vU(n,e,t,r){if(!e.includes(t))return null;const i=yU(t),o=_U(i,r),u=n[t];return Vs(n,u,o)}function MP(n,e){const t=ZE(n.theme);return Object.keys(n).map(r=>vU(n,e,r,t)).reduce(Id,{})}function jt(n){return MP(n,XE)}jt.propTypes={};jt.filterProps=XE;function zt(n){return MP(n,JE)}zt.propTypes={};zt.filterProps=JE;function Wg(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Id(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Wr(n){return typeof n!="number"?n:`${n}px solid`}function Jr(n,e){return Xt({prop:n,themeKey:"borders",transform:e})}const EU=Jr("border",Wr),bU=Jr("borderTop",Wr),wU=Jr("borderRight",Wr),TU=Jr("borderBottom",Wr),SU=Jr("borderLeft",Wr),AU=Jr("borderColor"),IU=Jr("borderTopColor"),RU=Jr("borderRightColor"),CU=Jr("borderBottomColor"),PU=Jr("borderLeftColor"),xU=Jr("outline",Wr),OU=Jr("outlineColor"),Qg=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=vf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ef(e,r)});return Vs(n,n.borderRadius,t)}return null};Qg.propTypes={};Qg.filterProps=["borderRadius"];Wg(EU,bU,wU,TU,SU,AU,IU,RU,CU,PU,Qg,xU,OU);const Yg=n=>{if(n.gap!==void 0&&n.gap!==null){const e=vf(n.theme,"spacing",8),t=r=>({gap:Ef(e,r)});return Vs(n,n.gap,t)}return null};Yg.propTypes={};Yg.filterProps=["gap"];const Xg=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=vf(n.theme,"spacing",8),t=r=>({columnGap:Ef(e,r)});return Vs(n,n.columnGap,t)}return null};Xg.propTypes={};Xg.filterProps=["columnGap"];const Jg=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=vf(n.theme,"spacing",8),t=r=>({rowGap:Ef(e,r)});return Vs(n,n.rowGap,t)}return null};Jg.propTypes={};Jg.filterProps=["rowGap"];const DU=Xt({prop:"gridColumn"}),kU=Xt({prop:"gridRow"}),NU=Xt({prop:"gridAutoFlow"}),VU=Xt({prop:"gridAutoColumns"}),MU=Xt({prop:"gridAutoRows"}),LU=Xt({prop:"gridTemplateColumns"}),UU=Xt({prop:"gridTemplateRows"}),BU=Xt({prop:"gridTemplateAreas"}),FU=Xt({prop:"gridArea"});Wg(Yg,Xg,Jg,DU,kU,NU,VU,MU,LU,UU,BU,FU);function Bu(n,e){return e==="grey"?e:n}const jU=Xt({prop:"color",themeKey:"palette",transform:Bu}),zU=Xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Bu}),qU=Xt({prop:"backgroundColor",themeKey:"palette",transform:Bu});Wg(jU,zU,qU);function Ar(n){return n<=1&&n!==0?`${n*100}%`:n}const HU=Xt({prop:"width",transform:Ar}),eb=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,d;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||Gg[t];return r?((d=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ar(t)}};return Vs(n,n.maxWidth,e)}return null};eb.filterProps=["maxWidth"];const $U=Xt({prop:"minWidth",transform:Ar}),GU=Xt({prop:"height",transform:Ar}),KU=Xt({prop:"maxHeight",transform:Ar}),WU=Xt({prop:"minHeight",transform:Ar});Xt({prop:"size",cssProperty:"width",transform:Ar});Xt({prop:"size",cssProperty:"height",transform:Ar});const QU=Xt({prop:"boxSizing"});Wg(HU,eb,$U,GU,KU,WU,QU);const Zg={border:{themeKey:"borders",transform:Wr},borderTop:{themeKey:"borders",transform:Wr},borderRight:{themeKey:"borders",transform:Wr},borderBottom:{themeKey:"borders",transform:Wr},borderLeft:{themeKey:"borders",transform:Wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Qg},color:{themeKey:"palette",transform:Bu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Bu},backgroundColor:{themeKey:"palette",transform:Bu},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:jt},mt:{style:jt},mr:{style:jt},mb:{style:jt},ml:{style:jt},mx:{style:jt},my:{style:jt},margin:{style:jt},marginTop:{style:jt},marginRight:{style:jt},marginBottom:{style:jt},marginLeft:{style:jt},marginX:{style:jt},marginY:{style:jt},marginInline:{style:jt},marginInlineStart:{style:jt},marginInlineEnd:{style:jt},marginBlock:{style:jt},marginBlockStart:{style:jt},marginBlockEnd:{style:jt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Yg},rowGap:{style:Jg},columnGap:{style:Xg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ar},maxWidth:{style:eb},minWidth:{transform:Ar},height:{transform:Ar},maxHeight:{transform:Ar},minHeight:{transform:Ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function YU(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function XU(n,e){return typeof n=="function"?n(e):n}function JU(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=Kg(i,f)||{};return _?_(u):Vs(u,r,w=>{let I=ng(v,g,w);return w===I&&typeof w=="string"&&(I=ng(v,g,`${t}${w==="default"?"":Ga(w)}`,w)),d===!1?I:{[d]:I}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Zg;function u(h){let d=h;if(typeof h=="function")d=h(i);else if(typeof h!="object")return h;if(!d)return null;const f=dU(i.breakpoints),g=Object.keys(f);let _=f;return Object.keys(d).forEach(v=>{const T=XU(d[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=Id(_,n(v,T,i,o));else{const w=Vs({theme:i},T,I=>({[v]:I}));YU(w,T)?_[v]=e({sx:T,theme:i}):_=Id(_,w)}else _=Id(_,n(v,T,i,o))}),oU(i,fU(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const Ku=JU();Ku.filterProps=["sx"];function H0(){return H0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},H0.apply(null,arguments)}function ZU(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function e5(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var t5=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(e5(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=ZU(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),zn="-ms-",rg="-moz-",rt="-webkit-",LP="comm",tb="rule",nb="decl",n5="@import",UP="@keyframes",r5="@layer",i5=Math.abs,ey=String.fromCharCode,s5=Object.assign;function a5(n,e){return kn(n,0)^45?(((e<<2^kn(n,0))<<2^kn(n,1))<<2^kn(n,2))<<2^kn(n,3):0}function BP(n){return n.trim()}function o5(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function $0(n,e){return n.indexOf(e)}function kn(n,e){return n.charCodeAt(e)|0}function jd(n,e,t){return n.slice(e,t)}function Ni(n){return n.length}function rb(n){return n.length}function mm(n,e){return e.push(n),n}function l5(n,e){return n.map(e).join("")}var ty=1,Wu=1,FP=0,dr=0,an=0,Tc="";function ny(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:ty,column:Wu,length:u,return:""}}function td(n,e){return s5(ny("",null,null,"",null,null,0),n,{length:-n.length},e)}function u5(){return an}function c5(){return an=dr>0?kn(Tc,--dr):0,Wu--,an===10&&(Wu=1,ty--),an}function Pr(){return an=dr<FP?kn(Tc,dr++):0,Wu++,an===10&&(Wu=1,ty++),an}function Gi(){return kn(Tc,dr)}function km(){return dr}function bf(n,e){return jd(Tc,n,e)}function zd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jP(n){return ty=Wu=1,FP=Ni(Tc=n),dr=0,[]}function zP(n){return Tc="",n}function Nm(n){return BP(bf(dr-1,G0(n===91?n+2:n===40?n+1:n)))}function h5(n){for(;(an=Gi())&&an<33;)Pr();return zd(n)>2||zd(an)>3?"":" "}function d5(n,e){for(;--e&&Pr()&&!(an<48||an>102||an>57&&an<65||an>70&&an<97););return bf(n,km()+(e<6&&Gi()==32&&Pr()==32))}function G0(n){for(;Pr();)switch(an){case n:return dr;case 34:case 39:n!==34&&n!==39&&G0(an);break;case 40:n===41&&G0(n);break;case 92:Pr();break}return dr}function f5(n,e){for(;Pr()&&n+an!==57;)if(n+an===84&&Gi()===47)break;return"/*"+bf(e,dr-1)+"*"+ey(n===47?n:Pr())}function p5(n){for(;!zd(Gi());)Pr();return bf(n,dr)}function m5(n){return zP(Vm("",null,null,null,[""],n=jP(n),0,[0],n))}function Vm(n,e,t,r,i,o,u,h,d){for(var f=0,g=0,_=u,v=0,T=0,w=0,I=1,P=1,L=1,M=0,U="",$=i,j=o,H=r,V=U;P;)switch(w=M,M=Pr()){case 40:if(w!=108&&kn(V,_-1)==58){$0(V+=it(Nm(M),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:V+=Nm(M);break;case 9:case 10:case 13:case 32:V+=h5(w);break;case 92:V+=d5(km()-1,7);continue;case 47:switch(Gi()){case 42:case 47:mm(g5(f5(Pr(),km()),e,t),d);break;default:V+="/"}break;case 123*I:h[f++]=Ni(V)*L;case 125*I:case 59:case 0:switch(M){case 0:case 125:P=0;case 59+g:L==-1&&(V=it(V,/\f/g,"")),T>0&&Ni(V)-_&&mm(T>32?YI(V+";",r,t,_-1):YI(it(V," ","")+";",r,t,_-2),d);break;case 59:V+=";";default:if(mm(H=QI(V,e,t,f,g,i,h,U,$=[],j=[],_),o),M===123)if(g===0)Vm(V,e,H,H,$,o,_,h,j);else switch(v===99&&kn(V,3)===110?100:v){case 100:case 108:case 109:case 115:Vm(n,H,H,r&&mm(QI(n,H,H,0,0,i,h,U,i,$=[],_),j),i,j,_,h,r?$:j);break;default:Vm(V,H,H,H,[""],j,0,h,j)}}f=g=T=0,I=L=1,U=V="",_=u;break;case 58:_=1+Ni(V),T=w;default:if(I<1){if(M==123)--I;else if(M==125&&I++==0&&c5()==125)continue}switch(V+=ey(M),M*I){case 38:L=g>0?1:(V+="\f",-1);break;case 44:h[f++]=(Ni(V)-1)*L,L=1;break;case 64:Gi()===45&&(V+=Nm(Pr())),v=Gi(),g=_=Ni(U=V+=p5(km())),M++;break;case 45:w===45&&Ni(V)==2&&(I=0)}}return o}function QI(n,e,t,r,i,o,u,h,d,f,g){for(var _=i-1,v=i===0?o:[""],T=rb(v),w=0,I=0,P=0;w<r;++w)for(var L=0,M=jd(n,_+1,_=i5(I=u[w])),U=n;L<T;++L)(U=BP(I>0?v[L]+" "+M:it(M,/&\f/g,v[L])))&&(d[P++]=U);return ny(n,e,t,i===0?tb:h,d,f,g)}function g5(n,e,t){return ny(n,e,t,LP,ey(u5()),jd(n,2,-2),0)}function YI(n,e,t,r){return ny(n,e,t,nb,jd(n,0,r),jd(n,r+1,-1),r)}function Fu(n,e){for(var t="",r=rb(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function y5(n,e,t,r){switch(n.type){case r5:if(n.children.length)break;case n5:case nb:return n.return=n.return||n.value;case LP:return"";case UP:return n.return=n.value+"{"+Fu(n.children,r)+"}";case tb:n.value=n.props.join(",")}return Ni(t=Fu(n.children,r))?n.return=n.value+"{"+t+"}":""}function _5(n){var e=rb(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function v5(n){return function(e){e.root||(e=e.return)&&n(e)}}function qP(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var E5=function(e,t,r){for(var i=0,o=0;i=o,o=Gi(),i===38&&o===12&&(t[r]=1),!zd(o);)Pr();return bf(e,dr)},b5=function(e,t){var r=-1,i=44;do switch(zd(i)){case 0:i===38&&Gi()===12&&(t[r]=1),e[r]+=E5(dr-1,t,r);break;case 2:e[r]+=Nm(i);break;case 4:if(i===44){e[++r]=Gi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=ey(i)}while(i=Pr());return e},w5=function(e,t){return zP(b5(jP(e),t))},XI=new WeakMap,T5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!XI.get(r))&&!i){XI.set(e,!0);for(var o=[],u=w5(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},S5=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function HP(n,e){switch(a5(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+rg+n+zn+n+n;case 6828:case 4268:return rt+n+zn+n+n;case 6165:return rt+n+zn+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+zn+"flex-$1$2")+n;case 5443:return rt+n+zn+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+zn+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+zn+it(n,"shrink","negative")+n;case 5292:return rt+n+zn+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+zn+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(n)-1-e>6)switch(kn(n,e+1)){case 109:if(kn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+rg+(kn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~$0(n,"stretch")?HP(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(kn(n,e+1)!==115)break;case 6444:switch(kn(n,Ni(n)-3-(~$0(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(kn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+zn+"$2box$3")+n}break;case 5936:switch(kn(n,e+11)){case 114:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+zn+n+n}return n}var A5=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case nb:e.return=HP(e.value,e.length);break;case UP:return Fu([td(e,{value:it(e.value,"@","@"+rt)})],i);case tb:if(e.length)return l5(e.props,function(o){switch(o5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fu([td(e,{props:[it(o,/:(read-\w+)/,":"+rg+"$1")]})],i);case"::placeholder":return Fu([td(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),td(e,{props:[it(o,/:(plac\w+)/,":"+rg+"$1")]}),td(e,{props:[it(o,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},I5=[A5],R5=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var P=I.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||I5,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var P=I.getAttribute("data-emotion").split(" "),L=1;L<P.length;L++)o[P[L]]=!0;h.push(I)});var d,f=[T5,S5];{var g,_=[y5,v5(function(I){g.insert(I)})],v=_5(f.concat(i,_)),T=function(P){return Fu(m5(P),v)};d=function(P,L,M,U){g=M,T(P?P+"{"+L.styles+"}":L.styles),U&&(w.inserted[L.name]=!0)}}var w={key:t,sheet:new t5({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(h),w},C5=!0;function P5(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var $P=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||C5===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},x5=function(e,t,r){$P(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function O5(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var D5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},k5=/[A-Z]|^ms/g,N5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,GP=function(e){return e.charCodeAt(1)===45},JI=function(e){return e!=null&&typeof e!="boolean"},c0=qP(function(n){return GP(n)?n:n.replace(k5,"-$&").toLowerCase()}),ZI=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(N5,function(r,i,o){return Vi={name:i,styles:o,next:Vi},i})}return D5[e]!==1&&!GP(e)&&typeof t=="number"&&t!==0?t+"px":t};function qd(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Vi={name:i.name,styles:i.styles,next:Vi},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Vi={name:u.name,styles:u.styles,next:Vi},u=u.next;var h=o.styles+";";return h}return V5(n,e,t)}case"function":{if(n!==void 0){var d=Vi,f=t(n);return Vi=d,qd(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function V5(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=qd(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":JI(h)&&(r+=c0(o)+":"+ZI(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)JI(u[d])&&(r+=c0(o)+":"+ZI(o,u[d])+";");else{var f=qd(n,e,u);switch(o){case"animation":case"animationName":{r+=c0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var eR=/label:\s*([^\s;{]+)\s*(;|$)/g,Vi;function KP(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Vi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=qd(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=qd(t,e,n[h]),r){var d=o;i+=d[h]}eR.lastIndex=0;for(var f="",g;(g=eR.exec(i))!==null;)f+="-"+g[1];var _=O5(i)+f;return{name:_,styles:i,next:Vi}}var M5=function(e){return e()},L5=N0.useInsertionEffect?N0.useInsertionEffect:!1,U5=L5||M5,WP=W.createContext(typeof HTMLElement<"u"?R5({key:"css"}):null);WP.Provider;var B5=function(e){return W.forwardRef(function(t,r){var i=W.useContext(WP);return e(t,i,r)})},F5=W.createContext({}),j5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,z5=qP(function(n){return j5.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),q5=z5,H5=function(e){return e!=="theme"},tR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?q5:H5},nR=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},$5=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return $P(t,r,i),U5(function(){return x5(t,r,i)}),null},G5=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=nR(e,t,r),d=h||tR(i),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var I=B5(function(P,L,M){var U=f&&P.as||i,$="",j=[],H=P;if(P.theme==null){H={};for(var V in P)H[V]=P[V];H.theme=W.useContext(F5)}typeof P.className=="string"?$=P5(L.registered,j,P.className):P.className!=null&&($=P.className+" ");var C=KP(_.concat(j),L.registered,H);$+=L.key+"-"+C.name,u!==void 0&&($+=" "+u);var R=f&&h===void 0?tR(U):d,b={};for(var x in P)f&&x==="as"||R(x)&&(b[x]=P[x]);return b.className=$,M&&(b.ref=M),W.createElement(W.Fragment,null,W.createElement($5,{cache:L,serialized:C,isStringTag:typeof U=="string"}),W.createElement(U,b))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=_,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(P,L){var M=n(P,H0({},t,L,{shouldForwardProp:nR(I,L,!0)}));return M.apply(void 0,_)},I}},K5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],K0=G5.bind(null);K5.forEach(function(n){K0[n]=K0(n)});/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function W5(n,e){return K0(n,e)}function Q5(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const rR=[];function iR(n){return rR[0]=n,KP(rR)}const Y5=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function X5(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=Y5(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,T){const w=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?d(u[T]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...i}}const J5={borderRadius:4};function QP(n=8,e=ZE({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function Z5(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function YP(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=X5(t),d=QP(i);let f=Cr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...J5,...o}},u);return f=cU(f),f.applyStyles=Z5,f=e.reduce((g,_)=>Cr(g,_),f),f.unstable_sxConfig={...Zg,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return Ku({sx:_,theme:this})},f}function XP(n){const{variants:e,...t}=n,r={variants:e,style:iR(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=iR(i.style))}),r}const eB=YP();function h0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function tB(n){return n?(e,t)=>t[n]:null}function nB(n,e,t){n.theme=sB(n.theme)?t:n.theme[e]||n.theme}function Mm(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Mm(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return JP(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function JP(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function rB(n={}){const{themeId:e,defaultTheme:t=eB,rootShouldForwardProp:r=h0,slotShouldForwardProp:i=h0}=n;function o(h){nB(h,e,t)}return(h,d={})=>{Q5(h,j=>j.filter(H=>H!==Ku));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=tB(oB(g)),...w}=d,I=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,P=v||!1;let L=h0;g==="Root"||g==="root"?L=r:g?L=i:aB(h)&&(L=void 0);const M=W5(h,{shouldForwardProp:L,label:iB(),...w}),U=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(V){return Mm(V,j)};if(Cs(j)){const H=XP(j);return H.variants?function(C){return Mm(C,H)}:H.style}return j},$=(...j)=>{const H=[],V=j.map(U),C=[];if(H.push(o),f&&T&&C.push(function(O){var ee,ie;const te=(ie=(ee=O.theme.components)==null?void 0:ee[f])==null?void 0:ie.styleOverrides;if(!te)return null;const B={};for(const ue in te)B[ue]=Mm(O,te[ue]);return T(O,B)}),f&&!I&&C.push(function(O){var B,ee;const D=O.theme,te=(ee=(B=D==null?void 0:D.components)==null?void 0:B[f])==null?void 0:ee.variants;return te?JP(O,te):null}),P||C.push(Ku),Array.isArray(V[0])){const x=V.shift(),O=new Array(H.length).fill(""),D=new Array(C.length).fill("");let te;te=[...O,...x,...D],te.raw=[...O,...x.raw,...D],H.unshift(te)}const R=[...H,...V,...C],b=M(...R);return h.muiName&&(b.muiName=h.muiName),b};return M.withConfig&&($.withConfig=M.withConfig),$}}function iB(n,e){return void 0}function sB(n){for(const e in n)return!1;return!0}function aB(n){return typeof n=="string"&&n.charCodeAt(0)>96}function oB(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function ib(n,e=0,t=1){return xP(n,e,t)}function lB(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ka(n){if(n.type)return n;if(n.charAt(0)==="#")return Ka(lB(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(pl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(pl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const uB=n=>{const e=Ka(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},yd=(n,e)=>{try{return uB(n)}catch{return n}};function ry(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ZP(n){n=Ka(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(f,g=(f+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),ry({type:h,values:d})}function W0(n){n=Ka(n);let e=n.type==="hsl"||n.type==="hsla"?Ka(ZP(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function cB(n,e){const t=W0(n),r=W0(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function hB(n,e){return n=Ka(n),e=ib(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,ry(n)}function gm(n,e,t){try{return hB(n,e)}catch{return n}}function sb(n,e){if(n=Ka(n),e=ib(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return ry(n)}function ft(n,e,t){try{return sb(n,e)}catch{return n}}function ab(n,e){if(n=Ka(n),e=ib(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return ry(n)}function pt(n,e,t){try{return ab(n,e)}catch{return n}}function dB(n,e=.15){return W0(n)>.5?sb(n,e):ab(n,e)}function ym(n,e,t){try{return dB(n,e)}catch{return n}}const fB=W.createContext(void 0);function pB(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?q0(i.defaultProps,r):!i.styleOverrides&&!i.variants?q0(i,r):r}function mB({props:n,name:e}){const t=W.useContext(fB);return pB({props:n,name:e,theme:{components:t}})}const sR={theme:void 0};function gB(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(sR.theme=i.theme,o=XP(n(sR)),e=o,t=i.theme),o}}function yB(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const aR=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},_B=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},vB=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function d0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return _B(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=vB(h,d);Object.assign(i,{[g]:_}),aR(o,h,`var(${g})`,f),aR(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function EB(n,e={}){const{getSelector:t=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...d}=n,{vars:f,css:g,varsWithDefaults:_}=d0(d,e);let v=_;const T={},{[h]:w,...I}=o;if(Object.entries(I||{}).forEach(([U,$])=>{const{vars:j,css:H,varsWithDefaults:V}=d0($,e);v=Cr(v,V),T[U]={css:H,vars:j}}),w){const{css:U,vars:$,varsWithDefaults:j}=d0(w,e);v=Cr(v,j),T[h]={css:U,vars:$}}function P(U,$){var H,V;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),U){if(j==="media")return n.defaultColorScheme===U?":root":{[`@media (prefers-color-scheme: ${((V=(H=o[U])==null?void 0:H.palette)==null?void 0:V.mode)||U})`]:{":root":$}};if(j)return n.defaultColorScheme===U?`:root, ${j.replace("%s",String(U))}`:j.replace("%s",String(U))}return":root"}return{vars:v,generateThemeVars:()=>{let U={...f};return Object.entries(T).forEach(([,{vars:$}])=>{U=Cr(U,$)}),U},generateStyleSheets:()=>{var C,R;const U=[],$=n.defaultColorScheme||"light";function j(b,x){Object.keys(x).length&&U.push(typeof b=="string"?{[b]:{...x}}:b)}j(t(void 0,{...g}),g);const{[$]:H,...V}=T;if(H){const{css:b}=H,x=(R=(C=o[$])==null?void 0:C.palette)==null?void 0:R.mode,O=!r&&x?{colorScheme:x,...b}:{...b};j(t($,{...O}),O)}return Object.entries(V).forEach(([b,{css:x}])=>{var te,B;const O=(B=(te=o[b])==null?void 0:te.palette)==null?void 0:B.mode,D=!r&&O?{colorScheme:O,...x}:{...x};j(t(b,{...D}),D)}),U}}}function bB(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Hd={black:"#000",white:"#fff"},wB={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},bu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},wu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},nd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Tu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Su={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Au={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function ex(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hd.white,default:Hd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const TB=ex();function tx(){return{text:{primary:Hd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const oR=tx();function lR(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=ab(n.main,i):e==="dark"&&(n.dark=sb(n.main,o)))}function SB(n="light"){return n==="dark"?{main:Tu[200],light:Tu[50],dark:Tu[400]}:{main:Tu[700],light:Tu[400],dark:Tu[800]}}function AB(n="light"){return n==="dark"?{main:bu[200],light:bu[50],dark:bu[400]}:{main:bu[500],light:bu[300],dark:bu[700]}}function IB(n="light"){return n==="dark"?{main:wu[500],light:wu[300],dark:wu[700]}:{main:wu[700],light:wu[400],dark:wu[800]}}function RB(n="light"){return n==="dark"?{main:Su[400],light:Su[300],dark:Su[700]}:{main:Su[700],light:Su[500],dark:Su[900]}}function CB(n="light"){return n==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:Au[800],light:Au[500],dark:Au[900]}}function PB(n="light"){return n==="dark"?{main:nd[400],light:nd[300],dark:nd[700]}:{main:"#ed6c02",light:nd[500],dark:nd[900]}}function ob(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||SB(e),u=n.secondary||AB(e),h=n.error||IB(e),d=n.info||RB(e),f=n.success||CB(e),g=n.warning||PB(e);function _(I){return cB(I,oR.text.primary)>=t?oR.text.primary:TB.text.primary}const v=({color:I,name:P,mainShade:L=500,lightShade:M=300,darkShade:U=700})=>{if(I={...I},!I.main&&I[L]&&(I.main=I[L]),!I.hasOwnProperty("main"))throw new Error(pl(11,P?` (${P})`:"",L));if(typeof I.main!="string")throw new Error(pl(12,P?` (${P})`:"",JSON.stringify(I.main)));return lR(I,"light",M,r),lR(I,"dark",U,r),I.contrastText||(I.contrastText=_(I.main)),I};let T;return e==="light"?T=ex():e==="dark"&&(T=tx()),Cr({common:{...Hd},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:wB,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function xB(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function OB(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function DB(n){return Math.round(n*1e5)/1e5}const uR={textTransform:"uppercase"},cR='"Roboto", "Helvetica", "Arial", sans-serif';function kB(n,e){const{fontFamily:t=cR,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(P=>`${P/d*v}rem`),w=(P,L,M,U,$)=>({fontFamily:t,fontWeight:P,fontSize:T(L),lineHeight:M,...t===cR?{letterSpacing:`${DB(U/L)}em`}:{},...$,...f}),I={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,uR),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,uR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},_,{clone:!1})}const NB=.2,VB=.14,MB=.12;function bt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${NB})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${VB})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${MB})`].join(",")}const LB=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],UB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},BB={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hR(n){return`${Math.round(n)}ms`}function FB(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function jB(n){const e={...UB,...n.easing},t={...BB,...n.duration};return{getAutoHeightDuration:FB,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:hR(u)} ${h} ${typeof d=="string"?d:hR(d)}`).join(",")},...n,easing:e,duration:t}}const zB={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function qB(n){return Cs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function nx(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!qB(h)||u.startsWith("unstable_")?delete r[u]:Cs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Q0(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:d,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(pl(20));const g=ob(o),_=YP(n);let v=Cr(_,{mixins:OB(_.breakpoints,r),palette:g,shadows:LB.slice(),typography:kB(g,h),transitions:jB(u),zIndex:{...zB}});return v=Cr(v,f),v=e.reduce((T,w)=>Cr(T,w),v),v.unstable_sxConfig={...Zg,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(w){return Ku({sx:w,theme:this})},v.toRuntimeSource=nx,v}function HB(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const $B=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=HB(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function rx(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function ix(n){return n==="dark"?$B:[]}function GB(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=ob(e);return{palette:o,opacity:{...rx(o.mode),...t},overlays:r||ix(o.mode),...i}}function KB(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const WB=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],QB=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return WB(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function YB(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function oe(n,e,t){!n[e]&&t&&(n[e]=t)}function _d(n){return typeof n!="string"||!n.startsWith("hsl")?n:ZP(n)}function Rs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=yd(_d(n[e])))}function XB(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xi=n=>{try{return n()}catch{}},JB=(n="mui")=>yB(n);function f0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=GB({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=Q0({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...rx(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||ix(i)},u}function ZB(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=KB,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=JB(o),{[_]:T,light:w,dark:I,...P}=t,L={...P};let M=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(M=!0),!M)throw new Error(pl(21,_));const U=f0(L,M,f,_);w&&!L.light&&f0(L,w,void 0,"light"),I&&!L.dark&&f0(L,I,void 0,"dark");let $={defaultColorScheme:_,...U,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:d,getCssVar:v,colorSchemes:L,font:{...xB(U.typography),...U.font},spacing:XB(f.spacing)};Object.keys($.colorSchemes).forEach(R=>{const b=$.colorSchemes[R].palette,x=O=>{const D=O.split("-"),te=D[1],B=D[2];return v(O,b[te][B])};if(b.mode==="light"&&(oe(b.common,"background","#fff"),oe(b.common,"onBackground","#000")),b.mode==="dark"&&(oe(b.common,"background","#000"),oe(b.common,"onBackground","#fff")),YB(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){oe(b.Alert,"errorColor",ft(b.error.light,.6)),oe(b.Alert,"infoColor",ft(b.info.light,.6)),oe(b.Alert,"successColor",ft(b.success.light,.6)),oe(b.Alert,"warningColor",ft(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",x("palette-error-main")),oe(b.Alert,"infoFilledBg",x("palette-info-main")),oe(b.Alert,"successFilledBg",x("palette-success-main")),oe(b.Alert,"warningFilledBg",x("palette-warning-main")),oe(b.Alert,"errorFilledColor",xi(()=>b.getContrastText(b.error.main))),oe(b.Alert,"infoFilledColor",xi(()=>b.getContrastText(b.info.main))),oe(b.Alert,"successFilledColor",xi(()=>b.getContrastText(b.success.main))),oe(b.Alert,"warningFilledColor",xi(()=>b.getContrastText(b.warning.main))),oe(b.Alert,"errorStandardBg",pt(b.error.light,.9)),oe(b.Alert,"infoStandardBg",pt(b.info.light,.9)),oe(b.Alert,"successStandardBg",pt(b.success.light,.9)),oe(b.Alert,"warningStandardBg",pt(b.warning.light,.9)),oe(b.Alert,"errorIconColor",x("palette-error-main")),oe(b.Alert,"infoIconColor",x("palette-info-main")),oe(b.Alert,"successIconColor",x("palette-success-main")),oe(b.Alert,"warningIconColor",x("palette-warning-main")),oe(b.AppBar,"defaultBg",x("palette-grey-100")),oe(b.Avatar,"defaultBg",x("palette-grey-400")),oe(b.Button,"inheritContainedBg",x("palette-grey-300")),oe(b.Button,"inheritContainedHoverBg",x("palette-grey-A100")),oe(b.Chip,"defaultBorder",x("palette-grey-400")),oe(b.Chip,"defaultAvatarColor",x("palette-grey-700")),oe(b.Chip,"defaultIconColor",x("palette-grey-700")),oe(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(b.LinearProgress,"primaryBg",pt(b.primary.main,.62)),oe(b.LinearProgress,"secondaryBg",pt(b.secondary.main,.62)),oe(b.LinearProgress,"errorBg",pt(b.error.main,.62)),oe(b.LinearProgress,"infoBg",pt(b.info.main,.62)),oe(b.LinearProgress,"successBg",pt(b.success.main,.62)),oe(b.LinearProgress,"warningBg",pt(b.warning.main,.62)),oe(b.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),oe(b.Slider,"primaryTrack",pt(b.primary.main,.62)),oe(b.Slider,"secondaryTrack",pt(b.secondary.main,.62)),oe(b.Slider,"errorTrack",pt(b.error.main,.62)),oe(b.Slider,"infoTrack",pt(b.info.main,.62)),oe(b.Slider,"successTrack",pt(b.success.main,.62)),oe(b.Slider,"warningTrack",pt(b.warning.main,.62));const O=ym(b.background.default,.8);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",xi(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",ym(b.background.paper,.15)),oe(b.StepConnector,"border",x("palette-grey-400")),oe(b.StepContent,"border",x("palette-grey-400")),oe(b.Switch,"defaultColor",x("palette-common-white")),oe(b.Switch,"defaultDisabledColor",x("palette-grey-100")),oe(b.Switch,"primaryDisabledColor",pt(b.primary.main,.62)),oe(b.Switch,"secondaryDisabledColor",pt(b.secondary.main,.62)),oe(b.Switch,"errorDisabledColor",pt(b.error.main,.62)),oe(b.Switch,"infoDisabledColor",pt(b.info.main,.62)),oe(b.Switch,"successDisabledColor",pt(b.success.main,.62)),oe(b.Switch,"warningDisabledColor",pt(b.warning.main,.62)),oe(b.TableCell,"border",pt(gm(b.divider,1),.88)),oe(b.Tooltip,"bg",gm(b.grey[700],.92))}if(b.mode==="dark"){oe(b.Alert,"errorColor",pt(b.error.light,.6)),oe(b.Alert,"infoColor",pt(b.info.light,.6)),oe(b.Alert,"successColor",pt(b.success.light,.6)),oe(b.Alert,"warningColor",pt(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",x("palette-error-dark")),oe(b.Alert,"infoFilledBg",x("palette-info-dark")),oe(b.Alert,"successFilledBg",x("palette-success-dark")),oe(b.Alert,"warningFilledBg",x("palette-warning-dark")),oe(b.Alert,"errorFilledColor",xi(()=>b.getContrastText(b.error.dark))),oe(b.Alert,"infoFilledColor",xi(()=>b.getContrastText(b.info.dark))),oe(b.Alert,"successFilledColor",xi(()=>b.getContrastText(b.success.dark))),oe(b.Alert,"warningFilledColor",xi(()=>b.getContrastText(b.warning.dark))),oe(b.Alert,"errorStandardBg",ft(b.error.light,.9)),oe(b.Alert,"infoStandardBg",ft(b.info.light,.9)),oe(b.Alert,"successStandardBg",ft(b.success.light,.9)),oe(b.Alert,"warningStandardBg",ft(b.warning.light,.9)),oe(b.Alert,"errorIconColor",x("palette-error-main")),oe(b.Alert,"infoIconColor",x("palette-info-main")),oe(b.Alert,"successIconColor",x("palette-success-main")),oe(b.Alert,"warningIconColor",x("palette-warning-main")),oe(b.AppBar,"defaultBg",x("palette-grey-900")),oe(b.AppBar,"darkBg",x("palette-background-paper")),oe(b.AppBar,"darkColor",x("palette-text-primary")),oe(b.Avatar,"defaultBg",x("palette-grey-600")),oe(b.Button,"inheritContainedBg",x("palette-grey-800")),oe(b.Button,"inheritContainedHoverBg",x("palette-grey-700")),oe(b.Chip,"defaultBorder",x("palette-grey-700")),oe(b.Chip,"defaultAvatarColor",x("palette-grey-300")),oe(b.Chip,"defaultIconColor",x("palette-grey-300")),oe(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(b.LinearProgress,"primaryBg",ft(b.primary.main,.5)),oe(b.LinearProgress,"secondaryBg",ft(b.secondary.main,.5)),oe(b.LinearProgress,"errorBg",ft(b.error.main,.5)),oe(b.LinearProgress,"infoBg",ft(b.info.main,.5)),oe(b.LinearProgress,"successBg",ft(b.success.main,.5)),oe(b.LinearProgress,"warningBg",ft(b.warning.main,.5)),oe(b.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),oe(b.Slider,"primaryTrack",ft(b.primary.main,.5)),oe(b.Slider,"secondaryTrack",ft(b.secondary.main,.5)),oe(b.Slider,"errorTrack",ft(b.error.main,.5)),oe(b.Slider,"infoTrack",ft(b.info.main,.5)),oe(b.Slider,"successTrack",ft(b.success.main,.5)),oe(b.Slider,"warningTrack",ft(b.warning.main,.5));const O=ym(b.background.default,.98);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",xi(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",ym(b.background.paper,.15)),oe(b.StepConnector,"border",x("palette-grey-600")),oe(b.StepContent,"border",x("palette-grey-600")),oe(b.Switch,"defaultColor",x("palette-grey-300")),oe(b.Switch,"defaultDisabledColor",x("palette-grey-600")),oe(b.Switch,"primaryDisabledColor",ft(b.primary.main,.55)),oe(b.Switch,"secondaryDisabledColor",ft(b.secondary.main,.55)),oe(b.Switch,"errorDisabledColor",ft(b.error.main,.55)),oe(b.Switch,"infoDisabledColor",ft(b.info.main,.55)),oe(b.Switch,"successDisabledColor",ft(b.success.main,.55)),oe(b.Switch,"warningDisabledColor",ft(b.warning.main,.55)),oe(b.TableCell,"border",ft(gm(b.divider,1),.68)),oe(b.Tooltip,"bg",gm(b.grey[700],.92))}Rs(b.background,"default"),Rs(b.background,"paper"),Rs(b.common,"background"),Rs(b.common,"onBackground"),Rs(b,"divider"),Object.keys(b).forEach(O=>{const D=b[O];O!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&oe(b[O],"mainChannel",yd(_d(D.main))),D.light&&oe(b[O],"lightChannel",yd(_d(D.light))),D.dark&&oe(b[O],"darkChannel",yd(_d(D.dark))),D.contrastText&&oe(b[O],"contrastTextChannel",yd(_d(D.contrastText))),O==="text"&&(Rs(b[O],"primary"),Rs(b[O],"secondary")),O==="action"&&(D.active&&Rs(b[O],"active"),D.selected&&Rs(b[O],"selected")))})}),$=e.reduce((R,b)=>Cr(R,b),$);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:QB($)},{vars:H,generateThemeVars:V,generateStyleSheets:C}=EB($,j);return $.vars=H,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([R,b])=>{$[R]=b}),$.generateThemeVars=V,$.generateStyleSheets=C,$.generateSpacing=function(){return QP(f.spacing,ZE(this))},$.getColorSchemeSelector=bB(h),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=u,$.unstable_sxConfig={...Zg,...f==null?void 0:f.unstable_sxConfig},$.unstable_sx=function(b){return Ku({sx:b,theme:this})},$.toRuntimeSource=nx,$}function dR(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:ob({...t===!0?{}:t.palette,mode:e})})}function eF(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",d=i==null?void 0:i[h],f={...i,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Q0(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=Q0({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},dR(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},dR(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),ZB({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const tF=eF(),nF="$$material";function sx(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const rF=n=>sx(n)&&n!=="classes",wf=rB({themeId:nF,defaultTheme:tF,rootShouldForwardProp:rF}),lb=gB;function ax(n){return mB(n)}function iF(n){return YE("MuiSvgIcon",n)}VP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const sF=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Ga(e)}`,`fontSize${Ga(t)}`]};return OP(i,iF,r)},aF=wf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ga(t.color)}`],e[`fontSize${Ga(t.fontSize)}`]]}})(lb(({theme:n})=>{var e,t,r,i,o,u,h,d,f,g,_,v,T,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:I=>!I.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,I])=>I&&I.main).map(([I])=>{var P,L;return{props:{color:I},style:{color:(L=(P=(n.vars??n).palette)==null?void 0:P[I])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(w=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Y0=W.forwardRef(function(e,t){const r=ax({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=W.isValidElement(i)&&i.type==="svg",I={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},P={};g||(P.viewBox=v);const L=sF(I);return z.jsxs(aF,{as:h,className:Ad(L.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...P,...T,...w&&i.props,ownerState:I,children:[w?i.props.children:i,_?z.jsx("title",{children:_}):null]})});Y0.muiName="SvgIcon";function ox(n,e){function t(r,i){return z.jsx(Y0,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=Y0.muiName,W.memo(W.forwardRef(t))}const oF=ox(z.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),lF=ox(z.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function uF(n){return YE("MuiRating",n)}const rd=VP("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function cF(n){const e=n.toString().split(".")[1];return e?e.length:0}function p0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(cF(e)))}const hF=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${Ga(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return OP(h,uF,e)},dF=wf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${rd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ga(t.size)}`],t.readOnly&&e.readOnly]}})(lb(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${rd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${rd.focusVisible} .${rd.iconActive}`]:{outline:"1px solid #999"},[`& .${rd.visuallyHidden}`]:W4,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),lx=wf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),fF=wf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(lb(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),pF=wf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>sx(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function mF(n){const{value:e,...t}=n;return z.jsx("span",{...t})}function fR(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:I,onClick:P,onFocus:L,readOnly:M,ownerState:U,ratingValue:$,ratingValueRounded:j}=n,H=u?_===$:_<=$,V=_<=h,C=_<=i,R=_===j,b=`${T}-${NP()}`,x=z.jsx(fF,{as:f,value:_,className:Ad(e.icon,H?e.iconFilled:e.iconEmpty,V&&e.iconHover,C&&e.iconFocus,g&&e.iconActive),ownerState:{...U,iconEmpty:!H,iconFilled:H,iconHover:V,iconFocus:C,iconActive:g},children:r&&!H?r:d});return M?z.jsx("span",{...v,children:x}):z.jsxs(W.Fragment,{children:[z.jsxs(lx,{ownerState:{...U,emptyValueFocused:void 0},htmlFor:b,...v,children:[x,z.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),z.jsx("input",{className:e.visuallyHidden,onFocus:L,onBlur:w,onChange:I,onClick:P,disabled:t,value:_,id:b,type:"radio",name:T,checked:R})]})}const gF=z.jsx(oF,{fontSize:"inherit"}),yF=z.jsx(lF,{fontSize:"inherit"});function _F(n){return`${n||"0"} Star${n!==1?"s":""}`}const vF=W.forwardRef(function(e,t){const r=ax({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=yF,emptyLabelText:f="Empty",getLabelText:g=_F,highlightSelectedOnly:_=!1,icon:v=gF,IconContainerComponent:T=mF,max:w=5,name:I,onChange:P,onChangeActive:L,onMouseLeave:M,onMouseMove:U,precision:$=1,readOnly:j=!1,size:H="medium",value:V,...C}=r,R=NP(I),[b,x]=nU({controlled:V,default:u,name:"Rating"}),O=p0(b,$),D=Y4(),[{hover:te,focus:B},ee]=W.useState({hover:-1,focus:-1});let ie=O;te!==-1&&(ie=te),B!==-1&&(ie=B);const[ue,Te]=W.useState(!1),q=W.useRef(),ae=rU(q,t),be=Je=>{U&&U(Je);const at=q.current,{right:Jt,left:fr,width:Mn}=at.getBoundingClientRect();let Or;D?Or=(Jt-Je.clientX)/Mn:Or=(Je.clientX-fr)/Mn;let Ln=p0(w*Or+$/2,$);Ln=xP(Ln,$,w),ee(rr=>rr.hover===Ln&&rr.focus===Ln?rr:{hover:Ln,focus:Ln}),Te(!1),L&&te!==Ln&&L(Je,Ln)},ve=Je=>{M&&M(Je);const at=-1;ee({hover:at,focus:at}),L&&te!==at&&L(Je,at)},ye=Je=>{let at=Je.target.value===""?null:parseFloat(Je.target.value);te!==-1&&(at=te),x(at),P&&P(Je,at)},Oe=Je=>{Je.clientX===0&&Je.clientY===0||(ee({hover:-1,focus:-1}),x(null),P&&parseFloat(Je.target.value)===O&&P(Je,null))},De=Je=>{jI(Je.target)&&Te(!0);const at=parseFloat(Je.target.value);ee(Jt=>({hover:Jt.hover,focus:at}))},Ct=Je=>{if(te!==-1)return;jI(Je.target)||Te(!1);const at=-1;ee(Jt=>({hover:Jt.hover,focus:at}))},[ze,_t]=W.useState(!1),$e={...r,component:i,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:ze,focusVisible:ue,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:$,readOnly:j,size:H},Et=hF($e);return z.jsxs(dF,{as:i,ref:ae,onMouseMove:be,onMouseLeave:ve,className:Ad(Et.root,o,j&&"MuiRating-readOnly"),ownerState:$e,role:j?"img":null,"aria-label":j?g(ie):null,...C,children:[Array.from(new Array(w)).map((Je,at)=>{const Jt=at+1,fr={classes:Et,disabled:h,emptyIcon:d,focus:B,getLabelText:g,highlightSelectedOnly:_,hover:te,icon:v,IconContainerComponent:T,name:R,onBlur:Ct,onChange:ye,onClick:Oe,onFocus:De,ratingValue:ie,ratingValueRounded:O,readOnly:j,ownerState:$e},Mn=Jt===Math.ceil(ie)&&(te!==-1||B!==-1);if($<1){const Or=Array.from(new Array(1/$));return z.jsx(pF,{className:Ad(Et.decimal,Mn&&Et.iconActive),ownerState:$e,iconActive:Mn,children:Or.map((Ln,rr)=>{const Zr=p0(Jt-1+(rr+1)*$,$);return z.jsx(fR,{...fr,isActive:!1,itemValue:Zr,labelProps:{style:Or.length-1===rr?{}:{width:Zr===ie?`${(rr+1)*$*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Zr)})},Jt)}return z.jsx(fR,{...fr,isActive:Mn,itemValue:Jt},Jt)}),!j&&!h&&z.jsxs(lx,{className:Ad(Et.label,Et.labelEmptyValue),ownerState:$e,children:[z.jsx("input",{className:Et.visuallyHidden,value:"",id:`${R}-empty`,type:"radio",name:R,checked:O==null,onFocus:()=>_t(!0),onBlur:()=>_t(!1),onChange:ye}),z.jsx("span",{className:Et.visuallyHidden,children:f})]})]})});var Lm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var EF=Lm.exports,pR;function bF(){return pR||(pR=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(EF,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,T;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&f.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,I=0,P="",L=1e12,M=1e9,U=1e6,$=1e3,j="",H=!1,V,C,R,b,x,O,D;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(x=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(V=g.match(/a(k|m|b|t)?/),V=V?V[1]:!1,e._.includes(g," a")&&(P=" "),g=g.replace(new RegExp(P+"a[kmbt]?"),""),C>=L&&!V||V==="t"?(P+=v.abbreviations.trillion,f=f/L):C<L&&C>=M&&!V||V==="b"?(P+=v.abbreviations.billion,f=f/M):C<M&&C>=U&&!V||V==="m"?(P+=v.abbreviations.million,f=f/U):(C<U&&C>=$&&!V||V==="k")&&(P+=v.abbreviations.thousand,f=f/$)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),R=f.toString().split(".")[0],b=g.split(".")[1],O=g.indexOf(","),I=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,b?(e._.includes(b,"[")?(b=b.replace("]",""),b=b.split("["),j=e._.toFixed(f,b[0].length+b[1].length,_,b[1].length)):j=e._.toFixed(f,b.length,_),R=j.split(".")[0],e._.includes(j,".")?j=v.delimiters.decimal+j.split(".")[1]:j="",w&&Number(j.slice(1))===0&&(j="")):R=e._.toFixed(f,0,_),P&&!V&&Number(R)>=1e3&&P!==v.abbreviations.trillion)switch(R=String(Number(R)/1e3),P){case v.abbreviations.thousand:P=v.abbreviations.million;break;case v.abbreviations.million:P=v.abbreviations.billion;break;case v.abbreviations.billion:P=v.abbreviations.trillion;break}if(e._.includes(R,"-")&&(R=R.slice(1),H=!0),R.length<I)for(var te=I-R.length;te>0;te--)R="0"+R;return O>-1&&(R=R.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(R=""),D=R+j+(P||""),T?D=(T&&H?"(":"")+D+(T&&H?")":""):x>=0?D=x===0?(H?"-":"+")+D:D+(H?"-":"+"):H&&(D="-"+D),D},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},T,w,I;if(h.zeroFormat&&f===h.zeroFormat)w=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(I=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(I)){w*=Math.pow(10,v[T]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var T=f.toString().split("."),w=g-(v||0),I,P,L,M;return T.length===2?I=Math.min(Math.max(T[1].length,w),g):I=w,L=Math.pow(10,I),M=(_(f+"e+"+I)/L).toFixed(I),v>g-I&&(P=new RegExp("\\.?0{1,"+(v-(g-I))+"}$"),M=M.replace(P,"")),M}},e.options=h,e.formats=i,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,T,w,I,P,L,M;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{L=e.localeData(g)}catch{L=e.localeData(e.locale())}return T=L.currency.symbol,I=L.abbreviations,_=L.delimiters.decimal,L.delimiters.thousands==="."?v="\\.":v=L.delimiters.thousands,M=f.match(/^[^\d]+/),M!==null&&(f=f.substr(1),M[0]!==T)||(M=f.match(/[^\d]+$/),M!==null&&(f=f.slice(0,-1),M[0]!==I.thousand&&M[0]!==I.million&&M[0]!==I.billion&&M[0]!==I.trillion))?!1:(P=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(P):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(P)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(P)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,T,w,I;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){I=i[T].format;break}I=I||e._.numberToFormat,w=I(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v+Math.round(g*T)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v-Math.round(g*T)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)*Math.round(v*I)/Math.round(I*I)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)/Math.round(v*I)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",T;return f=f*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,I){var P,L=e._.includes(w,"ib")?g:f,M=e._.includes(w," b")||e._.includes(w," ib")?" ":"",U,$,j;for(w=w.replace(/\s?i?b/,""),U=0;U<=L.suffixes.length;U++)if($=Math.pow(L.base,U),j=Math.pow(L.base,U+1),T===null||T===0||T>=$&&T<j){M+=L.suffixes[U],$>0&&(T=T/$);break}return P=e._.numberToFormat(T,w,I),P+M},unformat:function(T){var w=e._.stringToNumber(T),I,P;if(w){for(I=f.suffixes.length-1;I>=0;I--){if(e._.includes(T,f.suffixes[I])){P=Math.pow(f.base,I);break}if(e._.includes(T,g.suffixes[I])){P=Math.pow(g.base,I);break}}w*=P||1}return w}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,I,P;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),P=0;P<T.before.length;P++)switch(I=T.before[P],I){case"$":w=e._.insert(w,v.currency.symbol,P);break;case" ":w=e._.insert(w," ",P+v.currency.symbol.length-1);break}for(P=T.after.length-1;P>=0;P--)switch(I=T.after[P],I){case"$":w=P===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+P)));break;case" ":w=P===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+P)+v.currency.symbol.length-1));break}return w}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function T(w,I,P,L){var M=e._.correctionFactor(w,I),U=w*M*(I*M)/(M*M);return U}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),T=e._.numberToFormat(f,g,_),T+w}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),T=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(Lm)),Lm.exports}var wF=bF();const TF=FE(wF),ub=({amount:n})=>{const e=TF(n).format("$0,0.00");return z.jsx("div",{children:e})},zs=W.createContext(),SF=({children:n,reducer:e,initialState:t})=>z.jsx(zs.Provider,{value:W.useReducer(e,t),children:n}),li={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Sc({data:n,flex:e,renderDesc:t,renderADD:r}){const{image:i,title:o,id:u,rating:h,price:d,description:f}=n,[g,_]=W.useContext(zs),v=()=>{_({type:li.ADD_TO_BASKET,item:{image:i,title:o,id:u,rating:h,price:d,description:f}})};return z.jsxs("div",{className:`${gd.card_container} ${e?gd.product_flexed:""}`,children:[z.jsx(ji,{to:`/products/${u}`,children:z.jsx("img",{src:i,alt:""})}),z.jsxs("div",{children:[z.jsx("h3",{children:o}),t&&z.jsx("div",{style:{maxWidth:"700px"},children:f}),z.jsxs("div",{className:gd.rating,children:[z.jsx(vF,{value:h.rate,precision:.1}),z.jsx("small",{children:h.count})]}),z.jsx("div",{children:z.jsx(ub,{amount:d})}),r&&z.jsx("button",{className:gd.button,onClick:v,children:"Add to cart"})]})]})}function AF(){const[n,e]=W.useState();return W.useEffect(()=>{Rt.get("https://fakestoreapi.com/products").then(t=>{e(t.data)}).catch(t=>{console.log(t)})},[]),z.jsx("div",{className:gd.product_contianer,children:n==null?void 0:n.map((t,r)=>z.jsx(Sc,{data:t,renderADD:!0},r))})}const IF="_header_container_7jhb3_5",RF="_logo_container_7jhb3_13",CF="_delivery_7jhb3_26",PF="_search_7jhb3_41",xF="_order_container_7jhb3_77",OF="_language_7jhb3_94",DF="_cart_7jhb3_107",kF="_lower_header_7jhb3_128",NF="_fixed_Header_7jhb3_152",Di={header_container:IF,logo_container:RF,delivery:CF,search:PF,order_container:xF,language:OF,cart:DF,lower_header:kF,fixed_Header:NF};var ux={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mR=Ke.createContext&&Ke.createContext(ux),VF=["attr","size","title"];function MF(n,e){if(n==null)return{};var t=LF(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function LF(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ig(){return ig=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ig.apply(this,arguments)}function gR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function sg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(t),!0).forEach(function(r){UF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function UF(n,e,t){return e=BF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BF(n){var e=FF(n,"string");return typeof e=="symbol"?e:e+""}function FF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cx(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,sg({key:t},e.attr),cx(e.child)))}function Tf(n){return e=>Ke.createElement(jF,ig({attr:sg({},n.attr)},e),cx(n.child))}function jF(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=MF(n,VF),h=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",ig({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:sg(sg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return mR!==void 0?Ke.createElement(mR.Consumer,null,t=>e(t)):e(ux)}function zF(n){return Tf({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function qF(n){return Tf({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function HF(n){return Tf({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function $F(){return z.jsx("div",{className:Di.lower_header,children:z.jsxs("ul",{children:[z.jsxs("li",{children:[z.jsx(HF,{}),z.jsx("p",{children:"All"})]}),z.jsx("li",{children:"Today's Deals"}),z.jsx("li",{children:"Customer service"}),z.jsx("li",{children:"Registry"}),z.jsx("li",{children:"Gift Cards"}),z.jsx("li",{children:"Sell"})]})})}const GF=()=>{};var yR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KF=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,T=f&63;d||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||f==null||_==null)throw new WF;const v=o<<2|h>>4;if(r.push(v),f!==64){const T=h<<4&240|f>>2;if(r.push(T),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class WF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QF=function(n){const e=hx(n);return dx.encodeByteArray(e,!0)},ag=function(n){return QF(n).replace(/\./g,"")},cb=function(n){try{return dx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function og(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!YF(t)||(n[t]=og(n[t],e[t]));return n}function YF(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=()=>fx().__FIREBASE_DEFAULTS__,JF=()=>{if(typeof process>"u"||typeof yR>"u")return;const n=yR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cb(n[1]);return e&&JSON.parse(e)},iy=()=>{try{return GF()||XF()||JF()||ZF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e3=n=>{var e,t;return(t=(e=iy())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},px=()=>{var n;return(n=iy())===null||n===void 0?void 0:n.config},mx=n=>{var e;return(e=iy())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ag(JSON.stringify(t)),ag(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function hb(){var n;const e=(n=iy())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i3(){return typeof window<"u"||gx()}function gx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function s3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function db(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _x(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vx(){return!hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $d(){try{return typeof indexedDB=="object"}catch{return!1}}function a3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=o3,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?l3(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new er(i,h,r)}}function l3(n,e){return n.replace(u3,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function c3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ms(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(vR(o)&&vR(u)){if(!Ms(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Ex(n,e){const t=new h3(n,e);return t.subscribe.bind(t)}class h3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");d3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=m0),i.error===void 0&&(i.error=m0),i.complete===void 0&&(i.complete=m0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function m0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n){return n&&n._delegate?n._delegate:n}class Qi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new t3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m3(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p3(n){return n===Yo?void 0:n}function m3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const wx={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},g3=je.INFO,y3={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},_3=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=y3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=g3,this._logHandler=_3,this._userLogHandler=null,fb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function v3(n){fb.forEach(e=>{e.setLogLevel(n)})}function E3(n,e){for(const t of fb){let r=null;e&&e.level&&(r=wx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:je[o].toLowerCase(),message:h,args:u,type:i.name})}}}const b3=(n,e)=>e.some(t=>n instanceof t);let ER,bR;function w3(){return ER||(ER=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T3(){return bR||(bR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tx=new WeakMap,X0=new WeakMap,Sx=new WeakMap,g0=new WeakMap,pb=new WeakMap;function S3(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Fa(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Tx.set(t,n)}).catch(()=>{}),pb.set(e,n),e}function A3(n){if(X0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});X0.set(n,e)}let J0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return X0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Sx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function I3(n){J0=n(J0)}function R3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(y0(this),e,...t);return Sx.set(r,e.sort?e.sort():[e]),Fa(r)}:T3().includes(n)?function(...e){return n.apply(y0(this),e),Fa(Tx.get(this))}:function(...e){return Fa(n.apply(y0(this),e))}}function C3(n){return typeof n=="function"?R3(n):(n instanceof IDBTransaction&&A3(n),b3(n,w3())?new Proxy(n,J0):n)}function Fa(n){if(n instanceof IDBRequest)return S3(n);if(g0.has(n))return g0.get(n);const e=C3(n);return e!==n&&(g0.set(n,e),pb.set(e,n)),e}const y0=n=>pb.get(n);function P3(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Fa(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Fa(u.result),d.oldVersion,d.newVersion,Fa(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const x3=["get","getKey","getAll","getAllKeys","count"],O3=["put","add","delete","clear"],_0=new Map;function wR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_0.get(e))return _0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=O3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x3.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),i&&d.done]))[0]};return _0.set(e,o),o}I3(n=>({...n,get:(e,t,r)=>wR(e,t)||n.get(e,t,r),has:(e,t)=>!!wR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(k3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function k3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lg="@firebase/app",Z0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new sy("@firebase/app"),N3="@firebase/app-compat",V3="@firebase/analytics-compat",M3="@firebase/analytics",L3="@firebase/app-check-compat",U3="@firebase/app-check",B3="@firebase/auth",F3="@firebase/auth-compat",j3="@firebase/database",z3="@firebase/data-connect",q3="@firebase/database-compat",H3="@firebase/functions",$3="@firebase/functions-compat",G3="@firebase/installations",K3="@firebase/installations-compat",W3="@firebase/messaging",Q3="@firebase/messaging-compat",Y3="@firebase/performance",X3="@firebase/performance-compat",J3="@firebase/remote-config",Z3="@firebase/remote-config-compat",ej="@firebase/storage",tj="@firebase/storage-compat",nj="@firebase/firestore",rj="@firebase/vertexai",ij="@firebase/firestore-compat",sj="firebase",aj="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]",oj={[lg]:"fire-core",[N3]:"fire-core-compat",[M3]:"fire-analytics",[V3]:"fire-analytics-compat",[U3]:"fire-app-check",[L3]:"fire-app-check-compat",[B3]:"fire-auth",[F3]:"fire-auth-compat",[j3]:"fire-rtdb",[z3]:"fire-data-connect",[q3]:"fire-rtdb-compat",[H3]:"fire-fn",[$3]:"fire-fn-compat",[G3]:"fire-iid",[K3]:"fire-iid-compat",[W3]:"fire-fcm",[Q3]:"fire-fcm-compat",[Y3]:"fire-perf",[X3]:"fire-perf-compat",[J3]:"fire-rc",[Z3]:"fire-rc-compat",[ej]:"fire-gcs",[tj]:"fire-gcs-compat",[nj]:"fire-fst",[ij]:"fire-fst-compat",[rj]:"fire-vertex","fire-js":"fire-js",[sj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Map,Qu=new Map,Yu=new Map;function Gd(n,e){try{n.container.addComponent(e)}catch(t){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ax(n,e){n.container.addOrOverwriteComponent(e)}function Ya(n){const e=n.name;if(Yu.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;Yu.set(e,n);for(const t of Qa.values())Gd(t,n);for(const t of Qu.values())Gd(t,n);return!0}function ay(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function lj(n,e,t=Wa){ay(n,e).clearInstance(t)}function Ix(n){return n.options!==void 0}function Tt(n){return n==null?!1:n.settings!==void 0}function uj(){Yu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Rl("app","Firebase",cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n,e){const t=cb(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class hj extends Rx{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&TR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&TR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ui(lg,Z0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){gb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=aj;function mb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(t||(t=px()),!t)throw Yr.create("no-options");const o=Qa.get(i);if(o){if(Ms(t,o.options)&&Ms(r,o.config))return o;throw Yr.create("duplicate-app",{appName:i})}const u=new bx(i);for(const d of Yu.values())u.addComponent(d);const h=new Rx(t,r,u);return Qa.set(i,h),h}function dj(n,e){if(i3()&&!gx())throw Yr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;Ix(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Yr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Qu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new bx(o);for(const f of Yu.values())h.addComponent(f);const d=new hj(t,e,o,h);return Qu.set(o,d),d}function Cx(n=Wa){const e=Qa.get(n);if(!e&&n===Wa&&px())return mb();if(!e)throw Yr.create("no-app",{appName:n});return e}function fj(){return Array.from(Qa.values())}async function gb(n){let e=!1;const t=n.name;Qa.has(t)?(e=!0,Qa.delete(t)):Qu.has(t)&&n.decRefCount()<=0&&(Qu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ui(n,e,t){var r;let i=(r=oj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(h.join(" "));return}Ya(new Qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Px(n,e){if(n!==null&&typeof n!="function")throw Yr.create("invalid-log-argument");E3(n,e)}function xx(n){v3(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="firebase-heartbeat-database",mj=1,Kd="firebase-heartbeat-store";let v0=null;function Ox(){return v0||(v0=P3(pj,mj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Kd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yr.create("idb-open",{originalErrorMessage:n.message})})),v0}async function gj(n){try{const t=(await Ox()).transaction(Kd),r=await t.objectStore(Kd).get(Dx(n));return await t.done,r}catch(e){if(e instanceof er)Ls.warn(e.message);else{const t=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(t.message)}}}async function SR(n,e){try{const r=(await Ox()).transaction(Kd,"readwrite");await r.objectStore(Kd).put(e,Dx(n)),await r.done}catch(t){if(t instanceof er)Ls.warn(t.message);else{const r=Yr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ls.warn(r.message)}}}function Dx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=1024,_j=30;class vj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>_j){const u=wj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=AR(),{heartbeatsToSend:r,unsentEntries:i}=Ej(this._heartbeatsCache.heartbeats),o=ag(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ls.warn(t),""}}}function AR(){return new Date().toISOString().substring(0,10)}function Ej(n,e=yj){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),IR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),IR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class bj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $d()?a3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return SR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return SR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IR(n){return ag(JSON.stringify({version:2,heartbeats:n})).length}function wj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(n){Ya(new Qi("platform-logger",e=>new D3(e),"PRIVATE")),Ya(new Qi("heartbeat",e=>new vj(e),"PRIVATE")),ui(lg,Z0,n),ui(lg,Z0,"esm2017"),ui("fire-js","")}Tj("");const Sj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:er,SDK_VERSION:uo,_DEFAULT_ENTRY_NAME:Wa,_addComponent:Gd,_addOrOverwriteComponent:Ax,_apps:Qa,_clearComponents:uj,_components:Yu,_getProvider:ay,_isFirebaseApp:Ix,_isFirebaseServerApp:Tt,_registerComponent:Ya,_removeServiceInstance:lj,_serverApps:Qu,deleteApp:gb,getApp:Cx,getApps:fj,initializeApp:mb,initializeServerApp:dj,onLog:Px,registerVersion:ui,setLogLevel:xx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t){this._delegate=e,this.firebase=t,Gd(e,new Qi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),gb(this._delegate)))}_getService(e,t=Wa){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Wa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Gd(this._delegate,e)}_addOrOverwriteComponent(e){Ax(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},RR=new Rl("app-compat","Firebase",Ij);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:ui,setLogLevel:xx,onLog:Px,apps:null,SDK_VERSION:uo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:Sj}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function i(f){if(f=f||Wa,!_R(e,f))throw RR.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,g={}){const _=mb(f,g);if(_R(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(Ya(f)&&f.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw RR.create("invalid-app-argument",{appName:g});return T[_]()};f.serviceProps!==void 0&&og(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){const n=Rj(Aj);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:kx,extendNamespace:e,createSubscribe:Ex,ErrorFactory:Rl,deepExtend:og});function e(t){og(n,t)}return n}const Cj=kx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new sy("@firebase/app-compat"),Pj="@firebase/app-compat",xj="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n){ui(Pj,xj,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=fx();if(n.firebase!==void 0){CR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&CR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ic=Cj;Oj();var Dj="firebase",kj="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ic.registerVersion(Dj,kj,"app-compat");function yb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const id={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Iu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Nx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vj=Nj,Mj=Nx,Vx=new Rl("auth","Firebase",Nx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=new sy("@firebase/auth");function Lj(n,...e){ug.logLevel<=je.WARN&&ug.warn(`Auth (${uo}): ${n}`,...e)}function Um(n,...e){ug.logLevel<=je.ERROR&&ug.error(`Auth (${uo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw vb(n,...e)}function mn(n,...e){return vb(n,...e)}function _b(n,e,t){const r=Object.assign(Object.assign({},Mj()),{[e]:t});return new Rl("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return _b(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),_b(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Vx.create(n,...e)}function me(n,e,...t){if(!n)throw vb(e,...t)}function zi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Um(e),new Error(e)}function hi(n,e){n||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Eb(){return PR()==="http:"||PR()==="https:"}function PR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Eb()||yx()||"connection"in navigator)?navigator.onLine:!0}function Bj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=r3()||db()}get(){return Uj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n,e){hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Sf(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return Lx(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Ac(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return s3()||(f.referrerPolicy="no-referrer"),Mx.fetch()(Ux(n,n.config.apiHost,t,h),f)})}async function Lx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fj),e);try{const i=new qj(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ed(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Ed(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Ed(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _b(n,g,f);Rn(n,g)}}catch(i){if(i instanceof er)throw i;Rn(n,"network-request-failed",{message:String(i)})}}async function qs(n,e,t,r,i={}){const o=await $t(n,e,t,r,i);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function Ux(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?bb(n.config,i):`${n.config.apiScheme}://${i}`}function zj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),jj.get())})}}function Ed(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=mn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n){return n!==void 0&&n.getResponse!==void 0}function OR(n){return n!==void 0&&n.enterprise!==void 0}class Bx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Fx(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function Gj(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function jx(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kj(n,e=!1){const t=Pe(n),r=await t.getIdToken(e),i=oy(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Rd(E0(i.auth_time)),issuedAtTime:Rd(E0(i.iat)),expirationTime:Rd(E0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function E0(n){return Number(n)*1e3}function oy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Um("JWT malformed, contained fewer than 3 sections"),null;try{const i=cb(t);return i?JSON.parse(i):(Um("Failed to decode base64 JWT payload"),null)}catch(i){return Um("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DR(n){const e=oy(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof er&&Wj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Wj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rd(this.lastLoginAt),this.creationTime=Rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Us(n,jx(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zx(o.providerUserInfo):[],h=Xj(n.providerData,u),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new eE(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function Yj(n){const e=Pe(n);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zx(n){return n.map(e=>{var{providerId:t}=e,r=yb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(n,e){const t=await Lx(n,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=Ux(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Mx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Zj(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=DR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await Jj(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new ju;return r&&(me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=yb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Us(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Kj(this,e)}reload(){return Yj(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Us(this,$j(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,d,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,M=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:$,isAnonymous:j,providerData:H,stsTokenManager:V}=t;me(U&&V,e,"internal-error");const C=ju.fromJSON(this.name,V);me(typeof U=="string",e,"internal-error"),xa(_,e.name),xa(v,e.name),me(typeof $=="boolean",e,"internal-error"),me(typeof j=="boolean",e,"internal-error"),xa(T,e.name),xa(w,e.name),xa(I,e.name),xa(P,e.name),xa(L,e.name),xa(M,e.name);const R=new Ps({uid:U,auth:e,email:v,emailVerified:$,displayName:_,isAnonymous:j,photoURL:w,phoneNumber:T,tenantId:I,stsTokenManager:C,createdAt:L,lastLoginAt:M});return H&&Array.isArray(H)&&(R.providerData=H.map(b=>Object.assign({},b))),P&&(R._redirectEventId=P),R}static async _fromIdTokenResponse(e,t,r=!1){const i=new ju;i.updateFromServerResponse(t);const o=new Ps({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?zx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new ju;h.updateFromIdToken(r);const d=new Ps({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Map;function Ir(n){hi(n instanceof Function,"Expected a class definition");let e=kR.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qx.type="NONE";const Xu=qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n,e,t){return`firebase:${n}:${e}:${t}`}class zu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cl(this.userKey,i.apiKey,o),this.fullPersistenceKey=cl("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zu(Ir(Xu),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ir(Xu);const u=cl(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){const _=Ps._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new zu(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new zu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wx(e))return"Blackberry";if(Qx(e))return"Webos";if($x(e))return"Safari";if((e.includes("chrome/")||Gx(e))&&!e.includes("edge/"))return"Chrome";if(Af(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hx(n=Vt()){return/firefox\//i.test(n)}function $x(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gx(n=Vt()){return/crios\//i.test(n)}function Kx(n=Vt()){return/iemobile/i.test(n)}function Af(n=Vt()){return/android/i.test(n)}function Wx(n=Vt()){return/blackberry/i.test(n)}function Qx(n=Vt()){return/webos/i.test(n)}function If(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function e6(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function t6(n=Vt()){var e;return If(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n6(){return _x()&&document.documentMode===10}function Yx(n=Vt()){return If(n)||Af(n)||Qx(n)||Wx(n)||/windows phone/i.test(n)||Kx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n,e=[]){let t;switch(n){case"Browser":t=NR(Vt());break;case"Worker":t=`${NR(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ht(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=6;class a6{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:s6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VR(this),this.idTokenSubscription=new VR(this),this.beforeStateQueue=new r6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await zu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jx(this,{idToken:e}),r=await Ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(In(this));const t=e?Pe(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i6(this),t=new a6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await zu.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Lj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mt(n){return Pe(n)}class VR{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ex(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l6(n){Rf=n}function wb(n){return Rf.loadJS(n)}function u6(){return Rf.recaptchaV2Script}function c6(){return Rf.recaptchaEnterpriseScript}function h6(){return Rf.gapiScript}function Jx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=500,f6=6e4,_m=1e12;class p6{constructor(e){this.auth=e,this.counter=_m,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new y6(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||_m;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||_m;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||_m;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class m6{constructor(){this.enterprise=new g6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class g6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class y6{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=_6(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},f6)},d6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function _6(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const v6="recaptcha-enterprise",Cd="NO_RECAPTCHA";class Zx{constructor(e){this.type=v6,this.auth=Mt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{Fx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new Bx(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function i(o,u,h){const d=window.grecaptcha;OR(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(Cd)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new m6().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&OR(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=c6();d.length!==0&&(d+=h),wb(d).then(()=>{i(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function sd(n,e,t,r=!1,i=!1){const o=new Zx(n);let u;if(i)u=Cd;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ja(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await sd(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await sd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await sd(n,e,t);return r(n,h).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await sd(n,e,t,!1,!0);return r(n,g)}return Promise.reject(d)})}else{const h=await sd(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function E6(n){const e=Mt(n),t=await Fx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Bx(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Zx(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(n,e){const t=ay(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ms(o,e??{}))return i;Rn(i,"already-initialized")}return t.initialize({options:e})}function w6(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eO(n,e,t){const r=Mt(n);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=tO(e),{host:u,port:h}=T6(e),d=h===null?"":`:${h}`,f={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(Ms(f,r.config.emulator)&&Ms(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,i||S6()}function tO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function T6(n){const e=tO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:MR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:MR(u)}}}function MR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function S6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,t){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ht(n,e))}async function A6(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function I6(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function R6(n,e){return $t(n,"POST","/v1/accounts:update",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(n,e){return qs(n,"POST","/v1/accounts:signInWithPassword",Ht(n,e))}async function ly(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ht(n,e))}async function P6(n,e){return ly(n,e)}async function x6(n,e){return ly(n,e)}async function O6(n,e){return ly(n,e)}async function D6(n,e){return ly(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(n,e){return qs(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}async function N6(n,e){return qs(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Cc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Yd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ja(e,t,"signInWithPassword",C6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return k6(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ja(e,r,"signUpPassword",I6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return N6(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(n,e){return qs(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="http://localhost";class Yi extends Cc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=yb(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Yi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}buildRequest(){const e={requestUri:V6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ht(n,e))}async function M6(n,e){return qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e))}async function L6(n,e){const t=await qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e));if(t.temporaryProof)throw Ed(n,"account-exists-with-different-credential",t);return t}const U6={USER_NOT_FOUND:"user-not-found"};async function B6(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return qs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,t),U6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Cc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new hl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new hl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return M6(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return L6(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return B6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new hl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j6(n){const e=Uu(vd(n)).link,t=e?Uu(vd(e)).deep_link_id:null,r=Uu(vd(n)).deep_link_id;return(r?Uu(vd(r)).link:null)||r||t||e||n}class uy{constructor(e){var t,r,i,o,u,h;const d=Uu(vd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=F6((i=d.mode)!==null&&i!==void 0?i:null);me(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=j6(e);try{return new uy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,t){return Yd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=uy.parseLink(t);return me(r,"argument-error"),Yd._fromEmailAndCode(e,r.code,r.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qu extends Pc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),Yi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return qu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return qu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new qu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Pc{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yi._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Pc{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="http://localhost";class Ju extends Cc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Ju(r,o)}static _create(e,t){return new Ju(e,t)}buildRequest(){return{requestUri:z6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="saml.";class cg extends Hs{constructor(e){me(e.startsWith(q6),"argument-error"),super(e)}static credentialFromResult(e){return cg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return cg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ju.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Ju._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Pc{constructor(){super("twitter.com")}static credential(e,t){return Yi._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(n,e){return qs(n,"POST","/v1/accounts:signUp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ps._fromIdTokenResponse(e,r,i),u=UR(r);return new Xr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=UR(r);return new Xr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function UR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(n){var e;if(Tt(n.app))return Promise.reject(In(n));const t=Mt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await rO(t,{returnSecureToken:!0}),i=await Xr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends er{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new hg(e,t,r,i)}}function iO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(n,e){const t=Pe(n);await cy(!0,t,e);const{providerUserInfo:r}=await Gj(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=sO(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Tb(n,e,t=!1){const r=await Us(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xr._forOperation(n,"link",r)}async function cy(n,e,t){await Qd(e);const r=sO(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,e,t=!1){const{auth:r}=n;if(Tt(r.app))return Promise.reject(In(r));const i="reauthenticate";try{const o=await Us(n,iO(r,i,e,n),t);me(o.idToken,r,"internal-error");const u=oy(o.idToken);me(u,r,"internal-error");const{sub:h}=u;return me(n.uid===h,r,"user-mismatch"),Xr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,e,t=!1){if(Tt(n.app))return Promise.reject(In(n));const r="signIn",i=await iO(n,r,e),o=await Xr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function hy(n,e){return oO(Mt(n),e)}async function lO(n,e){const t=Pe(n);return await cy(!1,t,e.providerId),Tb(t,e)}async function uO(n,e){return aO(Pe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(n,e){return qs(n,"POST","/v1/accounts:signInWithCustomToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(n,e){if(Tt(n.app))return Promise.reject(In(n));const t=Mt(n),r=await G6(t,{token:e,returnSecureToken:!0}),i=await Xr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Sb._fromServerResponse(e,t):"totpInfo"in t?Ab._fromServerResponse(e,t):Rn(e,"internal-error")}}class Sb extends Cf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Sb(t)}}class Ab extends Cf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ab(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(n){const e=Mt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W6(n,e,t){const r=Mt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&dy(r,i,t),await ja(r,i,"getOobCode",x6,"EMAIL_PASSWORD_PROVIDER")}async function Q6(n,e,t){await nO(Pe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ib(n),r})}async function Y6(n,e){await R6(Pe(n),{oobCode:e})}async function cO(n,e){const t=Pe(n),r=await nO(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Cf._fromServerResponse(Mt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function X6(n,e){const{data:t}=await cO(Pe(n),e);return t.email}async function hO(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),u=await ja(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rO,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Ib(n),d}),h=await Xr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function dO(n,e,t){return Tt(n.app)?Promise.reject(In(n)):hy(Pe(n),co.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ib(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(n,e,t){const r=Mt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){me(h.handleCodeInApp,r,"argument-error"),h&&dy(r,u,h)}o(i,t),await ja(r,i,"getOobCode",O6,"EMAIL_PASSWORD_PROVIDER")}function Z6(n,e){const t=uy.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function ez(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Pe(n),i=co.credentialWithLink(e,t||Wd());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),hy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(n,e){const t=Eb()?Wd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await tz(Pe(n),r);return i||[]}async function rz(n,e){const t=Pe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&dy(t.auth,i,e);const{email:o}=await P6(t.auth,i);o!==n.email&&await n.reload()}async function iz(n,e,t){const r=Pe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&dy(r.auth,o,t);const{email:u}=await D6(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Pe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Us(r,sz(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function oz(n,e){const t=Pe(n);return Tt(t.auth.app)?Promise.reject(In(t.auth)):fO(t,e,null)}function lz(n,e){return fO(Pe(n),null,e)}async function fO(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Us(n,A6(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=oy(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Hu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new cz(o,i);case"github.com":return new hz(o,i);case"google.com":return new dz(o,i);case"twitter.com":return new fz(o,i,n.screenName||null);case"custom":case"anonymous":return new Hu(o,null);default:return new Hu(o,r,i)}}class Hu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class pO extends Hu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class cz extends Hu{constructor(e,t){super(e,"facebook.com",t)}}class hz extends pO{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class dz extends Hu{constructor(e,t){super(e,"google.com",t)}}class fz extends pO{constructor(e,t,r){super(e,"twitter.com",t,r)}}function pz(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:uz(t)}function mz(n,e,t,r){return Pe(n).onIdTokenChanged(e,t,r)}function gz(n,e,t){return Pe(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new sl("enroll",e,t)}static _fromMfaPendingCredential(e){return new sl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return sl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return sl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Mt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>Cf._fromServerResponse(r,h));me(i.mfaPendingCredential,r,"internal-error");const u=sl._fromMfaPendingCredential(i.mfaPendingCredential);return new Rb(u,o,async h=>{const d=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await Xr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return me(t.user,r,"internal-error"),Xr._forOperation(t.user,t.operationType,f);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function yz(n,e){var t;const r=Pe(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Rb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ht(n,e))}function _z(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(n,e))}function vz(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(n,e))}class Cb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Cf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Cb(e)}async getSession(){return sl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Us(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Us(this.user,vz(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const b0=new WeakMap;function Ez(n){const e=Pe(n);return b0.has(e)||b0.set(e,Cb._fromUser(e)),b0.get(e)}const dg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dg,"1"),this.storage.removeItem(dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=1e3,wz=10;class gO extends mO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);n6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},bz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gO.type="LOCAL";const fy=gO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO extends mO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yO.type="SESSION";const Xa=yO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new py(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await Tz(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}py.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=Pf("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function Az(n){sn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function Iz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Cz(){return Pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="firebaseLocalStorageDb",Pz=1,fg="firebaseLocalStorage",vO="fbase_key";class xf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function my(n,e){return n.transaction([fg],e?"readwrite":"readonly").objectStore(fg)}function xz(){const n=indexedDB.deleteDatabase(_O);return new xf(n).toPromise()}function tE(){const n=indexedDB.open(_O,Pz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fg,{keyPath:vO})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fg)?e(r):(r.close(),await xz(),e(await tE()))})})}async function FR(n,e,t){const r=my(n,!0).put({[vO]:e,value:t});return new xf(r).toPromise()}async function Oz(n,e){const t=my(n,!1).get(e),r=await new xf(t).toPromise();return r===void 0?null:r.value}function jR(n,e){const t=my(n,!0).delete(e);return new xf(t).toPromise()}const Dz=800,kz=3;class EO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>kz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=py._getInstance(Cz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Iz(),!this.activeServiceWorker)return;this.sender=new Sz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tE();return await FR(e,dg,"1"),await jR(e,dg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>FR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Oz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=my(i,!1).getAll();return new xf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EO.type="LOCAL";const Zu=EO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ht(n,e))}function Nz(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=Jx("rcb"),Vz=new Sf(3e4,6e4);class Mz{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=sn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(Lz(t),e,"argument-error"),this.shouldResolveImmediately(t)&&xR(sn().grecaptcha)?Promise.resolve(sn().grecaptcha):new Promise((r,i)=>{const o=sn().setTimeout(()=>{i(mn(e,"network-request-failed"))},Vz.get());sn()[w0]=()=>{sn().clearTimeout(o),delete sn()[w0];const h=sn().grecaptcha;if(!h||!xR(h)){i(mn(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${u6()}?${Ac({onload:w0,render:"explicit",hl:t})}`;wb(u).catch(()=>{clearTimeout(o),i(mn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=sn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Lz(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class Uz{async load(e){return new p6(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="recaptcha",Bz={theme:"light",type:"image"};let Fz=class{constructor(e,t,r=Object.assign({},Bz)){this.parameters=r,this.type=Pd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uz:new Mz,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=sn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(Eb()&&!Pb(),this.auth,"internal-error"),await jz(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Hj(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function jz(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=hl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function zz(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),i=await gy(r,e,Pe(t));return new xb(i,o=>hy(r,o))}async function qz(n,e,t){const r=Pe(n);await cy(!1,r,"phone");const i=await gy(r.auth,e,Pe(t));return new xb(i,o=>lO(r,o))}async function Hz(n,e,t){const r=Pe(n);if(Tt(r.auth.app))return Promise.reject(In(r.auth));const i=await gy(r.auth,e,Pe(t));return new xb(i,o=>uO(r,o))}async function gy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await E6(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ja(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Cd){me((t==null?void 0:t.type)===Pd,g,"argument-error");const v=await T0(g,_,t);return BR(g,v)}return BR(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ja(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Cd){me((t==null?void 0:t.type)===Pd,_,"argument-error");const T=await T0(_,v,t);return zR(_,T)}return zR(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ja(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===Cd){me((t==null?void 0:t.type)===Pd,f,"argument-error");const _=await T0(f,g,t);return LR(f,_)}return LR(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function $z(n,e){const t=Pe(n);if(Tt(t.auth.app))return Promise.reject(In(t.auth));await Tb(t,e)}async function T0(n,e,t){me(t.type===Pd,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml=class Bm{constructor(e){this.providerId=Bm.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,t){return gy(this.auth,e,Pe(t))}static credential(e,t){return hl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bm.credentialFromTaggedObject(t)}static credentialFromError(e){return Bm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?hl._fromTokenResponse(t,r):null}};ml.PROVIDER_ID="phone";ml.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n,e){return e?Ir(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Cc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gz(n){return oO(n.auth,new Ob(n),n.bypassAuthState)}function Kz(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),aO(t,new Ob(n),n.bypassAuthState)}async function Wz(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Tb(t,new Ob(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gz;case"linkViaPopup":case"linkViaRedirect":return Wz;case"reauthViaPopup":case"reauthViaRedirect":return Kz;default:Rn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new Sf(2e3,1e4);async function Yz(n,e,t){if(Tt(n.app))return Promise.reject(mn(n,"operation-not-supported-in-this-environment"));const r=Mt(n);Rc(n,e,Hs);const i=Cl(r,t);return new xs(r,"signInViaPopup",e,i).executeNotNull()}async function Xz(n,e,t){const r=Pe(n);if(Tt(r.auth.app))return Promise.reject(mn(r.auth,"operation-not-supported-in-this-environment"));Rc(r.auth,e,Hs);const i=Cl(r.auth,t);return new xs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Jz(n,e,t){const r=Pe(n);Rc(r.auth,e,Hs);const i=Cl(r.auth,t);return new xs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class xs extends bO{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Pf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qz.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz="pendingRedirect",xd=new Map;class e9 extends bO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const r=await t9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t9(n,e){const t=TO(e),r=wO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function Db(n,e){return wO(n)._set(TO(e),"true")}function n9(){xd.clear()}function kb(n,e){xd.set(n._key(),e)}function wO(n){return Ir(n._redirectPersistence)}function TO(n){return cl(Zz,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(n,e,t){return i9(n,e,t)}async function i9(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n);Rc(n,e,Hs),await r._initializationPromise;const i=Cl(r,t);return await Db(i,r),i._openRedirect(r,e,"signInViaRedirect")}function s9(n,e,t){return a9(n,e,t)}async function a9(n,e,t){const r=Pe(n);if(Rc(r.auth,e,Hs),Tt(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const i=Cl(r.auth,t);await Db(i,r.auth);const o=await SO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function o9(n,e,t){return l9(n,e,t)}async function l9(n,e,t){const r=Pe(n);Rc(r.auth,e,Hs),await r.auth._initializationPromise;const i=Cl(r.auth,t);await cy(!1,r,e.providerId),await Db(i,r.auth);const o=await SO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function u9(n,e){return await Mt(n)._initializationPromise,yy(n,e,!1)}async function yy(n,e,t=!1){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),i=Cl(r,e),u=await new e9(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function SO(n){const e=Pf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=10*60*1e3;class AO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!IO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(mn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c9&&this.cachedEventUids.clear(),this.cachedEventUids.has(qR(e))}saveEventToCache(e){this.cachedEventUids.add(qR(e)),this.lastProcessedEventTime=Date.now()}}function qR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IO({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h9(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f9=/^https?/;async function p9(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RO(n);for(const t of e)try{if(m9(t))return}catch{}Rn(n,"unauthorized-domain")}function m9(n){const e=Wd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!f9.test(t))return!1;if(d9.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=new Sf(3e4,6e4);function HR(){const n=sn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function y9(n){return new Promise((e,t)=>{var r,i,o;function u(){HR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HR(),t(mn(n,"network-request-failed"))},timeout:g9.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=sn().gapi)===null||o===void 0)&&o.load)u();else{const h=Jx("iframefcb");return sn()[h]=()=>{gapi.load?u():t(mn(n,"network-request-failed"))},wb(`${h6()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Fm=null,e})}let Fm=null;function _9(n){return Fm=Fm||y9(n),Fm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=new Sf(5e3,15e3),E9="__/auth/iframe",b9="emulator/auth/iframe",w9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S9(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?bb(e,b9):`https://${n.config.authDomain}/${E9}`,r={apiKey:e.apiKey,appName:n.name,v:uo},i=T9.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ac(r).slice(1)}`}async function A9(n){const e=await _9(n),t=sn().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:S9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=mn(n,"network-request-failed"),h=sn().setTimeout(()=>{o(u)},v9.get());function d(){sn().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R9=500,C9=600,P9="_blank",x9="http://localhost";class $R{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O9(n,e,t,r=R9,i=C9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},I9),{width:r.toString(),height:i.toString(),top:o,left:u}),f=Vt().toLowerCase();t&&(h=Gx(f)?P9:t),Hx(f)&&(e=e||x9,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(t6(f)&&h!=="_self")return D9(e||"",h),new $R(null);const _=window.open(e||"",h,g);me(_,n,"popup-blocked");try{_.focus()}catch{}return new $R(_)}function D9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="__/auth/handler",N9="emulator/auth/handler",V9=encodeURIComponent("fac");async function nE(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uo,eventId:i};if(e instanceof Hs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",c3(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Pc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${V9}=${encodeURIComponent(d)}`:"";return`${M9(n)}?${Ac(h).slice(1)}${f}`}function M9({config:n}){return n.emulator?bb(n,N9):`https://${n.authDomain}/${k9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="webStorageSupport";class L9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xa,this._completeRedirectFn=yy,this._overrideRedirectResult=kb}async _openPopup(e,t,r,i){var o;hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await nE(e,t,r,Wd(),i);return O9(e,u,Pf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await nE(e,t,r,Wd(),i);return Az(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await A9(e),r=new AO(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(S0,{type:S0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[S0];u!==void 0&&t(!!u),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yx()||$x()||If()}}const CO=L9;class U9{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return zi("unexpected MultiFactorSessionType")}}}class Nb extends U9{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Nb(e)}_finalizeEnroll(e,t,r){return _z(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Nz(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class PO{constructor(){}static assertion(e){return Nb._fromCredential(e)}}PO.FACTOR_ID="phone";var GR="@firebase/auth",KR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j9(n){Ya(new Qi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xx(n)},f=new o6(r,i,o,d);return w6(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ya(new Qi("auth-internal",e=>{const t=Mt(e.getProvider("auth").getImmediate());return(r=>new B9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(GR,KR,F9(n)),ui(GR,KR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=5*60,q9=mx("authIdTokenMaxAge")||z9;let WR=null;const H9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>q9)return;const i=t==null?void 0:t.token;WR!==i&&(WR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $9(n=Cx()){const e=ay(n,"auth");if(e.isInitialized())return e.getImmediate();const t=b6(n,{popupRedirectResolver:CO,persistence:[Zu,fy,Xa]}),r=mx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=H9(o.toString());gz(t,u,()=>u(t.currentUser)),mz(t,h=>u(h))}}const i=e3("auth");return i&&eO(t,`http://${i}`),t}function G9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}l6({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=mn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",G9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j9("Browser");var QR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var za,xO;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function R(){}R.prototype=C.prototype,V.D=C.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(b,x,O){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return C.prototype[x].apply(b,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,C,R){R||(R=0);var b=Array(16);if(typeof C=="string")for(var x=0;16>x;++x)b[x]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(x=0;16>x;++x)b[x]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=V.g[0],R=V.g[1],x=V.g[2];var O=V.g[3],D=C+(O^R&(x^O))+b[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=O+(x^C&(R^x))+b[1]+3905402710&4294967295,O=C+(D<<12&4294967295|D>>>20),D=x+(R^O&(C^R))+b[2]+606105819&4294967295,x=O+(D<<17&4294967295|D>>>15),D=R+(C^x&(O^C))+b[3]+3250441966&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(O^R&(x^O))+b[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(x^C&(R^x))+b[5]+1200080426&4294967295,O=C+(D<<12&4294967295|D>>>20),D=x+(R^O&(C^R))+b[6]+2821735955&4294967295,x=O+(D<<17&4294967295|D>>>15),D=R+(C^x&(O^C))+b[7]+4249261313&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(O^R&(x^O))+b[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(x^C&(R^x))+b[9]+2336552879&4294967295,O=C+(D<<12&4294967295|D>>>20),D=x+(R^O&(C^R))+b[10]+4294925233&4294967295,x=O+(D<<17&4294967295|D>>>15),D=R+(C^x&(O^C))+b[11]+2304563134&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(O^R&(x^O))+b[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(x^C&(R^x))+b[13]+4254626195&4294967295,O=C+(D<<12&4294967295|D>>>20),D=x+(R^O&(C^R))+b[14]+2792965006&4294967295,x=O+(D<<17&4294967295|D>>>15),D=R+(C^x&(O^C))+b[15]+1236535329&4294967295,R=x+(D<<22&4294967295|D>>>10),D=C+(x^O&(R^x))+b[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^x&(C^R))+b[6]+3225465664&4294967295,O=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(O^C))+b[11]+643717713&4294967295,x=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(x^O))+b[0]+3921069994&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^O&(R^x))+b[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^x&(C^R))+b[10]+38016083&4294967295,O=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(O^C))+b[15]+3634488961&4294967295,x=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(x^O))+b[4]+3889429448&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^O&(R^x))+b[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^x&(C^R))+b[14]+3275163606&4294967295,O=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(O^C))+b[3]+4107603335&4294967295,x=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(x^O))+b[8]+1163531501&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(x^O&(R^x))+b[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^x&(C^R))+b[2]+4243563512&4294967295,O=C+(D<<9&4294967295|D>>>23),D=x+(C^R&(O^C))+b[7]+1735328473&4294967295,x=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(x^O))+b[12]+2368359562&4294967295,R=x+(D<<20&4294967295|D>>>12),D=C+(R^x^O)+b[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^x)+b[8]+2272392833&4294967295,O=C+(D<<11&4294967295|D>>>21),D=x+(O^C^R)+b[11]+1839030562&4294967295,x=O+(D<<16&4294967295|D>>>16),D=R+(x^O^C)+b[14]+4259657740&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^O)+b[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^x)+b[4]+1272893353&4294967295,O=C+(D<<11&4294967295|D>>>21),D=x+(O^C^R)+b[7]+4139469664&4294967295,x=O+(D<<16&4294967295|D>>>16),D=R+(x^O^C)+b[10]+3200236656&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^O)+b[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^x)+b[0]+3936430074&4294967295,O=C+(D<<11&4294967295|D>>>21),D=x+(O^C^R)+b[3]+3572445317&4294967295,x=O+(D<<16&4294967295|D>>>16),D=R+(x^O^C)+b[6]+76029189&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(R^x^O)+b[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^x)+b[12]+3873151461&4294967295,O=C+(D<<11&4294967295|D>>>21),D=x+(O^C^R)+b[15]+530742520&4294967295,x=O+(D<<16&4294967295|D>>>16),D=R+(x^O^C)+b[2]+3299628645&4294967295,R=x+(D<<23&4294967295|D>>>9),D=C+(x^(R|~O))+b[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~x))+b[7]+1126891415&4294967295,O=C+(D<<10&4294967295|D>>>22),D=x+(C^(O|~R))+b[14]+2878612391&4294967295,x=O+(D<<15&4294967295|D>>>17),D=R+(O^(x|~C))+b[5]+4237533241&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~O))+b[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~x))+b[3]+2399980690&4294967295,O=C+(D<<10&4294967295|D>>>22),D=x+(C^(O|~R))+b[10]+4293915773&4294967295,x=O+(D<<15&4294967295|D>>>17),D=R+(O^(x|~C))+b[1]+2240044497&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~O))+b[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~x))+b[15]+4264355552&4294967295,O=C+(D<<10&4294967295|D>>>22),D=x+(C^(O|~R))+b[6]+2734768916&4294967295,x=O+(D<<15&4294967295|D>>>17),D=R+(O^(x|~C))+b[13]+1309151649&4294967295,R=x+(D<<21&4294967295|D>>>11),D=C+(x^(R|~O))+b[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~x))+b[11]+3174756917&4294967295,O=C+(D<<10&4294967295|D>>>22),D=x+(C^(O|~R))+b[2]+718787259&4294967295,x=O+(D<<15&4294967295|D>>>17),D=R+(O^(x|~C))+b[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+x&4294967295,V.g[3]=V.g[3]+O&4294967295}r.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var R=C-this.blockSize,b=this.B,x=this.h,O=0;O<C;){if(x==0)for(;O<=R;)i(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<C;)if(b[x++]=V.charCodeAt(O++),x==this.blockSize){i(this,b),x=0;break}}else for(;O<C;)if(b[x++]=V[O++],x==this.blockSize){i(this,b),x=0;break}}this.h=x,this.o+=C},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var R=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=R&255,R/=256;for(this.u(V),V=Array(16),C=R=0;4>C;++C)for(var b=0;32>b;b+=8)V[R++]=this.g[C]>>>b&255;return V};function o(V,C){var R=h;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=C(V)}function u(V,C){this.h=C;for(var R=[],b=!0,x=V.length-1;0<=x;x--){var O=V[x]|0;b&&O==C||(R[x]=O,b=!1)}this.g=R}var h={};function d(V){return-128<=V&&128>V?o(V,function(C){return new u([C|0],0>C?-1:0)}):new u([V|0],0>V?-1:0)}function f(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return P(f(-V));for(var C=[],R=1,b=0;V>=R;b++)C[b]=V/R|0,R*=4294967296;return new u(C,0)}function g(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return P(g(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(C,8)),b=_,x=0;x<V.length;x+=8){var O=Math.min(8,V.length-x),D=parseInt(V.substring(x,x+O),C);8>O?(O=f(Math.pow(C,O)),b=b.j(O).add(f(D))):(b=b.j(R),b=b.add(f(D)))}return b}var _=d(0),v=d(1),T=d(16777216);n=u.prototype,n.m=function(){if(I(this))return-P(this).m();for(var V=0,C=1,R=0;R<this.g.length;R++){var b=this.i(R);V+=(0<=b?b:4294967296+b)*C,C*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(w(this))return"0";if(I(this))return"-"+P(this).toString(V);for(var C=f(Math.pow(V,6)),R=this,b="";;){var x=$(R,C).g;R=L(R,x.j(C));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=x,w(R))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function w(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function I(V){return V.h==-1}n.l=function(V){return V=L(this,V),I(V)?-1:w(V)?0:1};function P(V){for(var C=V.g.length,R=[],b=0;b<C;b++)R[b]=~V.g[b];return new u(R,~V.h).add(v)}n.abs=function(){return I(this)?P(this):this},n.add=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0,x=0;x<=C;x++){var O=b+(this.i(x)&65535)+(V.i(x)&65535),D=(O>>>16)+(this.i(x)>>>16)+(V.i(x)>>>16);b=D>>>16,O&=65535,D&=65535,R[x]=D<<16|O}return new u(R,R[R.length-1]&-2147483648?-1:0)};function L(V,C){return V.add(P(C))}n.j=function(V){if(w(this)||w(V))return _;if(I(this))return I(V)?P(this).j(P(V)):P(P(this).j(V));if(I(V))return P(this.j(P(V)));if(0>this.l(T)&&0>V.l(T))return f(this.m()*V.m());for(var C=this.g.length+V.g.length,R=[],b=0;b<2*C;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var x=0;x<V.g.length;x++){var O=this.i(b)>>>16,D=this.i(b)&65535,te=V.i(x)>>>16,B=V.i(x)&65535;R[2*b+2*x]+=D*B,M(R,2*b+2*x),R[2*b+2*x+1]+=O*B,M(R,2*b+2*x+1),R[2*b+2*x+1]+=D*te,M(R,2*b+2*x+1),R[2*b+2*x+2]+=O*te,M(R,2*b+2*x+2)}for(b=0;b<C;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=C;b<2*C;b++)R[b]=0;return new u(R,0)};function M(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function U(V,C){this.g=V,this.h=C}function $(V,C){if(w(C))throw Error("division by zero");if(w(V))return new U(_,_);if(I(V))return C=$(P(V),C),new U(P(C.g),P(C.h));if(I(C))return C=$(V,P(C)),new U(P(C.g),C.h);if(30<V.g.length){if(I(V)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var R=v,b=C;0>=b.l(V);)R=j(R),b=j(b);var x=H(R,1),O=H(b,1);for(b=H(b,2),R=H(R,2);!w(b);){var D=O.add(b);0>=D.l(V)&&(x=x.add(R),O=D),b=H(b,1),R=H(R,1)}return C=L(V,x.j(C)),new U(x,C)}for(x=_;0<=V.l(C);){for(R=Math.max(1,Math.floor(V.m()/C.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=f(R),D=O.j(C);I(D)||0<D.l(V);)R-=b,O=f(R),D=O.j(C);w(O)&&(O=v),x=x.add(O),V=L(V,D)}return new U(x,V)}n.A=function(V){return $(this,V).h},n.and=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)&V.i(b);return new u(R,this.h&V.h)},n.or=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)|V.i(b);return new u(R,this.h|V.h)},n.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)^V.i(b);return new u(R,this.h^V.h)};function j(V){for(var C=V.g.length+1,R=[],b=0;b<C;b++)R[b]=V.i(b)<<1|V.i(b-1)>>>31;return new u(R,V.h)}function H(V,C){var R=C>>5;C%=32;for(var b=V.g.length-R,x=[],O=0;O<b;O++)x[O]=0<C?V.i(O+R)>>>C|V.i(O+R+1)<<32-C:V.i(O+R);return new u(x,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xO=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,za=u}).apply(typeof QR<"u"?QR:typeof self<"u"?self:typeof window<"u"?window:{});var vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OO,bd,DO,jm,rE,kO,NO,VO;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof vm=="object"&&vm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var N=0;N<p.length-1;N++){var Y=p[N];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],N=S[p],E=E(N),E!=N&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,N=!1,Y={next:function(){if(!N&&S<p.length){var re=S++;return{value:E(re,p[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function w(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(N,Y,re){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return E.prototype[Y].apply(N,ge)}}function I(p){const E=p.length;if(0<E){const S=Array(E);for(let N=0;N<E;N++)S[N]=p[N];return S}return[]}function P(p,E){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Y=p.length||0,re=N.length||0;p.length=Y+re;for(let ge=0;ge<re;ge++)p[Y+ge]=N[ge]}else p.push(N)}}class L{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function M(p){return/^[\s\xa0]*$/.test(p)}function U(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var j=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function H(p,E,S){for(const N in p)E.call(S,p[N],N,p)}function V(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function C(p){const E={};for(const S in p)E[S]=p[S];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let S,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(S in N)p[S]=N[S];for(let re=0;re<R.length;re++)S=R[re],Object.prototype.hasOwnProperty.call(N,S)&&(p[S]=N[S])}}function x(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function O(p){h.setTimeout(()=>{throw p},0)}function D(){var p=Te;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,S){const N=B.get();N.set(E,S),this.h?this.h.next=N:this.g=N,this.h=N}}var B=new L(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,Te=new te,q=()=>{const p=h.Promise.resolve(void 0);ie=()=>{p.then(ae)}};var ae=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){O(S)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ue=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function Oe(p,E){if(ve.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(j){e:{try{$(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:De[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,ve);var De={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),ze=0;function _t(p,E,S,N,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!N,this.ha=Y,this.key=++ze,this.da=this.fa=!1}function $e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Et(p){this.src=p,this.g={},this.h=0}Et.prototype.add=function(p,E,S,N,Y){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ge=at(p,E,N,Y);return-1<ge?(E=p[ge],S||(E.fa=!1)):(E=new _t(E,this.src,re,!!N,Y),E.fa=S,p.push(E)),E};function Je(p,E){var S=E.type;if(S in p.g){var N=p.g[S],Y=Array.prototype.indexOf.call(N,E,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(N,Y,1),re&&($e(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function at(p,E,S,N){for(var Y=0;Y<p.length;++Y){var re=p[Y];if(!re.da&&re.listener==E&&re.capture==!!S&&re.ha==N)return Y}return-1}var Jt="closure_lm_"+(1e6*Math.random()|0),fr={};function Mn(p,E,S,N,Y){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Mn(p,E[re],S,N,Y);return null}return S=$f(S),p&&p[Ct]?p.K(E,S,f(N)?!!N.capture:!1,Y):Or(p,E,S,!1,N,Y)}function Or(p,E,S,N,Y,re){if(!E)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,We=Bc(p);if(We||(p[Jt]=We=new Et(p)),S=We.add(E,S,N,ge,re),S.proxy)return S;if(N=Ln(),S.proxy=N,N.src=p,N.listener=S,p.addEventListener)ye||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),N,Y);else if(p.attachEvent)p.attachEvent(kl(E.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ln(){function p(S){return E.call(p.src,p.listener,S)}const E=Gy;return p}function rr(p,E,S,N,Y){if(Array.isArray(E))for(var re=0;re<E.length;re++)rr(p,E[re],S,N,Y);else N=f(N)?!!N.capture:!!N,S=$f(S),p&&p[Ct]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],S=at(re,S,N,Y),-1<S&&($e(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=Bc(p))&&(E=p.g[E.toString()],p=-1,E&&(p=at(E,S,N,Y)),(S=-1<p?E[p]:null)&&Zr(S))}function Zr(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ct])Je(E.i,p);else{var S=p.type,N=p.proxy;E.removeEventListener?E.removeEventListener(S,N,p.capture):E.detachEvent?E.detachEvent(kl(S),N):E.addListener&&E.removeListener&&E.removeListener(N),(S=Bc(E))?(Je(S,p),S.h==0&&(S.src=null,E[Jt]=null)):$e(p)}}}function kl(p){return p in fr?fr[p]:fr[p]="on"+p}function Gy(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var S=p.listener,N=p.ha||p.src;p.fa&&Zr(p),p=S.call(N,E)}return p}function Bc(p){return p=p[Jt],p instanceof Et?p:null}var ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function $f(p){return typeof p=="function"?p:(p[ir]||(p[ir]=function(E){return p.handleEvent(E)}),p[ir])}function un(){be.call(this),this.i=new Et(this),this.M=this,this.F=null}w(un,be),un.prototype[Ct]=!0,un.prototype.removeEventListener=function(p,E,S,N){rr(this,p,E,S,N)};function yn(p,E){var S,N=p.F;if(N)for(S=[];N;N=N.F)S.push(N);if(p=p.M,N=E.type||E,typeof E=="string")E=new ve(E,p);else if(E instanceof ve)E.target=E.target||p;else{var Y=E;E=new ve(N,p),b(E,Y)}if(Y=!0,S)for(var re=S.length-1;0<=re;re--){var ge=E.g=S[re];Y=ns(ge,N,!0,E)&&Y}if(ge=E.g=p,Y=ns(ge,N,!0,E)&&Y,Y=ns(ge,N,!1,E)&&Y,S)for(re=0;re<S.length;re++)ge=E.g=S[re],Y=ns(ge,N,!1,E)&&Y}un.prototype.N=function(){if(un.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],N=0;N<S.length;N++)$e(S[N]);delete p.g[E],p.h--}}this.F=null},un.prototype.K=function(p,E,S,N){return this.i.add(String(p),E,!1,S,N)},un.prototype.L=function(p,E,S,N){return this.i.add(String(p),E,!0,S,N)};function ns(p,E,S,N){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,re=0;re<E.length;++re){var ge=E[re];if(ge&&!ge.da&&ge.capture==S){var We=ge.listener,hn=ge.ha||ge.src;ge.fa&&Je(p.i,ge),Y=We.call(hn,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function Gf(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function Fc(p){p.g=Gf(()=>{p.g=null,p.i&&(p.i=!1,Fc(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Ky extends be{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Fc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(p){be.call(this),this.h=p,this.g={}}w(yo,be);var Qs=[];function Un(p){H(p.g,function(E,S){this.g.hasOwnProperty(S)&&Zr(E)},p),p.g={}}yo.prototype.N=function(){yo.aa.N.call(this),Un(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jc=h.JSON.stringify,fi=h.JSON.parse,Kn=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function zc(){}zc.prototype.h=null;function Kf(p){return p.h||(p.h=p.i())}function Wf(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ys(){ve.call(this,"d")}w(Ys,ve);function ei(){ve.call(this,"c")}w(ei,ve);var Dr={},Xs=null;function Nl(){return Xs=Xs||new un}Dr.La="serverreachability";function qc(p){ve.call(this,Dr.La,p)}w(qc,ve);function Js(p){const E=Nl();yn(E,new qc(E))}Dr.STAT_EVENT="statevent";function Vl(p,E){ve.call(this,Dr.STAT_EVENT,p),this.stat=E}w(Vl,ve);function Gt(p){const E=Nl();yn(E,new Vl(E,p))}Dr.Ma="timingevent";function Qf(p,E){ve.call(this,Dr.Ma,p),this.size=E}w(Qf,ve);function Zs(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function ea(){this.g=!0}ea.prototype.xa=function(){this.g=!1};function Yf(p,E,S,N,Y,re){p.info(function(){if(p.g)if(re)for(var ge="",We=re.split("&"),hn=0;hn<We.length;hn++){var Qe=We[hn].split("=");if(1<Qe.length){var En=Qe[0];Qe=Qe[1];var dn=En.split("_");ge=2<=dn.length&&dn[1]=="type"?ge+(En+"="+Qe+"&"):ge+(En+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+E+`
`+S+`
`+ge})}function Xf(p,E,S,N,Y,re,ge){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+E+`
`+S+`
`+re+" "+ge})}function ta(p,E,S,N){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+_n(p,S)+(N?" "+N:"")})}function mi(p,E){p.info(function(){return"TIMEOUT: "+E})}ea.prototype.info=function(){};function _n(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var N=S[p];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return jc(S)}catch{return E}}var cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_o;function Ml(){}w(Ml,zc),Ml.prototype.g=function(){return new XMLHttpRequest},Ml.prototype.i=function(){return{}},_o=new Ml;function gi(p,E,S,N){this.j=p,this.i=E,this.l=S,this.R=N||1,this.U=new yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hc}function Hc(){this.i=null,this.g="",this.h=!1}var na={},vo={};function ti(p,E,S){p.L=1,p.v=wo(Lt(E)),p.m=S,p.P=!0,is(p,null)}function is(p,E){p.F=Date.now(),Pt(p),p.A=Lt(p.v);var S=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),os(S.i,"t",N),p.C=0,S=p.j.J,p.h=new Hc,p.g=hp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new Ky(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,N=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Qs[0]=Y.toString()),Y=Qs);for(var re=0;re<Y.length;re++){var ge=Mn(S,Y[re],N||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Js(),Yf(p.i,p.u,p.A,p.l,p.R,p.m)}gi.prototype.ca=function(p){p=p.target;const E=this.M;E&&Lr(p)==3?E.j():this.Y(p)},gi.prototype.Y=function(p){try{if(p==this.g)e:{const dn=Lr(this.g);var E=this.g.Ba();const hs=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||rp(this.g)))){this.J||dn!=4||E==7||(E==8||0>=hs?Js(3):Js(2)),Ll(this);var S=this.g.Z();this.X=S;t:if(ra(this)){var N=rp(this.g);p="";var Y=N.length,re=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),pr(this);var ge="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(N[E],{stream:!(re&&E==Y-1)});N.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,Xf(this.i,this.u,this.A,this.l,this.R,dn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,hn=this.g;if((We=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(We)){var Qe=We;break t}}Qe=null}if(S=Qe)ta(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mr(this,S);else{this.o=!1,this.s=3,Gt(12),sr(this),pr(this);break e}}if(this.P){S=!0;let Cn;for(;!this.J&&this.C<ge.length;)if(Cn=ia(this,ge),Cn==vo){dn==4&&(this.s=4,Gt(14),S=!1),ta(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==na){this.s=4,Gt(15),ta(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else ta(this.i,this.l,Cn,null),mr(this,Cn);if(ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||ge.length!=0||this.h.h||(this.s=1,Gt(16),S=!1),this.o=this.o&&S,!S)ta(this.i,this.l,ge,"[Invalid Chunked Response]"),sr(this),pr(this);else if(0<ge.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Po(En),En.M=!0,Gt(11))}}else ta(this.i,this.l,ge,null),mr(this,ge);dn==4&&sr(this),this.o&&!this.J&&(dn==4?lp(this.j,this):(this.o=!1,Pt(this)))}else Zy(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),sr(this),pr(this)}}}catch{}finally{}};function ra(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ia(p,E){var S=p.C,N=E.indexOf(`
`,S);return N==-1?vo:(S=Number(E.substring(S,N)),isNaN(S)?na:(N+=1,N+S>E.length?vo:(E=E.slice(N,N+S),p.C=N+S,E)))}gi.prototype.cancel=function(){this.J=!0,sr(this)};function Pt(p){p.S=Date.now()+p.I,$c(p,p.I)}function $c(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Zs(v(p.ba,p),E)}function Ll(p){p.B&&(h.clearTimeout(p.B),p.B=null)}gi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(mi(this.i,this.A),this.L!=2&&(Js(),Gt(17)),sr(this),this.s=2,pr(this)):$c(this,this.S-p)};function pr(p){p.j.G==0||p.J||lp(p.j,p)}function sr(p){Ll(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Un(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function mr(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||sa(S.h,p))){if(!p.K&&sa(S.h,p)&&S.G==3){try{var N=S.Da.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Kl(S),$l(S);else break e;nh(S),Gt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=Zs(v(S.Za,S),6e3));if(1>=Jf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else cs(S,11)}else if((p.K||S.g==p)&&Kl(S),!M(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const En=Qe[3];En!=null&&(S.la=En,S.j.info("VER="+S.la));const dn=Qe[4];dn!=null&&(S.Aa=dn,S.j.info("SVER="+S.Aa));const hs=Qe[5];hs!=null&&typeof hs=="number"&&0<hs&&(N=1.5*hs,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Cn=p.g;if(Cn){const Ti=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var re=N.h;re.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(aa(re,re.h),re.h=null))}if(N.D){const ih=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ih&&(N.ya=ih,Ze(N.I,N.D,ih))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ge=p;if(N.qa=cp(N,N.J?N.ia:null,N.W),ge.K){kr(N.h,ge);var We=ge,hn=N.L;hn&&(We.I=hn),We.B&&(Ll(We),Pt(We)),N.g=ge}else ap(N);0<S.i.length&&Gl(S)}else Qe[0]!="stop"&&Qe[0]!="close"||cs(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?cs(S,7):eh(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Js(4)}catch{}}var Wy=class{constructor(p,E){this.g=p,this.map=E}};function Gc(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Jf(p){return p.h?1:p.g?p.g.size:0}function sa(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function aa(p,E){p.g?p.g.add(E):p.h=E}function kr(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Gc.prototype.cancel=function(){if(this.i=Wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Wn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return I(p.i)}function Zf(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var E=[],S=p.length,N=0;N<S;N++)E.push(p[N]);return E}E=[],S=0;for(N in p)E[S++]=p[N];return E}function Qy(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const N in p)E[S++]=N;return E}}}function Eo(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Qy(p),N=Zf(p),Y=N.length,re=0;re<Y;re++)E.call(void 0,N[re],S&&S[re],p)}var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ul(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var N=p[S].indexOf("="),Y=null;if(0<=N){var re=p[S].substring(0,N);Y=p[S].substring(N+1)}else re=p[S];E(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ss(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ss){this.h=p.h,oa(this,p.j),this.o=p.o,this.g=p.g,bo(this,p.s),this.l=p.l;var E=p.i,S=new yi;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Bl(this,S),this.m=p.m}else p&&(E=String(p).match(Wc))?(this.h=!1,oa(this,E[1]||"",!0),this.o=la(E[2]||""),this.g=la(E[3]||"",!0),bo(this,E[4]),this.l=la(E[5]||"",!0),Bl(this,E[6]||"",!0),this.m=la(E[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}ss.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Nr(E,Qc,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Nr(E,Qc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Nr(S,S.charAt(0)=="/"?Yc:ep,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Nr(S,Jy)),p.join("")};function Lt(p){return new ss(p)}function oa(p,E,S){p.j=S?la(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function bo(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Bl(p,E,S){E instanceof yi?(p.i=E,Xc(p.i,p.h)):(S||(E=Nr(E,Xy)),p.i=new yi(E,p.h))}function Ze(p,E,S){p.i.set(E,S)}function wo(p){return Ze(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function la(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Nr(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,Yy),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Yy(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Qc=/[#\/\?@]/g,ep=/[#\?:]/g,Yc=/[#\?]/g,Xy=/[#\?@]/g,Jy=/#/g;function yi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Vr(p){p.g||(p.g=new Map,p.h=0,p.i&&Ul(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=yi.prototype,n.add=function(p,E){Vr(this),this.i=null,p=ls(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function Fl(p,E){Vr(p),E=ls(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function as(p,E){return Vr(p),E=ls(p,E),p.g.has(E)}n.forEach=function(p,E){Vr(this),this.g.forEach(function(S,N){S.forEach(function(Y){p.call(E,Y,N,this)},this)},this)},n.na=function(){Vr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let N=0;N<E.length;N++){const Y=p[N];for(let re=0;re<Y.length;re++)S.push(E[N])}return S},n.V=function(p){Vr(this);let E=[];if(typeof p=="string")as(this,p)&&(E=E.concat(this.g.get(ls(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return Vr(this),this.i=null,p=ls(this,p),as(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function os(p,E,S){Fl(p,E),0<S.length&&(p.i=null,p.g.set(ls(p,E),I(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var N=E[S];const re=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var Y=re;ge[N]!==""&&(Y+="="+encodeURIComponent(String(ge[N]))),p.push(Y)}}return this.i=p.join("&")};function ls(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Xc(p,E){E&&!p.j&&(Vr(p),p.i=null,p.g.forEach(function(S,N){var Y=N.toLowerCase();N!=Y&&(Fl(this,N),os(this,Y,S))},p)),p.j=E}function tp(p,E){const S=new ea;if(h.Image){const N=new Image;N.onload=T(Mr,S,"TestLoadImage: loaded",!0,E,N),N.onerror=T(Mr,S,"TestLoadImage: error",!1,E,N),N.onabort=T(Mr,S,"TestLoadImage: abort",!1,E,N),N.ontimeout=T(Mr,S,"TestLoadImage: timeout",!1,E,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else E(!1)}function To(p,E){const S=new ea,N=new AbortController,Y=setTimeout(()=>{N.abort(),Mr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:N.signal}).then(re=>{clearTimeout(Y),re.ok?Mr(S,"TestPingServer: ok",!0,E):Mr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Mr(S,"TestPingServer: error",!1,E)})}function Mr(p,E,S,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(S)}catch{}}function So(){this.g=new Kn}function _i(p,E,S){const N=S||"";try{Eo(p,function(Y,re){let ge=Y;f(Y)&&(ge=jc(Y)),E.push(N+re+"="+encodeURIComponent(ge))})}catch(Y){throw E.push(N+"type="+encodeURIComponent("_badmap")),Y}}function ua(p){this.l=p.Ub||null,this.j=p.eb||!1}w(ua,zc),ua.prototype.g=function(){return new us(this.l,this.j)},ua.prototype.i=function(p){return function(){return p}}({});function us(p,E){un.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(us,un),n=us.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Ei(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?vi(this):Ei(this),this.readyState==3&&Jc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,vi(this))},n.Qa=function(p){this.g&&(this.response=p,vi(this))},n.ga=function(){this.g&&vi(this)};function vi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ei(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function Ei(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Zc(p){let E="";return H(p,function(S,N){E+=N,E+=":",E+=S,E+=`\r
`}),E}function vn(p,E,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=Zc(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):Ze(p,E,S))}function st(p){un.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(st,un);var jl=/^https?$/i,Ao=["POST","PUT"];n=st.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_o.g(),this.v=this.o?Kf(this.o):Kf(_o),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){np(this,re);return}if(p=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)S.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())S.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ao,E,void 0))||N||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of S)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Io(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){np(this,re)}};function np(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,zl(p),bi(p)}function zl(p){p.A||(p.A=!0,yn(p,"complete"),yn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,yn(this,"complete"),yn(this,"abort"),bi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ql(this):this.bb())},n.bb=function(){ql(this)};function ql(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Lr(p)!=4||p.Z()!=2)){if(p.u&&Lr(p)==4)Gf(p.Ea,0,p);else if(yn(p,"readystatechange"),Lr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var N;if(N=ge===0){var Y=String(p.D).match(Wc)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),N=!jl.test(Y?Y.toLowerCase():"")}S=N}if(S)yn(p,"complete"),yn(p,"success");else{p.m=6;try{var re=2<Lr(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",zl(p)}}finally{bi(p)}}}}function bi(p,E){if(p.g){Io(p);const S=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||yn(p,"ready");try{S.onreadystatechange=N}catch{}}}function Io(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Lr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),fi(E)}};function rp(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Zy(p){const E={};p=(p.g&&2<=Lr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(M(p[N]))continue;var S=x(p[N]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=E[Y]||[];E[Y]=re,re.push(S)}V(E,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ro(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function Hl(p){this.Aa=0,this.i=[],this.j=new ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ro("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ro("baseRetryDelayMs",5e3,p),this.cb=Ro("retryDelaySeedMs",1e4,p),this.Wa=Ro("forwardChannelMaxRetries",2,p),this.wa=Ro("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Gc(p&&p.concurrentRequestLimit),this.Da=new So,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Hl.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,N){Gt(0),this.W=p,this.H=E||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=cp(this,null,this.W),Gl(this)};function eh(p){if(ip(p),p.G==3){var E=p.U++,S=Lt(p.I);if(Ze(S,"SID",p.K),Ze(S,"RID",E),Ze(S,"TYPE","terminate"),Co(p,S),E=new gi(p,p.j,E),E.L=2,E.v=wo(Lt(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=hp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Pt(E)}up(p)}function $l(p){p.g&&(Po(p),p.g.cancel(),p.g=null)}function ip(p){$l(p),p.u&&(h.clearTimeout(p.u),p.u=null),Kl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Gl(p){if(!Kc(p.h)&&!p.s){p.s=!0;var E=p.Ga;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.B=0}}function e_(p,E){return Jf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Zs(v(p.Ga,p,E),rh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new gi(this,this.j,p);let re=this.o;if(this.S&&(re?(re=C(re),b(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(E+=N,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=sp(this,Y,E),S=Lt(this.I),Ze(S,"RID",p),Ze(S,"CVER",22),this.D&&Ze(S,"X-HTTP-Session-Id",this.D),Co(this,S),re&&(this.O?E="headers="+encodeURIComponent(String(Zc(re)))+"&"+E:this.m&&vn(S,this.m,re)),aa(this.h,Y),this.Ua&&Ze(S,"TYPE","init"),this.P?(Ze(S,"$req",E),Ze(S,"SID","null"),Y.T=!0,ti(Y,S,null)):ti(Y,S,E),this.G=2}}else this.G==3&&(p?th(this,p):this.i.length==0||Kc(this.h)||th(this))};function th(p,E){var S;E?S=E.l:S=p.U++;const N=Lt(p.I);Ze(N,"SID",p.K),Ze(N,"RID",S),Ze(N,"AID",p.T),Co(p,N),p.m&&p.o&&vn(N,p.m,p.o),S=new gi(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=sp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),aa(p.h,S),ti(S,N,E)}function Co(p,E){p.H&&H(p.H,function(S,N){Ze(E,N,S)}),p.l&&Eo({},function(S,N){Ze(E,N,S)})}function sp(p,E,S){S=Math.min(p.i.length,S);var N=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let re=-1;for(;;){const ge=["count="+S];re==-1?0<S?(re=Y[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let We=!0;for(let hn=0;hn<S;hn++){let Qe=Y[hn].g;const En=Y[hn].map;if(Qe-=re,0>Qe)re=Math.max(0,Y[hn].g-100),We=!1;else try{_i(En,ge,"req"+Qe+"_")}catch{N&&N(En)}}if(We){N=ge.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,N}function ap(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ie||q(),ue||(ie(),ue=!0),Te.add(E,p),p.v=0}}function nh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Zs(v(p.Fa,p),rh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,op(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Zs(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),$l(this),op(this))};function Po(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function op(p){p.g=new gi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Lt(p.qa);Ze(E,"RID","rpc"),Ze(E,"SID",p.K),Ze(E,"AID",p.T),Ze(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ze(E,"TO",p.ja),Ze(E,"TYPE","xmlhttp"),Co(p,E),p.m&&p.o&&vn(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=wo(Lt(E)),S.m=null,S.P=!0,is(S,p)}n.Za=function(){this.C!=null&&(this.C=null,$l(this),nh(this),Gt(19))};function Kl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function lp(p,E){var S=null;if(p.g==E){Kl(p),Po(p),p.g=null;var N=2}else if(sa(p.h,E))S=E.D,kr(p.h,E),N=1;else return;if(p.G!=0){if(E.o)if(N==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;N=Nl(),yn(N,new Qf(N,S)),Gl(p)}else ap(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(N==1&&e_(p,E)||N==2&&nh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:cs(p,5);break;case 4:cs(p,10);break;case 3:cs(p,6);break;default:cs(p,2)}}}function rh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function cs(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),N=p.Xa;const Y=!N;N=new ss(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||oa(N,"https"),wo(N),Y?tp(N.toString(),S):To(N.toString(),S)}else Gt(2);p.G=0,p.l&&p.l.sa(E),up(p),ip(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function up(p){if(p.G=0,p.ka=[],p.l){const E=Wn(p.h);(E.length!=0||p.i.length!=0)&&(P(p.ka,E),P(p.ka,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.ra()}}function cp(p,E,S){var N=S instanceof ss?Lt(S):new ss(S);if(N.g!="")E&&(N.g=E+"."+N.g),bo(N,N.s);else{var Y=h.location;N=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new ss(null);N&&oa(re,N),E&&(re.g=E),Y&&bo(re,Y),S&&(re.l=S),N=re}return S=p.D,E=p.ya,S&&E&&Ze(N,S,E),Ze(N,"VER",p.la),Co(p,N),N}function hp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new st(new ua({eb:S})):new st(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dp(){}n=dp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wl(){}Wl.prototype.g=function(p,E){return new Qn(p,E)};function Qn(p,E){un.call(this),this.g=new Hl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!M(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new wi(this)}w(Qn,un),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){eh(this.g)},Qn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=jc(p),p=S);E.i.push(new Wy(E.Ya++,p)),E.G==3&&Gl(E)},Qn.prototype.N=function(){this.g.l=null,delete this.j,eh(this.g),delete this.g,Qn.aa.N.call(this)};function fp(p){Ys.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(fp,Ys);function pp(){ei.call(this),this.status=1}w(pp,ei);function wi(p){this.g=p}w(wi,dp),wi.prototype.ua=function(){yn(this.g,"a")},wi.prototype.ta=function(p){yn(this.g,new fp(p))},wi.prototype.sa=function(p){yn(this.g,new pp)},wi.prototype.ra=function(){yn(this.g,"b")},Wl.prototype.createWebChannel=Wl.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,VO=function(){return new Wl},NO=function(){return Nl()},kO=Dr,rE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,jm=cn,rs.COMPLETE="complete",DO=rs,Wf.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",un.prototype.listen=un.prototype.K,bd=Wf,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,OO=st}).apply(typeof vm<"u"?vm:typeof self<"u"?self:typeof window<"u"?window:{});const YR="@firebase/firestore",XR="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new sy("@firebase/firestore");function ku(){return Ja.logLevel}function K9(n){Ja.setLogLevel(n)}function pe(n,...e){if(Ja.logLevel<=je.DEBUG){const t=e.map(Vb);Ja.debug(`Firestore (${xc}): ${n}`,...t)}}function Wt(n,...e){if(Ja.logLevel<=je.ERROR){const t=e.map(Vb);Ja.error(`Firestore (${xc}): ${n}`,...t)}}function Xi(n,...e){if(Ja.logLevel<=je.WARN){const t=e.map(Vb);Ja.warn(`Firestore (${xc}): ${n}`,...t)}}function Vb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+n;throw Wt(e),new Error(e)}function Ae(n,e){n||we()}function W9(n,e){n||we()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class Y9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class X9{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new MO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new An(e)}}class J9{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Z9{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new J9(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eq{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new JR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new JR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function ec(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function UO(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=-62135596800,e1=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*e1);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZR)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e1}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ZR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new It(0,0))}static max(){return new Re(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="__name__";class ki{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(),r===void 0?r=e.length-t:r>e.length-t&&we(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=ki.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=ki.isNumericId(e),i=ki.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ki.extractNumericId(e).compare(ki.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return za.fromString(e.substring(4,e.length-2))}}class qe extends ki{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const nq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends ki{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return nq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t1}static keyField(){return new St([t1])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(qe.fromString(e))}static fromName(e){return new _e(qe.fromString(e).popFirst(5))}static empty(){return new _e(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;class pg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function iE(n){return n.fields.find(e=>e.kind===2)}function Xo(n){return n.fields.filter(e=>e.kind!==2)}pg.UNKNOWN_ID=-1;class zm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xd(0,xr.min())}}function BO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new xr(i,_e.empty(),e)}function FO(n){return new xr(n.readTime,n.key,tc)}class xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xr(Re.min(),_e.empty(),tc)}static max(){return new xr(Re.max(),_e.empty(),tc)}}function Mb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==jO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},d=>r(d))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{u[f]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="SimpleDb";class _y{static open(e,t,r,i){try{return new _y(t,e.transaction(i,r))}catch(o){throw new Od(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Vn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Od(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=Lb(r.target.error);this.m.reject(new Od(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(pe(Tr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new iq(t)}}class Ki{static delete(e){return pe(Tr,"Removing database:",e),Zo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!$d())return!1;if(Ki.v())return!0;const e=Vt(),t=Ki.C(e),r=0<t&&t<10,i=qO(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Ki.C(Vt())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(pe(Tr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new Od(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Od(e,u))},i.onupgradeneeded=o=>{pe(Tr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Tr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const h=_y.open(this.db,e,o?"readonly":"readwrite",r),d=i(h).next(f=>(h.S(),f)).catch(f=>(h.abort(f),X.reject(f))).toPromise();return d.catch(()=>{}),await h.p,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(pe(Tr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function qO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class rq{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Zo(this.q.delete())}}class Od extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fo(n){return n.name==="IndexedDbTransactionError"}class iq{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Tr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Tr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Zo(r)}add(e){return pe(Tr,"ADD",this.store.name,e,e),Zo(this.store.add(e))}get(e){return Zo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Tr,"GET",this.store.name,e,t),t))}delete(e){return pe(Tr,"DELETE",this.store.name,e),Zo(this.store.delete(e))}count(){return pe(Tr,"COUNT",this.store.name),Zo(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}})}{const o=this.cursor(r),u=[];return this.j(o,(h,d)=>{u.push(d)}).next(()=>u)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){pe(Tr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=Lb(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}j(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const d=new rq(h),f=t(h.primaryKey,h.value,d);if(f instanceof X){const g=f.catch(_=>(d.done(),X.reject(_)));r.push(g)}d.isDone?i():d.U===null?h.continue():h.continue(d.U)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Lb(r.target.error);t(i)}})}let n1=!1;function Lb(n){const e=Ki.C(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return n1||(n1=!0,setTimeout(()=>{throw r},0)),r}}return n}const Dd="IndexBackfiller";class sq{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){pe(Dd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();pe(Dd,`Documents written: ${t}`)}catch(t){fo(t)?pe(Dd,"Ignoring IndexedDB error during index backfill: ",t):await ho(t)}await this.te(6e4)})}}class aq{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Dd,`Processing collection: ${u}`),this.ie(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,o)).next(h=>(pe(Dd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=FO(o);Mb(u,r)>0&&(r=u)}),new xr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=-1;function Of(n){return n==null}function Jd(n){return n===0&&1/n==-1/0}function HO(n){return typeof n=="number"&&Number.isInteger(n)&&!Jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="";function $n(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=r1(e)),e=oq(n.get(t),e);return r1(e)}function oq(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case mg:t+="";break;default:t+=o}}return t}function r1(n){return n+mg+""}function qi(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===mg&&n.charAt(1)===""),qe.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(mg,o);switch((u<0||u>t)&&we(),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we()}o=u+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="remoteDocuments",Df="owner",Ru="owner",Zd="mutationQueues",lq="userId",oi="mutations",i1="batchId",al="userMutationsIndex",s1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(n,e){return[n,$n(e)]}function $O(n,e,t){return[n,$n(e),t]}const uq={},nc="documentMutations",gg="remoteDocumentsV14",cq=["prefixPath","collectionGroup","readTime","documentId"],Hm="documentKeyIndex",hq=["prefixPath","collectionGroup","documentId"],GO="collectionGroupIndex",dq=["collectionGroup","readTime","prefixPath","documentId"],ef="remoteDocumentGlobal",sE="remoteDocumentGlobalKey",rc="targets",KO="queryTargetsIndex",fq=["canonicalId","targetId"],ic="targetDocuments",pq=["targetId","path"],Ub="documentTargetsIndex",mq=["path","targetId"],yg="targetGlobalKey",dl="targetGlobal",tf="collectionParents",gq=["collectionId","parent"],sc="clientMetadata",yq="clientId",vy="bundles",_q="bundleId",Ey="namedQueries",vq="name",Bb="indexConfiguration",Eq="indexId",aE="collectionGroupIndex",bq="collectionGroup",_g="indexState",wq=["indexId","uid"],WO="sequenceNumberIndex",Tq=["uid","sequenceNumber"],vg="indexEntries",Sq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QO="documentKeyIndex",Aq=["indexId","uid","orderedDocumentKey"],by="documentOverlays",Iq=["userId","collectionPath","documentId"],oE="collectionPathOverlayIndex",Rq=["userId","collectionPath","largestBatchId"],YO="collectionGroupOverlayIndex",Cq=["userId","collectionGroup","largestBatchId"],Fb="globals",Pq="name",XO=[Zd,oi,nc,Jo,rc,Df,dl,ic,sc,ef,tf,vy,Ey],xq=[...XO,by],JO=[Zd,oi,nc,gg,rc,Df,dl,ic,sc,ef,tf,vy,Ey,by],ZO=JO,jb=[...ZO,Bb,_g,vg],Oq=jb,Dq=[...jb,Fb];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends zO{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function gn(n,e){const t=Ee(n);return Ki.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function po(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Em(this.root,e,this.comparator,!1)}getReverseIterator(){return new Em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Em(this.root,e,this.comparator,!0)}}class Em{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Dn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o1(this.data.getIterator())}getIteratorFrom(e){return new o1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class o1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new ur([])}unionWith(e){let t=new lt(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tD("Invalid base64 string: "+o):o}}(e);return new qt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const Nq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=Nq.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fs(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="server_timestamp",rD="__type__",iD="__previous_value__",sD="__local_write_time__";function wy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rD])===null||t===void 0?void 0:t.stringValue)===nD}function Ty(n){const e=n.mapValue.fields[iD];return wy(e)?Ty(e):e}function nf(n){const e=Bs(n.mapValue.fields[sD].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,t,r,i,o,u,h,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f}}const uE="(default)";class Za{constructor(e,t){this.projectId=e,this.database=t||uE}static empty(){return new Za("","")}get isDefaultDatabase(){return this.database===uE}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="__type__",aD="__max__",La={mapValue:{fields:{__type__:{stringValue:aD}}}},qb="__vector__",ac="value",$m={nullValue:"NULL_VALUE"};function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wy(n)?4:oD(n)?9007199254740991:Sy(n)?10:11:we()}function Ji(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nf(n).isEqual(nf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Bs(i.timestampValue),h=Bs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Fs(i.bytesValue).isEqual(Fs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=wt(i.doubleValue),h=wt(o.doubleValue);return u===h?Jd(u)===Jd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ec(n.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(a1(u)!==a1(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Ji(u[d],h[d])))return!1;return!0}(n,e);default:return we()}}function rf(n,e){return(n.values||[]).find(t=>Ji(t,e))!==void 0}function to(n,e){if(n===e)return 0;const t=eo(n),r=eo(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=wt(o.integerValue||o.doubleValue),d=wt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return l1(n.timestampValue,e.timestampValue);case 4:return l1(nf(n),nf(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Fs(o),d=Fs(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=ke(h[f],d[f]);if(g!==0)return g}return ke(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=ke(wt(o.latitude),wt(u.latitude));return h!==0?h:ke(wt(o.longitude),wt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return u1(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,f,g;const _=o.fields||{},v=u.fields||{},T=(h=_[ac])===null||h===void 0?void 0:h.arrayValue,w=(d=v[ac])===null||d===void 0?void 0:d.arrayValue,I=ke(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:u1(T,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===La.mapValue&&u===La.mapValue)return 0;if(o===La.mapValue)return 1;if(u===La.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=ke(d[_],g[_]);if(v!==0)return v;const T=to(h[d[_]],f[g[_]]);if(T!==0)return T}return ke(d.length,g.length)}(n.mapValue,e.mapValue);default:throw we()}}function l1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Bs(n),r=Bs(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function u1(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=to(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function oc(n){return cE(n)}function cE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Bs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=cE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${cE(t.fields[u])}`;return i+"}"}(n.mapValue):we()}function Gm(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ty(n);return e?16+Gm(e):16;case 5:return 2*n.stringValue.length;case 6:return Fs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Gm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return po(r.fields,(o,u)=>{i+=o.length+Gm(u)}),i}(n.mapValue);default:throw we()}}function gl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hE(n){return!!n&&"integerValue"in n}function sf(n){return!!n&&"arrayValue"in n}function c1(n){return!!n&&"nullValue"in n}function h1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Km(n){return!!n&&"mapValue"in n}function Sy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zb])===null||t===void 0?void 0:t.stringValue)===qb}function kd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return po(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aD}const lD={mapValue:{fields:{[zb]:{stringValue:qb},[ac]:{arrayValue:{}}}}};function Mq(n){return"nullValue"in n?$m:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gl(Za.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Sy(n)?lD:{mapValue:{}}:we()}function Lq(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gl(Za.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?lD:"mapValue"in n?Sy(n)?{mapValue:{}}:La:we()}function d1(n,e){const t=to(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function f1(n,e){const t=to(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Km(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kd(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=kd(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Km(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Km(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){po(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nn(kd(this.value))}}function uD(n){const e=[];return po(n.fields,(t,r)=>{const i=new St([t]);if(Km(r)){const o=uD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new vt(e,0,Re.min(),Re.min(),Re.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Re.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Re.min(),Re.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Re.min(),Re.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.position=e,this.inclusive=t}}function p1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=to(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function m1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t="asc"){this.field=e,this.dir=t}}function Uq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{}class He extends cD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Bq(e,t,r):t==="array-contains"?new zq(e,r):t==="in"?new gD(e,r):t==="not-in"?new qq(e,r):t==="array-contains-any"?new Hq(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Fq(e,r):new jq(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(to(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(to(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends cD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return lc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lc(n){return n.op==="and"}function dE(n){return n.op==="or"}function Hb(n){return hD(n)&&lc(n)}function hD(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function fE(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+oc(n.value);if(Hb(n))return n.filters.map(e=>fE(e)).join(",");{const e=n.filters.map(t=>fE(t)).join(",");return`${n.op}(${e})`}}function dD(n,e){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&Ji(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&dD(u,i.filters[h]),!0):!1}(n,e):void we()}function fD(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function pD(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${oc(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(pD).join(" ,")+"}"}(n):"Filter"}class Bq extends He{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fq extends He{constructor(e,t){super(e,"in",t),this.keys=mD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jq extends He{constructor(e,t){super(e,"not-in",t),this.keys=mD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class zq extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sf(t)&&rf(t.arrayValue,this.value)}}class gD extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rf(this.value.arrayValue,t)}}class qq extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rf(this.value.arrayValue,t)}}class Hq extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function pE(n,e=null,t=[],r=[],i=null,o=null,u=null){return new $q(n,e,t,r,i,o,u)}function yl(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oc(r)).join(",")),e.le=t}return e.le}function kf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Uq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m1(n.startAt,e.startAt)&&m1(n.endAt,e.endAt)}function Eg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function bg(n,e){return n.filters.filter(t=>t instanceof He&&t.field.isEqual(e))}function g1(n,e,t){let r=$m,i=!0;for(const o of bg(n,e)){let u=$m,h=!0;switch(o.op){case"<":case"<=":u=Mq(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=$m}d1({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];d1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function y1(n,e,t){let r=La,i=!0;for(const o of bg(n,e)){let u=La,h=!0;switch(o.op){case">=":case">":u=Lq(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=La}f1({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];f1({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yD(n,e,t,r,i,o,u,h){return new $s(n,e,t,r,i,o,u,h)}function Oc(n){return new $s(n)}function _1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $b(n){return n.collectionGroup!==null}function $u(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new lt(St.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(h=h.add(f.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new af(o,r))}),t.has(St.keyField().canonicalString())||e.he.push(new af(St.keyField(),r))}return e.he}function tr(n){const e=Ee(n);return e.Pe||(e.Pe=Gq(e,$u(n))),e.Pe}function Gq(n,e){if(n.limitType==="F")return pE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new af(i.field,o)});const t=n.endAt?new no(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new no(n.startAt.position,n.startAt.inclusive):null;return pE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function mE(n,e){const t=n.filters.concat([e]);return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wg(n,e,t){return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nf(n,e){return kf(tr(n),tr(e))&&n.limitType===e.limitType}function _D(n){return`${yl(tr(n))}|lt:${n.limitType}`}function Nu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>pD(i)).join(", ")}]`),Of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>oc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>oc(i)).join(",")),`Target(${r})`}(tr(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of $u(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,d){const f=p1(u,h,d);return u.inclusive?f<=0:f<0}(r.startAt,$u(r),i)||r.endAt&&!function(u,h,d){const f=p1(u,h,d);return u.inclusive?f>=0:f>0}(r.endAt,$u(r),i))}(n,e)}function vD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ED(n){return(e,t)=>{let r=!1;for(const i of $u(n)){const o=Kq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Kq(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?to(d,f):we()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return eD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=new yt(_e.comparator);function cr(){return Wq}const bD=new yt(_e.comparator);function wd(...n){let e=bD;for(const t of n)e=e.insert(t.key,t);return e}function wD(n){let e=bD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hi(){return Nd()}function TD(){return Nd()}function Nd(){return new Gs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Qq=new yt(_e.comparator),Yq=new lt(_e.comparator);function Me(...n){let e=Yq;for(const t of n)e=e.add(t);return e}const Xq=new lt(ke);function Gb(){return Xq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function SD(n){return{integerValue:""+n}}function AD(n,e){return HO(e)?SD(e):Kb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this._=void 0}}function Jq(n,e,t){return n instanceof uc?function(i,o){const u={fields:{[rD]:{stringValue:nD},[sD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wy(o)&&(o=Ty(o)),o&&(u.fields[iD]=o),{mapValue:u}}(t,e):n instanceof _l?RD(n,e):n instanceof vl?CD(n,e):function(i,o){const u=ID(i,o),h=v1(u)+v1(i.Ie);return hE(u)&&hE(i.Ie)?SD(h):Kb(i.serializer,h)}(n,e)}function Zq(n,e,t){return n instanceof _l?RD(n,e):n instanceof vl?CD(n,e):t}function ID(n,e){return n instanceof cc?function(r){return hE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class uc extends Ay{}class _l extends Ay{constructor(e){super(),this.elements=e}}function RD(n,e){const t=PD(e);for(const r of n.elements)t.some(i=>Ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class vl extends Ay{constructor(e){super(),this.elements=e}}function CD(n,e){let t=PD(e);for(const r of n.elements)t=t.filter(i=>!Ji(i,r));return{arrayValue:{values:t}}}class cc extends Ay{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function v1(n){return wt(n.integerValue||n.doubleValue)}function PD(n){return sf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t){this.field=e,this.transform=t}}function eH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof _l&&i instanceof _l||r instanceof vl&&i instanceof vl?ec(r.elements,i.elements,Ji):r instanceof cc&&i instanceof cc?Ji(r.Ie,i.Ie):r instanceof uc&&i instanceof uc}(n.transform,e.transform)}class tH{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Iy{}function xD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kc(n.key,At.none()):new Dc(n.key,n.data,At.none());{const t=n.data,r=Nn.empty();let i=new lt(St.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Ks(n.key,r,new ur(i.toArray()),At.none())}}function nH(n,e,t){n instanceof Dc?function(i,o,u){const h=i.value.clone(),d=b1(i.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ks?function(i,o,u){if(!Wm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=b1(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(OD(i)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Vd(n,e,t,r){return n instanceof Dc?function(o,u,h,d){if(!Wm(o.precondition,u))return h;const f=o.value.clone(),g=w1(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ks?function(o,u,h,d){if(!Wm(o.precondition,u))return h;const f=w1(o.fieldTransforms,d,u),g=u.data;return g.setAll(OD(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Wm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function rH(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=ID(r.transform,i||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,o))}return t||null}function E1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ec(r,i,(o,u)=>eH(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dc extends Iy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends Iy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function b1(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,Zq(u,h,t[i]))}return r}function w1(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,Jq(o,u,e))}return r}class kc extends Iy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wb extends Iy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&nH(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TD();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const d=xD(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(t,r)=>E1(t,r))&&ec(this.baseMutations,e.baseMutations,(t,r)=>E1(t,r))}}class Yb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return Qq}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Yb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,Xe;function DD(n){switch(n){case ne.OK:return we();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we()}}function kD(n){if(n===void 0)return Wt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case rn.OK:return ne.OK;case rn.CANCELLED:return ne.CANCELLED;case rn.UNKNOWN:return ne.UNKNOWN;case rn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case rn.INTERNAL:return ne.INTERNAL;case rn.UNAVAILABLE:return ne.UNAVAILABLE;case rn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case rn.NOT_FOUND:return ne.NOT_FOUND;case rn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case rn.ABORTED:return ne.ABORTED;case rn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case rn.DATA_LOSS:return ne.DATA_LOSS;default:return we()}}(Xe=rn||(rn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=new za([4294967295,4294967295],0);function T1(n){const e=ND().encode(n),t=new xO;return t.update(e),new Uint8Array(t.digest())}function S1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new za([t,r],0),new za([i,o],0)]}class Jb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Td(`Invalid padding: ${t}`);if(r<0)throw new Td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Td(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Td(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=za.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(za.fromNumber(r)));return i.compare(sH)===1&&(i=new za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=T1(e),[r,i]=S1(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Jb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=T1(e),[r,i]=S1(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lf(Re.min(),i,new yt(ke),cr(),Me())}}class Uf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uf(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class VD{constructor(e,t){this.targetId=e,this.ge=t}}class MD{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class A1{constructor(){this.pe=0,this.ye=I1(),this.we=qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Me(),t=Me(),r=Me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we()}}),new Uf(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=I1()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class aH{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cr(),this.$e=bm(),this.Ke=bm(),this.Ue=new yt(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(Eg(o))if(r===0){const u=new _e(o.path);this.ze(t,u,vt.newNoDocument(u,Re.min()))}else Ae(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Fs(r).toUint8Array()}catch(d){if(d instanceof tD)return Xi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Jb(u,i,o)}catch(d){return Xi(d instanceof Td?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&Eg(h.target)){const d=new _e(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,vt.newNoDocument(d,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Me();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const i=new Lf(e,t,this.Ue,this.Qe,r);return this.Qe=cr(),this.$e=bm(),this.Ke=bm(),this.Ue=new yt(ke),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new A1,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new A1),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function bm(){return new yt(_e.comparator)}function I1(){return new yt(_e.comparator)}const oH={asc:"ASCENDING",desc:"DESCENDING"},lH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uH={and:"AND",or:"OR"};class cH{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gE(n,e){return n.useProto3Json||Of(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hH(n,e){return hc(n,e.toTimestamp())}function Qt(n){return Ae(!!n),Re.fromTimestamp(function(t){const r=Bs(t);return new It(r.seconds,r.nanos)}(n))}function Zb(n,e){return yE(n,e).canonicalString()}function yE(n,e){const t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UD(n){const e=qe.fromString(n);return Ae(WD(e)),e}function of(n,e){return Zb(n.databaseId,e.path)}function Wi(n,e){const t=UD(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(jD(t))}function BD(n,e){return Zb(n.databaseId,e)}function FD(n){const e=UD(n);return e.length===4?qe.emptyPath():jD(e)}function _E(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jD(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function R1(n,e,t){return{name:of(n,e),fields:t.value.mapValue.fields}}function zD(n,e,t){const r=Wi(n,e.name),i=Qt(e.updateTime),o=e.createTime?Qt(e.createTime):Re.min(),u=new Nn({mapValue:{fields:e.fields}}),h=vt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function dH(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const o=Wi(r,i.found.name),u=Qt(i.found.updateTime),h=i.found.createTime?Qt(i.found.createTime):Re.min(),d=new Nn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(o,u,h,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const o=Wi(r,i.missing),u=Qt(i.readTime);return vt.newNoDocument(o,u)}(n,e):we()}function fH(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string"),qt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array),qt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(f){const g=f.code===void 0?ne.UNKNOWN:kD(f.code);return new de(g,f.message||"")}(u);t=new MD(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wi(n,r.document.name),o=Qt(r.document.updateTime),u=r.document.createTime?Qt(r.document.createTime):Re.min(),h=new Nn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new Qm(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wi(n,r.document),o=r.readTime?Qt(r.readTime):Re.min(),u=vt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new Qm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wi(n,r.document),o=r.removedTargetIds||[];t=new Qm([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new iH(i,o),h=r.targetId;t=new VD(h,u)}}return t}function lf(n,e){let t;if(e instanceof Dc)t={update:R1(n,e.key,e.value)};else if(e instanceof kc)t={delete:of(n,e.key)};else if(e instanceof Ks)t={update:R1(n,e.key,e.data),updateMask:vH(e.fieldMask)};else{if(!(e instanceof Wb))return we();t={verify:of(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof uc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof _l)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof cc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw we()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:hH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(n,e.precondition)),t}function vE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?At.updateTime(Qt(o.updateTime)):o.exists!==void 0?At.exists(o.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME"),d=new uc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new _l(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new vl(g)}else"increment"in h?d=new cc(u,h.increment):we();const f=St.fromServerFormat(h.fieldPath);return new Mf(f,d)}(n,i)):[];if(e.update){e.update.name;const i=Wi(n,e.update.name),o=new Nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(d){const f=d.fieldPaths||[];return new ur(f.map(g=>St.fromServerFormat(g)))}(e.updateMask);return new Ks(i,o,u,t,r)}return new Dc(i,o,t,r)}if(e.delete){const i=Wi(n,e.delete);return new kc(i,t)}if(e.verify){const i=Wi(n,e.verify);return new Wb(i,t)}return we()}function pH(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?Qt(i.updateTime):Qt(o);return u.isEqual(Re.min())&&(u=Qt(o)),new tH(u,i.transformResults||[])}(t,e))):[]}function qD(n,e){return{documents:[BD(n,e.path)]}}function HD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=BD(n,i);const o=function(f){if(f.length!==0)return KD(ot.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:Vu(v.field),direction:gH(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=gE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function $D(n){let e=FD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=GD(_);return v instanceof ot&&Hb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(w){return new af(Mu(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Of(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,T=_.values||[];return new no(T,v)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const v=!_.before,T=_.values||[];return new no(T,v)}(t.endAt)),yD(e,i,u,o,h,"F",d,f)}function mH(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mu(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mu(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mu(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mu(t.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return He.create(Mu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>GD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function gH(n){return oH[n]}function yH(n){return lH[n]}function _H(n){return uH[n]}function Vu(n){return{fieldPath:n.canonicalString()}}function Mu(n){return St.fromServerFormat(n.fieldPath)}function KD(n){return n instanceof He?function(t){if(t.op==="=="){if(h1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NAN"}};if(c1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NAN"}};if(c1(t.value))return{unaryFilter:{field:Vu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(t.field),op:yH(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>KD(i));return r.length===1?r[0]:{compositeFilter:{op:_H(t.op),filters:r}}}(n):we()}function vH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,i,o=Re.min(),u=Re.min(),h=qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.Tt=e}}function EH(n,e){let t;if(e.document)t=zD(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=bl(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const r=_e.fromSegments(e.unknownDocument.path),i=bl(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new It(i[0],i[1]);return Re.fromTimestamp(o)}(e.readTime)),t}function C1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Tg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:of(o,u.key),fields:u.data.value.mapValue.fields,updateTime:hc(o,u.version.toTimestamp()),createTime:hc(o,u.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:El(e.version)};else{if(!e.isUnknownDocument())return we();r.unknownDocument={path:t.path.toArray(),version:El(e.version)}}return r}function Tg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function El(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(n){const e=new It(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function el(n,e){const t=(e.baseMutations||[]).map(o=>vE(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>vE(n.Tt,o)),i=It.fromMillis(e.localWriteTimeMs);return new Qb(e.batchId,i,t,r)}function Sd(n){const e=bl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?bl(n.lastLimboFreeSnapshotVersion):Re.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ae(o.documents.length===1),tr(Oc(FD(o.documents[0])))}(n.query):function(o){return tr($D(o))}(n.query),new Os(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,qt.fromBase64String(n.resumeToken))}function YD(n,e){const t=El(e.snapshotVersion),r=El(e.lastLimboFreeSnapshotVersion);let i;i=Eg(e.target)?qD(n.Tt,e.target):HD(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ew(n){const e=$D({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wg(e,e.limit,"L"):e}function A0(n,e){return new Xb(e.largestBatchId,vE(n.Tt,e.overlayMutation))}function P1(n,e){const t=e.path.lastSegment();return[n,$n(e.path.popLast()),t]}function x1(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:El(r.readTime),documentKey:$n(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{getBundleMetadata(e,t){return O1(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:bl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return O1(e).put(function(i){return{bundleId:i.id,createTime:El(Qt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return D1(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:ew(o.bundledQuery),readTime:bl(o.readTime)}}(r)})}saveNamedQuery(e,t){return D1(e).put(function(i){return{name:i.name,readTime:El(Qt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function O1(n){return gn(n,vy)}function D1(n){return gn(n,Ey)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new Ry(e,r)}getOverlay(e,t){return ad(e).get(P1(this.userId,t)).next(r=>r?A0(this.serializer,r):null)}getOverlays(e,t){const r=Hi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new Xb(t,u);i.push(this.Et(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add($n(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(ad(e).J(oE,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Hi(),o=$n(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ad(e).G(oE,u).next(h=>{for(const d of h){const f=A0(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Hi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ad(e).Z({index:YO,range:h},(d,f,g)=>{const _=A0(this.serializer,f);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return ad(e).put(function(i,o,u){const[h,d,f]=P1(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:lf(i.Tt,u.mutation)}}(this.serializer,this.userId,t))}}function ad(n){return gn(n,by)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{dt(e){return gn(e,Fb)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?qt.fromUint8Array(r):qt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Jd(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Bs(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Fs(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?oD(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Sy(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):we()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const u=ac,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(wt(h)),this.wt(u,t),this.Rt(o[u],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}tl.xt=new tl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=255;function TH(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function k1(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=TH(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class SH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=k1(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=k1(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(Pu),this.jt(255)}Ht(){this.Jt(Pu),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===Pu?(this.jt(Pu),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===Pu?(this.Jt(Pu),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class AH{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class IH{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class od{constructor(){this.Zt=new SH,this.Xt=new AH(this.Zt),this.en=new IH(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new nl(this.indexId,this.documentKey,this.arrayValue,r)}}function Oa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=N1(n.arrayValue,e.arrayValue),t!==0?t:(t=N1(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function N1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.rn=new lt((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=iE(e);if(t!==void 0&&!this.cn(t))return!1;const r=Xo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const h=this.rn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const d=r[o];if(!this.ln(h,d)||!this.hn(this.sn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.sn.length||!this.hn(this.sn[u++],h))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new zm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new zm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new zm(r.field,r.dir==="asc"?0:1)));return new pg(pg.UNKNOWN_ID,this.collectionId,t,Xd.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){var e,t;if(Ae(n instanceof He||n instanceof ot),n instanceof He){if(n instanceof gD){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>He.create(n.field,"==",o)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>XD(i));return ot.create(r,n.op)}function RH(n){if(n.getFilters().length===0)return[];const e=wE(XD(n));return Ae(JD(e)),EE(e)||bE(e)?[e]:e.getFilters()}function EE(n){return n instanceof He}function bE(n){return n instanceof ot&&Hb(n)}function JD(n){return EE(n)||bE(n)||function(t){if(t instanceof ot&&dE(t)){for(const r of t.getFilters())if(!EE(r)&&!bE(r))return!1;return!0}return!1}(n)}function wE(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;if(n.filters.length===1)return wE(n.filters[0]);const e=n.filters.map(r=>wE(r));let t=ot.create(e,n.op);return t=Sg(t),JD(t)?t:(Ae(t instanceof ot),Ae(lc(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>tw(r,i)))}function tw(n,e){let t;return Ae(n instanceof He||n instanceof ot),Ae(e instanceof He||e instanceof ot),t=n instanceof He?e instanceof He?function(i,o){return ot.create([i,o],"and")}(n,e):M1(n,e):e instanceof He?M1(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0),lc(i)&&lc(o))return fD(i,o.getFilters());const u=dE(i)?i:o,h=dE(i)?o:i,d=u.filters.map(f=>tw(f,h));return ot.create(d,"or")}(n,e),Sg(t)}function M1(n,e){if(lc(e))return fD(e,n.getFilters());{const t=e.filters.map(r=>tw(n,r));return ot.create(t,"or")}}function Sg(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return Sg(e[0]);if(hD(n))return n;const t=e.map(i=>Sg(i)),r=[];return t.forEach(i=>{i instanceof He?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(){this.Tn=new nw}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(xr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class nw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="IndexedDbIndexManager",wm=new Uint8Array(0);class PH{constructor(e,t){this.databaseId=t,this.In=new nw,this.En=new Gs(r=>yl(r),(r,i)=>kf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:$n(i)};return U1(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[UO(t),""],!1,!0);return U1(e).G(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(qi(u.parent))}return r})}addFieldIndex(e,t){const r=ld(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Ou(e);return o.next(h=>{u.put(x1(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=ld(e),i=Ou(e),o=xu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=ld(e),r=xu(e),i=Ou(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return X.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new V1(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=xu(e);let i=!0;const o=new Map;return X.forEach(this.dn(t),u=>this.An(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Me();const h=[];return X.forEach(o,(d,f)=>{pe(L1,`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}(d)} to execute ${yl(t)}`);const g=function(U,$){const j=iE($);if(j===void 0)return null;for(const H of bg(U,j.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null}(f,d),_=function(U,$){const j=new Map;for(const H of Xo($))for(const V of bg(U,H.fieldPath))switch(V.op){case"==":case"in":j.set(H.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return j.set(H.fieldPath.canonicalString(),V.value),Array.from(j.values())}return null}(f,d),v=function(U,$){const j=[];let H=!0;for(const V of Xo($)){const C=V.kind===0?g1(U,V.fieldPath,U.startAt):y1(U,V.fieldPath,U.startAt);j.push(C.value),H&&(H=C.inclusive)}return new no(j,H)}(f,d),T=function(U,$){const j=[];let H=!0;for(const V of Xo($)){const C=V.kind===0?y1(U,V.fieldPath,U.endAt):g1(U,V.fieldPath,U.endAt);j.push(C.value),H&&(H=C.inclusive)}return new no(j,H)}(f,d),w=this.Rn(d,f,v),I=this.Rn(d,f,T),P=this.Vn(d,f,_),L=this.mn(d.indexId,g,w,v.inclusive,I,T.inclusive,P);return X.forEach(L,M=>r.H(M,t.limit).next(U=>{U.forEach($=>{const j=_e.fromSegments($.documentKey);u.has(j)||(u=u.add(j),h.push(j))})}))}).next(()=>h)}return X.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=RH(ot.create(e.filters,"and")).map(r=>pE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.fn(t[_/f]):wm,T=this.gn(e,v,r[_%f],i),w=this.pn(e,v,o[_%f],u),I=h.map(P=>this.gn(e,v,P,!0));g.push(...this.createRange(T,w,I))}return g}gn(e,t,r,i){const o=new nl(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new nl(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new V1(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.un(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.dn(t);return X.forEach(i,o=>this.An(e,o).next(u=>{u?r!==0&&u.fields.length<function(d){let f=new lt(St.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new od;for(const i of Xo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.tn(i.kind);tl.xt.At(o,u)}return r.Yt()}fn(e){const t=new od;return tl.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new od;return tl.xt.At(gl(this.databaseId,t),r.tn(function(o){const u=Xo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new od);let o=0;for(const u of Xo(e)){const h=r[o++];for(const d of i)if(this.bn(t,u.fieldPath)&&sf(h))i=this.Sn(i,u,h);else{const f=d.tn(u.kind);tl.xt.At(h,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const d=new od;d.seed(h.Yt()),tl.xt.At(u,d.tn(t.kind)),o.push(d)}return o}bn(e,t){return!!e.filters.find(r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=ld(e),i=Ou(e);return(t?r.G(aE,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(d=>{u.push(function(g,_){const v=_?new Xd(_.sequenceNumber,new xr(bl(_.readTime),new _e(qi(_.documentKey)),_.largestBatchId)):Xd.empty(),T=g.fields.map(([w,I])=>new zm(St.fromServerFormat(w),I));return new pg(g.indexId,g.collectionGroup,T,v)}(h,d))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ke(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ld(e),o=Ou(e);return this.vn(e).next(u=>i.G(aE,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,d=>o.put(x1(d.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,d=>this.Cn(e,i,d).next(f=>{const g=this.Fn(o,d);return f.isEqual(g)?X.resolve():this.Mn(e,o,d,f,g)}))))})}xn(e,t,r,i){return xu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return xu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=xu(e);let o=new lt(Oa);return i.Z({index:QO,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(u,h)=>{o=o.add(new nl(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Fn(e,t){let r=new lt(Oa);const i=this.yn(t,e);if(i==null)return r;const o=iE(t);if(o!=null){const u=e.data.field(o.fieldPath);if(sf(u))for(const h of u.arrayValue.values||[])r=r.add(new nl(t.indexId,e.key,this.fn(h),i))}else r=r.add(new nl(t.indexId,e.key,wm,i));return r}Mn(e,t,r,i,o){pe(L1,"Updating index entries for document '%s'",t.key);const u=[];return function(d,f,g,_,v){const T=d.getIterator(),w=f.getIterator();let I=Cu(T),P=Cu(w);for(;I||P;){let L=!1,M=!1;if(I&&P){const U=g(I,P);U<0?M=!0:U>0&&(L=!0)}else I!=null?M=!0:L=!0;L?(_(P),P=Cu(w)):M?(v(I),I=Cu(T)):(I=Cu(T),P=Cu(w))}}(i,o,Oa,h=>{u.push(this.xn(e,t,r,h))},h=>{u.push(this.On(e,t,r,h))}),X.waitFor(u)}vn(e){let t=1;return Ou(e).Z({index:WO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Oa(u,h)).filter((u,h,d)=>!h||Oa(u,d[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=Oa(u,e),d=Oa(u,t);if(h===0)i[0]=e.nn();else if(h>0&&d<0)i.push(u),i.push(u.nn());else if(d>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Nn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,wm,[]],d=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,wm,[]];o.push(IDBKeyRange.bound(h,d))}return o}Nn(e,t){return Oa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(B1)}getMinOffset(e,t){return X.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||we())).next(B1)}}function U1(n){return gn(n,tf)}function xu(n){return gn(n,vg)}function ld(n){return gn(n,Bb)}function Ou(n){return gn(n,_g)}function B1(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Mb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZD=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(n,e,t){const r=n.store(oi),i=n.store(nc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.Z({range:u},(g,_,v)=>(h++,v.delete()));o.push(d.next(()=>{Ae(h===1)}));const f=[];for(const g of t.mutations){const _=$O(e,g.key.path,t.batchId);o.push(i.delete(_)),f.push(g.key)}return X.waitFor(o).next(()=>f)}function Ag(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(ZD,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class Cy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Cy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).Z({index:al,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Lu(e),u=Da(e);return u.add({}).next(h=>{Ae(typeof h=="number");const d=new Qb(h,t,r,i),f=function(T,w,I){const P=I.baseMutations.map(M=>lf(T.Tt,M)),L=I.mutations.map(M=>lf(T.Tt,M));return{userId:w,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:P,mutations:L}}(this.serializer,this.userId,d),g=[];let _=new lt((v,T)=>ke(v.canonicalString(),T.canonicalString()));for(const v of i){const T=$O(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(T,uq))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[h]=d.keys()}),X.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Da(e).get(t).next(r=>r?(Ae(r.userId===this.userId),el(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?X.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Da(e).Z({index:al,range:i},(u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r),o=el(this.serializer,h)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=qa;return Da(e).Z({index:al,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,qa],[this.userId,Number.POSITIVE_INFINITY]);return Da(e).G(al,t).next(r=>r.map(i=>el(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=qm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Lu(e).Z({range:i},(u,h,d)=>{const[f,g,_]=u,v=qi(g);if(f===this.userId&&t.path.isEqual(v))return Da(e).get(_).next(T=>{if(!T)throw we();Ae(T.userId===this.userId),o.push(el(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(ke);const i=[];return t.forEach(o=>{const u=qm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=Lu(e).Z({range:h},(f,g,_)=>{const[v,T,w]=f,I=qi(T);v===this.userId&&o.path.isEqual(I)?r=r.add(w):_.done()});i.push(d)}),X.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=qm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new lt(ke);return Lu(e).Z({range:u},(d,f,g)=>{const[_,v,T]=d,w=qi(v);_===this.userId&&r.isPrefixOf(w)?w.length===i&&(h=h.add(T)):g.done()}).next(()=>this.kn(e,h))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Da(e).get(o).next(u=>{if(u===null)throw we();Ae(u.userId===this.userId),r.push(el(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return ek(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Lu(e).Z({range:r},(o,u,h)=>{if(o[0]===this.userId){const d=qi(o[1]);i.push(d)}else h.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return tk(e,this.userId,t)}Qn(e){return nk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:qa,lastStreamToken:""})}}function tk(n,e,t){const r=qm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Lu(n).Z({range:o,Y:!0},(h,d,f)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),f.done()}).next(()=>u)}function Da(n){return gn(n,oi)}function Lu(n){return gn(n,nc)}function nk(n){return gn(n,Zd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new wl(0)}static Un(){return new wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new wl(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Re.fromTimestamp(new It(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Du(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Du(e).Z((u,h)=>{const d=Sd(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Du(e).Z((r,i)=>{const o=Sd(i);t(o)})}Wn(e){return j1(e).get(yg).next(t=>(Ae(t!==null),t))}Gn(e,t){return j1(e).put(yg,t)}zn(e,t){return Du(e).put(YD(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=yl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Du(e).Z({range:i,index:KO},(u,h,d)=>{const f=Sd(h);kf(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Ma(e);return t.forEach(u=>{const h=$n(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ma(e);return X.forEach(t,o=>{const u=$n(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Ma(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ma(e);let o=Me();return i.Z({range:r,Y:!0},(u,h,d)=>{const f=qi(u[1]),g=new _e(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=$n(t.path),i=IDBKeyRange.bound([r],[UO(r)],!1,!0);let o=0;return Ma(e).Z({index:Ub,Y:!0,range:i},([u,h],d,f)=>{u!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Du(e).get(t).next(r=>r?Sd(r):null)}}function Du(n){return gn(n,rc)}function j1(n){return gn(n,dl)}function Ma(n){return gn(n,ic)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="LruGarbageCollector",OH=1048576;function q1([n,e],[t,r]){const i=ke(n,t);return i===0?ke(e,r):i}class DH{constructor(e){this.Hn=e,this.buffer=new lt(q1),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();q1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(z1,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fo(t)?pe(z1,"Ignoring IndexedDB error during garbage collection: ",t):await ho(t)}await this.er(3e5)})}}class kH{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(lr.ae);const r=new DH(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(F1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F1):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),ku()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function ik(n,e){return new kH(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,t){this.db=e,this.garbageCollector=ik(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Tm(e,r)}removeReference(e,t,r){return Tm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Tm(e,t)}ar(e,t){return function(i,o){let u=!1;return nk(i).X(h=>tk(i,h,o).next(d=>(d&&(u=!0),X.resolve(!d)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(u,h)=>{if(h<=t){const d=this.ar(e,u).next(f=>{if(!f)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Re.min()),Ma(e).delete(function(_){return[0,$n(_.path)]}(u))))});i.push(d)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Tm(e,t)}_r(e,t){const r=Ma(e);let i,o=lr.ae;return r.Z({index:Ub},([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==lr.ae&&t(new _e(qi(i)),o),o=f,i=d):o=lr.ae}).next(()=>{o!==lr.ae&&t(new _e(qi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tm(n,e){return Ma(n).put(function(r,i){return{targetId:0,path:$n(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.changes=new Gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wo(e).put(r)}removeEntry(e,t,r){return Wo(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Tg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return Wo(e).Z({index:Hm,range:IDBKeyRange.only(ud(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return Wo(e).Z({index:Hm,range:IDBKeyRange.only(ud(t))},(i,o)=>{r={document:this.cr(t,o),size:Ag(o)}}).next(()=>r)}getEntries(e,t){let r=cr();return this.hr(e,t,(i,o)=>{const u=this.cr(i,o);r=r.insert(i,u)}).next(()=>r)}Pr(e,t){let r=cr(),i=new yt(_e.comparator);return this.hr(e,t,(o,u)=>{const h=this.cr(o,u);r=r.insert(o,h),i=i.insert(o,Ag(u))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return X.resolve();let i=new lt(G1);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(ud(i.first()),ud(i.last())),u=i.getIterator();let h=u.getNext();return Wo(e).Z({index:Hm,range:o},(d,f,g)=>{const _=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&G1(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.W(ud(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Tg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wo(e).G(IDBKeyRange.bound(h,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=cr();for(const _ of f){const v=this.cr(_e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Vf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=cr();const u=$1(t,r),h=$1(t,xr.max());return Wo(e).Z({index:GO,range:IDBKeyRange.bound(u,h,!0)},(d,f,g)=>{const _=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new MH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return H1(e).get(sE).next(t=>(Ae(!!t),t))}ur(e,t){return H1(e).put(sE,t)}cr(e,t){if(t){const r=EH(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return vt.newInvalidDocument(e)}}function ak(n){return new VH(n)}class MH extends sk{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Gs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((o,u)=>ke(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=C1(this.Ir.serializer,u);i=i.add(o.path.popLast());const f=Ag(d);r+=f-h.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=C1(this.Ir.serializer,u.convertToNoDocument(Re.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function H1(n){return gn(n,ef)}function Wo(n){return gn(n,gg)}function ud(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $1(n,e){const t=e.documentKey.path.toArray();return[n,Tg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function G1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ke(t[o],r[o]),i)return i;return i=ke(t.length,r.length),i||(i=ke(t[t.length-2],r[r.length-2]),i||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Vd(r.mutation,i,ur.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const i=Hi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=wd();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=cr();const u=Nd(),h=function(){return Nd()}();return t.forEach((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Ks)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Vd(g.mutation,f,g.mutation.getFieldMask(),It.now())):u.set(f.key,ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>u.set(f,g)),t.forEach((f,g)=>{var _;return h.set(f,new LH(g,(_=u.get(f))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Nd();let i=new yt((u,h)=>u-h),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||ur.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(i.get(h.batchId)||Me()).add(d);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=TD();g.forEach(v=>{if(!o.has(v)){const T=xD(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$b(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(Hi());let h=tc,d=o;return u.next(f=>X.forEach(f,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Me())).next(g=>({batchId:h,changes:wD(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=wd();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,d=>{const f=function(_,v){return new $s(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,vt.newInvalidDocument(g)))});let h=wd();return u.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Vd(g.mutation,f,ur.empty(),It.now()),Vf(t,f)&&(h=h.insert(d,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:ew(i.bundledQuery),readTime:Qt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.overlays=new yt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Hi(),o=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((f,g)=>f-g);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Hi(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Hi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>h.set(f,g)),!(h.size()>=i)););return X.resolve(h)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Xb(t,r));let o=this.Rr.get(t);o===void 0&&(o=Me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.Vr=new lt(Sn.mr),this.gr=new lt(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Sn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new qe([])),r=new Sn(t,e),i=new Sn(t,e+1),o=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new qe([])),r=new Sn(t,e),i=new Sn(t,e+1);let o=Me();return this.gr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Sn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(Sn.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Qb(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Mr=this.Mr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?qa:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),i=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],u=>{const h=this.Or(u.Cr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(ke);return t.forEach(i=>{const o=new Sn(i,0),u=new Sn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),X.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new _e(o),0);let h=new lt(ke);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(h=h.add(d.Cr)),!0)},u),X.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return X.forEach(t.mutations,i=>{const o=new Sn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Sn(t,0),i=this.Mr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.kr=e,this.docs=function(){return new yt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=cr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=cr();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||Mb(FO(g),r)<=0||(i.has(g.key)||Vf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we()}qr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qH(this)}getSize(e){return X.resolve(this.size)}}class qH extends sk{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.persistence=e,this.Qr=new Gs(t=>yl(t),kf),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new rw,this.targetCount=0,this.Ur=wl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lr(0),this.zr=!1,this.zr=!0,this.jr=new FH,this.referenceDelegate=e(this),this.Hr=new HH(this),this.indexManager=new CH,this.remoteDocumentCache=function(i){return new zH(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new QD(t),this.Yr=new UH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new jH(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new $H(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return X.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class $H extends zO{constructor(e){super(),this.currentSequenceNumber=e}}class Py{constructor(e){this.persistence=e,this.ti=new rw,this.ni=null}static ri(e){return new Py(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ig{constructor(e,t){this.persistence=e,this.oi=new Gs(r=>$n(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ik(this,t)}static ri(e,t){return new Ig(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gm(e.data.value)),t}ar(e,t,r){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.serializer=e}B(e,t,r,i){const o=new _y("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Df)}(e),function(d){d.createObjectStore(Zd,{keyPath:lq}),d.createObjectStore(oi,{keyPath:i1,autoIncrement:!0}).createIndex(al,s1,{unique:!0}),d.createObjectStore(nc)}(e),K1(e),function(d){d.createObjectStore(Jo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(ic),d.deleteObjectStore(rc),d.deleteObjectStore(dl)}(e),K1(e)),u=u.next(()=>function(d){const f=d.store(dl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return f.put(yg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(d,f){return f.store(oi).G().next(_=>{d.deleteObjectStore(oi),d.createObjectStore(oi,{keyPath:i1,autoIncrement:!0}).createIndex(al,s1,{unique:!0});const v=f.store(oi),T=_.map(w=>v.put(w));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(d){d.createObjectStore(sc,{keyPath:yq})})(e)})),r<5&&i>=5&&(u=u.next(()=>this._i(o))),r<6&&i>=6&&(u=u.next(()=>(function(d){d.createObjectStore(ef)}(e),this.ai(o)))),r<7&&i>=7&&(u=u.next(()=>this.ui(o))),r<8&&i>=8&&(u=u.next(()=>this.ci(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.li(o))),r<11&&i>=11&&(u=u.next(()=>{(function(d){d.createObjectStore(vy,{keyPath:_q})})(e),function(d){d.createObjectStore(Ey,{keyPath:vq})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(d){const f=d.createObjectStore(by,{keyPath:Iq});f.createIndex(oE,Rq,{unique:!1}),f.createIndex(YO,Cq,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(d){const f=d.createObjectStore(gg,{keyPath:cq});f.createIndex(Hm,hq),f.createIndex(GO,dq)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(Jo))),r<14&&i>=14&&(u=u.next(()=>this.Pi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(d){d.createObjectStore(Bb,{keyPath:Eq,autoIncrement:!0}).createIndex(aE,bq,{unique:!1}),d.createObjectStore(_g,{keyPath:wq}).createIndex(WO,Tq,{unique:!1}),d.createObjectStore(vg,{keyPath:Sq}).createIndex(QO,Aq,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(_g).clear()}).next(()=>{t.objectStore(vg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(d){d.createObjectStore(Fb,{keyPath:Pq})})(e)})),u}ai(e){let t=0;return e.store(Jo).Z((r,i)=>{t+=Ag(i)}).next(()=>{const r={byteSize:t};return e.store(ef).put(sE,r)})}_i(e){const t=e.store(Zd),r=e.store(oi);return t.G().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,qa],[o.userId,o.lastAcknowledgedBatchId]);return r.G(al,u).next(h=>X.forEach(h,d=>{Ae(d.userId===o.userId);const f=el(this.serializer,d);return ek(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(ic),r=e.store(Jo);return e.store(dl).get(yg).next(i=>{const o=[];return r.Z((u,h)=>{const d=new qe(u),f=function(_){return[0,$n(_)]}(d);o.push(t.get(f).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:$n(_),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>X.waitFor(o))})}ci(e,t){e.createObjectStore(tf,{keyPath:gq});const r=t.store(tf),i=new nw,o=u=>{if(i.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:$n(d)})}};return t.store(Jo).Z({Y:!0},(u,h)=>{const d=new qe(u);return o(d.popLast())}).next(()=>t.store(nc).Z({Y:!0},([u,h,d],f)=>{const g=qi(h);return o(g.popLast())}))}li(e){const t=e.store(rc);return t.Z((r,i)=>{const o=Sd(i),u=YD(this.serializer,o);return t.put(u)})}hi(e,t){const r=t.store(Jo),i=[];return r.Z((o,u)=>{const h=t.store(gg),d=function(_){return _.document?new _e(qe.fromString(_.document.name).popFirst(5)):_.noDocument?_e.fromSegments(_.noDocument.path):_.unknownDocument?_e.fromSegments(_.unknownDocument.path):we()}(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(f))}).next(()=>X.waitFor(i))}Pi(e,t){const r=t.store(oi),i=ak(this.serializer),o=new iw(Py.ri,this.serializer.Tt);return r.G().next(u=>{const h=new Map;return u.forEach(d=>{var f;let g=(f=h.get(d.userId))!==null&&f!==void 0?f:Me();el(this.serializer,d).keys().forEach(_=>g=g.add(_)),h.set(d.userId,g)}),X.forEach(h,(d,f)=>{const g=new An(f),_=Ry.It(this.serializer,g),v=o.getIndexManager(g),T=Cy.It(g,this.serializer,v,o.referenceDelegate);return new ok(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new lE(t,lr.ae),d).next()})})}}function K1(n){n.createObjectStore(ic,{keyPath:pq}).createIndex(Ub,mq,{unique:!0}),n.createObjectStore(rc,{keyPath:"targetId"}).createIndex(KO,fq,{unique:!0}),n.createObjectStore(dl)}const ka="IndexedDbPersistence",I0=18e5,R0=5e3,C0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lk="main";class sw{constructor(e,t,r,i,o,u,h,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=u,this.document=h,this.Ii=f,this.Ei=g,this.di=_,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!sw.D())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NH(this,i),this.gi=t+lk,this.serializer=new QD(d),this.pi=new Ki(this.gi,this.di,new GH(this.serializer)),this.jr=new wH,this.Hr=new xH(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ak(this.serializer),this.Yr=new bH,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Wt(ka,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,C0);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new lr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(fo(e))return pe(ka,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(ka,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return cd(e).get(Ru).next(t=>X.resolve(this.Ni(t)))}Bi(e){return Sm(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,I0)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=gn(t,sc);return r.G().next(i=>{const o=this.qi(i,I0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?X.resolve(!0):cd(e).get(Ru).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,R0)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,C0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sm(e).G().next(r=>this.qi(r,R0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(ka,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Df,sc],e=>{const t=new lE(e,lr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Sm(e).G().next(t=>this.qi(t,I0).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Cy.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PH(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Ry.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe(ka,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?Dq:d===16?Oq:d===15?jb:d===14?ZO:d===13?JO:d===12?xq:d===11?XO:void we()}(this.di);let u;return this.pi.runTransaction(e,i,o,h=>(u=new lE(h,this.Gr?this.Gr.next():lr.ae),t==="readwrite-primary"?this.Fi(u).next(d=>!!d||this.Mi(u)).next(d=>{if(!d)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new de(ne.FAILED_PRECONDITION,jO);return r(u)}).next(d=>this.Oi(u).next(()=>d)):this.ji(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}ji(e){return cd(e).get(Ru).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,R0)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,C0)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cd(e).put(Ru,t)}static D(){return Ki.D()}xi(e){const t=cd(e);return t.get(Ru).next(r=>this.Ni(r)?(pe(ka,"Releasing primary lease."),t.delete(Ru)):X.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;vx()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return pe(ka,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wt(ka,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cd(n){return gn(n,Df)}function Sm(n){return gn(n,sc)}function aw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Me(),i=Me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ow(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return vx()?8:qO(Vt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new KH;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ku()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Nu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(ku()<=je.DEBUG&&pe("QueryEngine","Query:",Nu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ku()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Nu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):X.resolve())}rs(e,t){if(_1(t))return X.resolve(null);let r=tr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wg(t,null,"F"),r=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Me(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,h);return this.ls(t,f,u,d.readTime)?this.rs(e,wg(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return _1(t)||i.isEqual(Re.min())?X.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,i)?X.resolve(null):(ku()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nu(t)),this.hs(e,u,t,BO(i,tc)).next(h=>h))})}cs(e,t){let r=new lt(ED(e));return t.forEach((i,o)=>{Vf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return ku()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Nu(t)),this.ns.getDocumentsMatchingQuery(e,t,xr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="LocalStore",WH=3e8;class QH{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new yt(ke),this.Is=new Gs(o=>yl(o),kf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ok(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function ck(n,e,t,r){return new QH(n,e,t,r)}async function hk(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Me();for(const f of i){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:u,addedBatchIds:h}))})})}function YH(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,f,g){const _=f.batch,v=_.keys();let T=X.resolve();return v.forEach(w=>{T=T.next(()=>g.getEntry(d,w)).next(I=>{const P=f.docVersions.get(w);Ae(P!==null),I.version.compareTo(P)<0&&(_.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Me();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function dk(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function XH(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(I,P,L){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=WH?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,T,g)&&h.push(t.Hr.updateTargetData(o,T))});let d=cr(),f=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(fk(o,u,e.documentUpdates).next(g=>{d=g.Vs,f=g.fs})),!r.isEqual(Re.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function fk(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=cr();return t.forEach((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(lw,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)}),{Vs:u,fs:i}})}function JH(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Hr.allocateTargetId(r).next(u=>(i=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function fc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!fo(u))throw u;pe(lw,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Rg(n,e,t){const r=Ee(n);let i=Re.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,f,g){const _=Ee(d),v=_.Is.get(g);return v!==void 0?X.resolve(_.Ts.get(v)):_.Hr.getTargetData(f,g)}(r,u,tr(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?i:Re.min(),t?o:Me())).next(h=>(gk(r,vD(e),h),{documents:h,gs:o})))}function pk(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(u=>u?u.target:null))}function mk(n,e){const t=Ee(n),r=t.Es.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,BO(r,tc),Number.MAX_SAFE_INTEGER)).then(i=>(gk(t,e,i),i))}function gk(n,e,t){let r=n.Es.get(e)||Re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function ZH(n,e,t,r){const i=Ee(n);let o=Me(),u=cr();for(const f of t){const g=e.ps(f.metadata.name);f.document&&(o=o.add(g));const _=e.ys(f);_.setReadTime(e.ws(f.metadata.readTime)),u=u.insert(g,_)}const h=i.ds.newChangeBuffer({trackRemovals:!0}),d=await dc(i,function(g){return tr(Oc(qe.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>fk(f,h,u).next(g=>(h.apply(f),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,g.Vs,g.fs)).next(()=>g.Vs)))}async function e8(n,e,t=Me()){const r=await dc(n,tr(ew(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Qt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Yr.saveNamedQuery(o,e);const h=r.withResumeToken(qt.EMPTY_BYTE_STRING,u);return i.Ts=i.Ts.insert(h.targetId,h),i.Hr.updateTargetData(o,h).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firestore_clients";function W1(n,e){return`${yk}_${n}_${e}`}const _k="firestore_mutations";function Q1(n,e,t){let r=`${_k}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const vk="firestore_targets";function P0(n,e){return`${vk}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="SharedClientState";class Cg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new de(i.error.code,i.error.message))),u?new Cg(e,t,i.state,o):(Wt(Mi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Md{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new de(r.error.code,r.error.message))),o?new Md(e,r.state,i):(Wt(Mi,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Gb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=HO(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Pg(e,o):(Wt(Mi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class uw{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new uw(t.clientId,t.onlineState):(Wt(Mi,`Failed to parse online state: ${e}`),null)}}class TE{constructor(){this.activeTargetIds=Gb()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x0{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new yt(ke),this.started=!1,this.Os=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=W1(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new TE),this.Ls=new RegExp(`^${yk}_${u}_([^_]*)$`),this.ks=new RegExp(`^${_k}_${u}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${vk}_${u}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(W1(this.persistenceKey,r));if(i){const o=Pg.bs(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(P0(this.persistenceKey,e));if(i){const o=Md.bs(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(P0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Mi,"READ",e,t),t}setItem(e,t){pe(Mi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Mi,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(pe(Mi,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let u=lr.ae;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number"),u=h}catch(h){Wt(Mi,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==lr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new Cg(this.currentUser,e,t,r),o=Q1(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())}js(e){const t=Q1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=P0(this.persistenceKey,e),o=new Md(e,t,r);this.setItem(i,o.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Pg.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Cg.bs(new An(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return Md.bs(i,t)}Us(e){return uw.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);pe(Mi,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),u=[],h=[];return o.forEach(d=>{i.has(d)||u.push(d)}),i.forEach(d=>{o.has(d)||h.push(d)}),this.syncEngine.lo(u,h).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Gb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Ek{constructor(){this.ho=new TE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new TE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="ConnectivityMonitor";class X1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(Y1,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(Y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am=null;function SE(){return Am===null?Am=function(){return 268435456+Math.round(2147483648*Math.random())}():Am++,"0x"+Am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="RestConnection",n8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r8{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===uE?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const u=SE(),h=this.So(e,t.toUriEncodedString());pe(O0,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,h,d,r).then(f=>(pe(O0,`Received RPC '${e}' ${u}: `,f),f),f=>{throw Xi(O0,`RPC '${e}' ${u} failed with error: `,f,"url: ",h,"request:",r),f})}Co(e,t,r,i,o,u){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=n8[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class s8 extends r8{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=SE();return new Promise((u,h)=>{const d=new OO;d.setWithCredentials(!0),d.listenOnce(DO.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jm.NO_ERROR:const g=d.getResponseJson();pe(jn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case jm.TIMEOUT:pe(jn,`RPC '${e}' ${o} timed out`),h(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case jm.HTTP_ERROR:const _=d.getStatus();if(pe(jn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const w=function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(L)>=0?L:ne.UNKNOWN}(T.status);h(new de(w,T.message))}else h(new de(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(ne.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{pe(jn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);pe(jn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=SE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=VO(),h=NO(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(jn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=u.createWebChannel(g,d);let v=!1,T=!1;const w=new i8({Fo:P=>{T?pe(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(pe(jn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(jn,`RPC '${e}' stream ${i} sending:`,P),_.send(P))},Mo:()=>_.close()}),I=(P,L,M)=>{P.listen(L,U=>{try{M(U)}catch($){setTimeout(()=>{throw $},0)}})};return I(_,bd.EventType.OPEN,()=>{T||(pe(jn,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),I(_,bd.EventType.CLOSE,()=>{T||(T=!0,pe(jn,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),I(_,bd.EventType.ERROR,P=>{T||(T=!0,Xi(jn,`RPC '${e}' stream ${i} transport errored:`,P),w.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),I(_,bd.EventType.MESSAGE,P=>{var L;if(!T){const M=P.data[0];Ae(!!M);const U=M,$=(U==null?void 0:U.error)||((L=U[0])===null||L===void 0?void 0:L.error);if($){pe(jn,`RPC '${e}' stream ${i} received error:`,$);const j=$.status;let H=function(R){const b=rn[R];if(b!==void 0)return kD(b)}(j),V=$.message;H===void 0&&(H=ne.INTERNAL,V="Unknown error status: "+j+" with message "+$.message),T=!0,w.Ko(new de(H,V)),_.close()}else pe(jn,`RPC '${e}' stream ${i} received:`,M),w.Uo(M)}}),I(h,kO.STAT_EVENT,P=>{P.stat===rE.PROXY?pe(jn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===rE.NOPROXY&&pe(jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return typeof window<"u"?window:null}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n){return new cH(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="PersistentStream";class wk{constructor(e,t,r,i,o,u,h,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(J1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(J1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a8 extends wk{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=fH(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Qt(u.readTime):Re.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=_E(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=Eg(d)?{documents:qD(o,d)}:{query:HD(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=LD(o,u.resumeToken);const f=gE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=hc(o,u.snapshotVersion.toTimestamp());const f=gE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,e);const r=mH(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=_E(this.serializer),t.removeTarget=e,this.I_(t)}}class o8 extends wk{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=pH(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=_E(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lf(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{}class u8 extends l8{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.bo(e,yE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,yE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class c8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Wt(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="RemoteStore";class h8{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{mo(this)&&(pe(Tl,"Restarting streams for network reachability change."),await async function(d){const f=Ee(d);f.W_.add(4),await Nc(f),f.j_.set("Unknown"),f.W_.delete(4),await Ff(f)}(this))})}),this.j_=new c8(r,i)}}async function Ff(n){if(mo(n))for(const e of n.G_)await e(!0)}async function Nc(n){for(const e of n.G_)await e(!1)}function xy(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),fw(t)?dw(t):Mc(t).c_()&&hw(t,e))}function pc(n,e){const t=Ee(n),r=Mc(t);t.U_.delete(e),r.c_()&&Tk(t,e),t.U_.size===0&&(r.c_()?r.P_():mo(t)&&t.j_.set("Unknown"))}function hw(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mc(n).y_(e)}function Tk(n,e){n.H_.Ne(e),Mc(n).w_(e)}function dw(n){n.H_=new aH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Mc(n).start(),n.j_.B_()}function fw(n){return mo(n)&&!Mc(n).u_()&&n.U_.size>0}function mo(n){return Ee(n).W_.size===0}function Sk(n){n.H_=void 0}async function d8(n){n.j_.set("Online")}async function f8(n){n.U_.forEach((e,t)=>{hw(n,e)})}async function p8(n,e){Sk(n),fw(n)?(n.j_.q_(e),dw(n)):n.j_.set("Unknown")}async function m8(n,e,t){if(n.j_.set("Online"),e instanceof MD&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.U_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.U_.delete(h),i.H_.removeTarget(h))}(n,e)}catch(r){pe(Tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xg(n,r)}else if(e instanceof Qm?n.H_.We(e):e instanceof VD?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Re.min()))try{const r=await dk(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,f)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),Tk(o,d);const _=new Os(g.target,d,f,g.sequenceNumber);hw(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(Tl,"Failed to raise snapshot:",r),await xg(n,r)}}async function xg(n,e,t){if(!fo(e))throw e;n.W_.add(1),await Nc(n),n.j_.set("Offline"),t||(t=()=>dk(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Tl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Ff(n)})}function Ak(n,e){return e().catch(t=>xg(n,t,e))}async function Vc(n){const e=Ee(n),t=ro(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:qa;for(;g8(e);)try{const i=await JH(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,y8(e,i)}catch(i){await xg(e,i)}Ik(e)&&Rk(e)}function g8(n){return mo(n)&&n.K_.length<10}function y8(n,e){n.K_.push(e);const t=ro(n);t.c_()&&t.b_&&t.S_(e.mutations)}function Ik(n){return mo(n)&&!ro(n).u_()&&n.K_.length>0}function Rk(n){ro(n).start()}async function _8(n){ro(n).C_()}async function v8(n){const e=ro(n);for(const t of n.K_)e.S_(t.mutations)}async function E8(n,e,t){const r=n.K_.shift(),i=Yb.from(r,e,t);await Ak(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Vc(n)}async function b8(n,e){e&&ro(n).b_&&await async function(r,i){if(function(u){return DD(u)&&u!==ne.ABORTED}(i.code)){const o=r.K_.shift();ro(r).h_(),await Ak(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Vc(r)}}(n,e),Ik(n)&&Rk(n)}async function Z1(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(Tl,"RemoteStore received new credentials");const r=mo(t);t.W_.add(3),await Nc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ff(t)}async function AE(n,e){const t=Ee(n);e?(t.W_.delete(2),await Ff(t)):e||(t.W_.add(2),await Nc(t),t.j_.set("Unknown"))}function Mc(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new a8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:d8.bind(null,n),No:f8.bind(null,n),Lo:p8.bind(null,n),p_:m8.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),fw(n)?dw(n):n.j_.set("Unknown")):(await n.J_.stop(),Sk(n))})),n.J_}function ro(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new o8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:_8.bind(null,n),Lo:b8.bind(null,n),D_:v8.bind(null,n),v_:E8.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Vc(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(Tl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new pw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lc(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),fo(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{static emptySet(e){return new Gu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=wd(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.Z_=new yt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class mc{constructor(e,t,r,i,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new mc(e,t,Gu.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class T8{constructor(){this.queries=tC(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=tC(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function tC(){return new Gs(n=>_D(n),Nf)}async function mw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new w8,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Lc(u,`Initialization of query '${Nu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&yw(t)}async function gw(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function S8(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(i)&&(r=!0);u.ea=i}}r&&yw(t)}function A8(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function yw(n){n.ia.forEach(e=>{e.next()})}var IE,nC;(nC=IE||(IE={}))._a="default",nC.Cache="cache";class _w{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==IE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.serializer=e}ps(e){return Wi(this.serializer,e)}ys(e){return e.metadata.exists?zD(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Qt(e)}}class R8{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ck(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=qe.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new rC(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Me()).add(o);t.set(u,h)}}return t}async complete(){const e=await ZH(this.localStore,new rC(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await e8(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function Ck(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.key=e}}class xk{constructor(e){this.key=e}}class Ok{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=ED(e),this.wa=new Gu(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new eC,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Vf(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;v&&T?v.data.isEqual(T.data)?w!==I&&(r.track({type:3,doc:T}),P=!0):this.va(v,T)||(r.track({type:2,doc:T}),P=!0,(d&&this.ya(T,d)>0||f&&this.ya(T,f)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),P=!0):v&&!T&&(r.track({type:1,doc:v}),P=!0,(d||f)&&(h=!0)),P&&(T?(u=u.add(T),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(T,w){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return I(T)-I(w)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const h=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,u.length!==0||f?{snapshot:new mc(this.query,e.wa,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new eC,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new xk(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Pk(r))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return mc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const go="SyncEngine";class C8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class P8{constructor(e){this.key=e,this.Ba=!1}}class x8{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Gs(h=>_D(h),Nf),this.qa=new Map,this.Qa=new Set,this.$a=new yt(_e.comparator),this.Ka=new Map,this.Ua=new rw,this.Wa={},this.Ga=new Map,this.za=wl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function O8(n,e,t=!0){const r=Oy(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Dk(r,e,t,!0),i}async function D8(n,e){const t=Oy(n);await Dk(t,e,!0,!1)}async function Dk(n,e,t,r){const i=await dc(n.localStore,tr(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await vw(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&xy(n.remoteStore,i),h}async function vw(n,e,t,r,i){n.Ha=(_,v,T)=>async function(I,P,L,M){let U=P.view.Sa(L);U.ls&&(U=await Rg(I.localStore,P.query,!1).then(({documents:V})=>P.view.Sa(V,U)));const $=M&&M.targetChanges.get(P.targetId),j=M&&M.targetMismatches.get(P.targetId)!=null,H=P.view.applyChanges(U,I.isPrimaryClient,$,j);return RE(I,P.targetId,H.Ma),H.snapshot}(n,_,v,T);const o=await Rg(n.localStore,e,!0),u=new Ok(e,o.gs),h=u.Sa(o.documents),d=Uf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=u.applyChanges(h,n.isPrimaryClient,d);RE(n,t,f.Ma);const g=new C8(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function k8(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(u=>!Nf(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&pc(r.remoteStore,i.targetId),gc(r,i.targetId)}).catch(ho)):(gc(r,i.targetId),await fc(r.localStore,i.targetId,!0))}async function N8(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pc(t.remoteStore,r.targetId))}async function V8(n,e,t){const r=Tw(n);try{const i=await function(u,h){const d=Ee(u),f=It.now(),g=h.reduce((T,w)=>T.add(w.key),Me());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=cr(),I=Me();return d.ds.getEntries(T,g).next(P=>{w=P,w.forEach((L,M)=>{M.isValidDocument()||(I=I.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,w)).next(P=>{_=P;const L=[];for(const M of h){const U=rH(M,_.get(M.key).overlayedDocument);U!=null&&L.push(new Ks(M.key,U,uD(U.value.mapValue),At.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,L,h)}).next(P=>{v=P;const L=P.applyToLocalDocumentSet(_,I);return d.documentOverlayCache.saveOverlays(T,P.batchId,L)})}).then(()=>({batchId:v.batchId,changes:wD(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,d){let f=u.Wa[u.currentUser.toKey()];f||(f=new yt(ke)),f=f.insert(h,d),u.Wa[u.currentUser.toKey()]=f}(r,i.batchId,t),await Ws(r,i.changes),await Vc(r.remoteStore)}catch(i){const o=Lc(i,"Failed to persist write");t.reject(o)}}async function kk(n,e){const t=Ee(n);try{const r=await XH(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Ka.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ae(u.Ba):i.removedDocuments.size>0&&(Ae(u.Ba),u.Ba=!1))}),await Ws(t,r,e)}catch(r){await ho(r)}}function iC(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const d=Ee(u);d.onlineState=h;let f=!1;d.queries.forEach((g,_)=>{for(const v of _.ta)v.sa(h)&&(f=!0)}),f&&yw(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M8(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let u=new yt(_e.comparator);u=u.insert(o,vt.newNoDocument(o,Re.min()));const h=Me().add(o),d=new Lf(Re.min(),new Map,new yt(ke),u,h);await kk(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),ww(r)}else await fc(r.localStore,e,!1).then(()=>gc(r,e,t)).catch(ho)}async function L8(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await YH(t.localStore,e);bw(t,r,null),Ew(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ws(t,i)}catch(i){await ho(i)}}async function U8(n,e,t){const r=Ee(n);try{const i=await function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next(_=>(Ae(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);bw(r,e,t),Ew(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ws(r,i)}catch(i){await ho(i)}}async function B8(n,e){const t=Ee(n);mo(t.remoteStore)||pe(go,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===qa)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Lc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Ew(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function bw(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function gc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||Nk(n,r)})}function Nk(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(pc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),ww(n))}function RE(n,e,t){for(const r of t)r instanceof Pk?(n.Ua.addReference(r.key,e),F8(n,r)):r instanceof xk?(pe(go,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||Nk(n,r.key)):we()}function F8(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(go,"New document in limbo: "+t),n.Qa.add(r),ww(n))}function ww(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(qe.fromString(e)),r=n.za.next();n.Ka.set(r,new P8(t)),n.$a=n.$a.insert(t,r),xy(n.remoteStore,new Os(tr(Oc(t.path)),r,"TargetPurposeLimboResolution",lr.ae))}}async function Ws(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){i.push(f);const _=ow.Yi(d.targetId,f);o.push(_)}}))}),await Promise.all(u),r.La.p_(i),await async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,v=>X.forEach(v.Hi,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.Ji,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!fo(_))throw _;pe(lw,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const T=g.Ts.get(v),w=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(w);g.Ts=g.Ts.insert(v,I)}}}(r.localStore,o))}async function j8(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(go,"User change. New user:",e.toKey());const r=await hk(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new de(ne.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ws(t,r.Rs)}}function z8(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return Me().add(r.key);{let i=Me();const o=t.qa.get(e);if(!o)return i;for(const u of o){const h=t.ka.get(u);i=i.unionWith(h.view.ba)}return i}}async function q8(n,e){const t=Ee(n),r=await Rg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&RE(t,e.targetId,i.Ma),i}async function H8(n,e){const t=Ee(n);return mk(t.localStore,e).then(r=>Ws(t,r))}async function $8(n,e,t,r){const i=Ee(n),o=await function(h,d){const f=Ee(h),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Ln(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Vc(i.remoteStore):t==="acknowledged"||t==="rejected"?(bw(i,e,r||null),Ew(i,e),function(h,d){Ee(Ee(h).mutationQueue).qn(d)}(i.localStore,e)):we(),await Ws(i,o)):pe(go,"Cannot apply mutation batch with id: "+e)}async function G8(n,e){const t=Ee(n);if(Oy(t),Tw(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await sC(t,r.toArray());t.ja=!0,await AE(t.remoteStore,!0);for(const o of i)xy(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(gc(t,u),fc(t.localStore,u,!0))),pc(t.remoteStore,u)}),await i,await sC(t,r),function(u){const h=Ee(u);h.Ka.forEach((d,f)=>{pc(h.remoteStore,f)}),h.Ua.Dr(),h.Ka=new Map,h.$a=new yt(_e.comparator)}(t),t.ja=!1,await AE(t.remoteStore,!1)}}async function sC(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const d=r.qa.get(u);if(d&&d.length!==0){h=await dc(r.localStore,tr(d[0]));for(const f of d){const g=r.ka.get(f),_=await q8(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await pk(r.localStore,u);h=await dc(r.localStore,f),await vw(r,Vk(f),u,!1,h.resumeToken)}i.push(h)}return r.La.p_(o),i}function Vk(n){return yD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function K8(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function W8(n,e,t,r){const i=Ee(n);if(i.ja)return void pe(go,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await mk(i.localStore,vD(o[0])),h=Lf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",qt.EMPTY_BYTE_STRING);await Ws(i,u,h);break}case"rejected":await fc(i.localStore,e,!0),gc(i,e,r);break;default:we()}}async function Q8(n,e,t){const r=Oy(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(go,"Adding an already active target "+i);continue}const o=await pk(r.localStore,i),u=await dc(r.localStore,o);await vw(r,Vk(o),u.targetId,!1,u.resumeToken),xy(r.remoteStore,u)}for(const i of t)r.qa.has(i)&&await fc(r.localStore,i,!1).then(()=>{pc(r.remoteStore,i),gc(r,i)}).catch(ho)}}function Oy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M8.bind(null,e),e.La.p_=S8.bind(null,e.eventManager),e.La.Ja=A8.bind(null,e.eventManager),e}function Tw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U8.bind(null,e),e}function Y8(n,e,t){const r=Ee(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await function(T,w){const I=Ee(T),P=Qt(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",L=>I.Yr.getBundleMetadata(L,w.id)).then(L=>!!L&&L.createTime.compareTo(P)>=0)}(o.localStore,d))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);h._updateProgress(Ck(d));const f=new R8(d,o.localStore,u.serializer);let g=await u.Ya();for(;g;){const v=await f.Aa(g);v&&h._updateProgress(v),g=await u.Ya()}const _=await f.complete();return await Ws(o,_.ma,void 0),await function(T,w){const I=Ee(T);return I.persistence.runTransaction("Save bundle","readwrite",P=>I.Yr.saveBundleMetadata(P,w))}(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Va)}catch(d){return Xi(go,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ck(this.persistence,new uk,e.initialUser,this.serializer)}Xa(e){return new iw(Py.ri,this.serializer)}Za(e){return new Ek}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class X8 extends uf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof Ig);const r=this.persistence.referenceDelegate.garbageCollector;return new rk(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new iw(r=>Ig.ri(r,t),this.serializer)}}class Mk extends uf{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await Tw(this.ru.syncEngine),await Vc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return ck(this.persistence,new uk,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new rk(r,e.asyncQueue,t)}nu(e,t){const r=new aq(t,this.persistence);return new sq(e.asyncQueue,r)}Xa(e){const t=aw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new sw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,bk(),Ym(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new Ek}}class J8 extends Mk{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof x0&&(this.sharedClientState.syncEngine={uo:$8.bind(null,t),co:W8.bind(null,t),lo:Q8.bind(null,t),zi:K8.bind(null,t),ao:H8.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await G8(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=bk();if(!x0.D(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=aw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new x0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class cf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j8.bind(null,this.syncEngine),await AE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T8}()}createDatastore(e){const t=Bf(e.databaseInfo.databaseId),r=function(o){return new s8(o)}(e.databaseInfo);return function(o,u,h,d){return new u8(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new h8(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>iC(this.syncEngine,t,0),function(){return X1.D()?new X1:new t8}())}createSyncEngine(e,t){return function(i,o,u,h,d,f,g){const _=new x8(i,o,u,h,d,f);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(Tl,"RemoteStore shutting down."),o.W_.add(5),await Nc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cf.provider={build:()=>new cf};function aC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new I8(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>of(u.serializer,_))},d=await u.Co("BatchGetDocuments",u.serializer.databaseId,qe.emptyPath(),h,o.length),f=new Map;d.forEach(_=>{const v=dH(u.serializer,_);f.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=f.get(_.toString());Ae(!!v),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new kc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Wb(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>lf(o.serializer,h))};await o.bo("Commit",o.serializer.databaseId,qe.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=Re.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new cw(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new e7(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Of(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!DD(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="FirestoreClient";class n7{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=LO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(io,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(io,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Lc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function D0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(io,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function oC(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Sw(n);pe(io,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Z1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Z1(e.remoteStore,i)),n._onlineComponents=e}async function Sw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(io,"Using user provided OfflineComponentProvider");try{await D0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Xi("Error using user provided cache. Falling back to memory cache: "+t),await D0(n,new uf)}}else pe(io,"Using default OfflineComponentProvider"),await D0(n,new X8(void 0));return n._offlineComponents}async function ky(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(io,"Using user provided OnlineComponentProvider"),await oC(n,n._uninitializedComponentsProvider._online)):(pe(io,"Using default OnlineComponentProvider"),await oC(n,new cf))),n._onlineComponents}function Lk(n){return Sw(n).then(e=>e.persistence)}function Aw(n){return Sw(n).then(e=>e.localStore)}function Uk(n){return ky(n).then(e=>e.remoteStore)}function Iw(n){return ky(n).then(e=>e.syncEngine)}function r7(n){return ky(n).then(e=>e.datastore)}async function yc(n){const e=await ky(n),t=e.eventManager;return t.onListen=O8.bind(null,e.syncEngine),t.onUnlisten=k8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N8.bind(null,e.syncEngine),t}function i7(n){return n.asyncQueue.enqueue(async()=>{const e=await Lk(n),t=await Uk(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),Ff(o)}(t)})}function s7(n){return n.asyncQueue.enqueue(async()=>{const e=await Lk(n),t=await Uk(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await Nc(o),o.j_.set("Offline")}(t)})}function a7(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=Lc(h,`Failed to get document '${o} from cache`);u.reject(d)}}(await Aw(n),e,t)),t.promise}function Bk(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new Dy({next:v=>{g.su(),u.enqueueAndForget(()=>gw(o,_));const T=v.docs.has(h);!T&&v.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new _w(Oc(h.path),g,{includeMetadataChanges:!0,Ta:!0});return mw(o,_)}(await yc(n),n.asyncQueue,e,t,r)),r.promise}function o7(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Rg(i,o,!0),d=new Ok(o,h.gs),f=d.Sa(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=Lc(h,`Failed to execute query '${o} against cache`);u.reject(d)}}(await Aw(n),e,t)),t.promise}function Fk(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new Dy({next:v=>{g.su(),u.enqueueAndForget(()=>gw(o,_)),v.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new _w(h,g,{includeMetadataChanges:!0,Ta:!0});return mw(o,_)}(await yc(n),n.asyncQueue,e,t,r)),r.promise}function l7(n,e){const t=new Dy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await yc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await yc(n),t))}}function u7(n,e,t,r){const i=function(u,h){let d;return d=typeof u=="string"?ND().encode(u):u,function(g,_){return new Z8(g,_)}(function(g,_){if(g instanceof Uint8Array)return aC(g,_);if(g instanceof ArrayBuffer)return aC(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),h)}(t,Bf(e));n.asyncQueue.enqueueAndForget(async()=>{Y8(await Iw(n),i,r)})}function c7(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Yr.getNamedQuery(u,i))}(await Aw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zk(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uC(n){if(!_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cC(n){if(_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ny(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ny(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qk(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firestore.googleapis.com",hC=!0;class dC{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hk,this.ssl=hC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hC;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OH)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q9;switch(r.type){case"firstParty":return new Z9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=lC.get(t);r&&(pe("ComponentProvider","Removing Datastore"),lC.delete(t),r.terminate())}(this),Promise.resolve()}}function h7(n,e,t,r={}){var i;const o=(n=nt(n,jf))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==Hk&&o.host!==h&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!Ms(d,u)&&(n._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=An.MOCK_USER;else{f=n3(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new An(_)}n._authCredentials=new Y9(new MO(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nr=class $k{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $k(this.firestore,e,this._query)}},Nt=class Gk{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gk(this.firestore,e,this._key)}},Ha=class Kk extends nr{constructor(e,t,r){super(e,t,Oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new Kk(this.firestore,e,this._path)}};function Wk(n,e,...t){if(n=Pe(n),Rw("collection","path",e),n instanceof jf){const r=qe.fromString(e,...t);return cC(r),new Ha(n,null,r)}{if(!(n instanceof Nt||n instanceof Ha))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return cC(r),new Ha(n.firestore,null,r)}}function d7(n,e){if(n=nt(n,jf),Rw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nr(n,null,function(r){return new $s(qe.emptyPath(),r)}(e))}function Og(n,e,...t){if(n=Pe(n),arguments.length===1&&(e=LO.newId()),Rw("doc","path",e),n instanceof jf){const r=qe.fromString(e,...t);return uC(r),new Nt(n,null,new _e(r))}{if(!(n instanceof Nt||n instanceof Ha))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return uC(r),new Nt(n.firestore,n instanceof Ha?n.converter:null,new _e(r))}}function Qk(n,e){return n=Pe(n),e=Pe(e),(n instanceof Nt||n instanceof Ha)&&(e instanceof Nt||e instanceof Ha)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Yk(n,e){return n=Pe(n),e=Pe(e),n instanceof nr&&e instanceof nr&&n.firestore===e.firestore&&Nf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="AsyncQueue";class pC{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cw(this,"async_queue_retry"),this.bu=()=>{const r=Ym();r&&pe(fC,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Ym();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ym();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fo(e))throw e;pe(fC,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Wt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=pw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function CE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class f7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=-1;let Yt=class extends jf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pC(e),this._firestoreClient=void 0,await e}}};function Gn(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Xk(n),n._firestoreClient}function Xk(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,f,g){return new Vq(h,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,jk(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new n7(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}function m7(n,e){Xi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return Jk(n,cf.provider,{build:r=>new Mk(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function g7(n){Xi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();Jk(n,cf.provider,{build:t=>new J8(t,e.cacheSizeBytes)})}function Jk(n,e,t){if((n=nt(n,Yt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},Xk(n)}function y7(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ki.D())return Promise.resolve();const i=r+lk;await Ki.delete(i)}(aw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function _7(n){return function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>B8(await Iw(t),r)),r.promise}(Gn(n=nt(n,Yt)))}function v7(n){return i7(Gn(n=nt(n,Yt)))}function E7(n){return s7(Gn(n=nt(n,Yt)))}function b7(n,e){const t=Gn(n=nt(n,Yt)),r=new f7;return u7(t,n._databaseId,e,r),r}function w7(n,e){return c7(Gn(n=nt(n,Yt)),e).then(t=>t?new nr(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zi(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=/^__.*__$/;class S7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class Zk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class My{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new My(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(eN(this.Lu)&&T7.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class A7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bf(e)}ju(e,t,r,i=!1){return new My({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xl(n){const e=n._freezeSettings(),t=Bf(n._databaseId);return new A7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ly(n,e,t,r,i,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,i);Vw("Data must be an object, but it was:",u,r);const h=rN(r,u);let d,f;if(o.merge)d=new ur(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=PE(e,_,t);if(!u.contains(v))throw new de(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);sN(g,v)||g.push(v)}d=new ur(g),f=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=u.fieldTransforms;return new S7(new Nn(h),d,f)}class zf extends Pl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function tN(n,e,t){return new My({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pw extends Pl{_toFieldTransform(e){return new Mf(e.path,new uc)}isEqual(e){return e instanceof Pw}}class xw extends Pl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=tN(this,e,!0),r=this.Hu.map(o=>Ol(o,t)),i=new _l(r);return new Mf(e.path,i)}isEqual(e){return e instanceof xw&&Ms(this.Hu,e.Hu)}}class Ow extends Pl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=tN(this,e,!0),r=this.Hu.map(o=>Ol(o,t)),i=new vl(r);return new Mf(e.path,i)}isEqual(e){return e instanceof Ow&&Ms(this.Hu,e.Hu)}}class Dw extends Pl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new cc(e.serializer,AD(e.serializer,this.Ju));return new Mf(e.path,t)}isEqual(e){return e instanceof Dw&&this.Ju===e.Ju}}function kw(n,e,t,r){const i=n.ju(1,e,t);Vw("Data must be an object, but it was:",i,r);const o=[],u=Nn.empty();po(r,(d,f)=>{const g=Mw(e,d,t);f=Pe(f);const _=i.Ku(g);if(f instanceof zf)o.push(g);else{const v=Ol(f,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new ur(o);return new Zk(u,h,i.fieldTransforms)}function Nw(n,e,t,r,i,o){const u=n.ju(1,e,t),h=[PE(e,r,t)],d=[i];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(PE(e,o[v])),d.push(o[v+1]);const f=[],g=Nn.empty();for(let v=h.length-1;v>=0;--v)if(!sN(f,h[v])){const T=h[v];let w=d[v];w=Pe(w);const I=u.Ku(T);if(w instanceof zf)f.push(T);else{const P=Ol(w,I);P!=null&&(f.push(T),g.set(T,P))}}const _=new ur(f);return new Zk(g,_,u.fieldTransforms)}function nN(n,e,t,r=!1){return Ol(t,n.ju(r?4:3,e))}function Ol(n,e){if(iN(n=Pe(n)))return Vw("Unsupported field value:",e,n),rN(n,e);if(n instanceof Pl)return function(r,i){if(!eN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let d=Ol(h,i.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:hc(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(i.serializer,o)}}if(r instanceof Vy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zi)return{bytesValue:LD(i.serializer,r._byteString)};if(r instanceof Nt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cw)return function(u,h){return{mapValue:{fields:{[zb]:{stringValue:qb},[ac]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Wu("VectorValues must only contain numeric values.");return Kb(h.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Ny(r)}`)}(n,e)}function rN(n,e){const t={};return eD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(n,(r,i)=>{const o=Ol(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function iN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof Vy||n instanceof Zi||n instanceof Nt||n instanceof Pl||n instanceof Cw)}function Vw(n,e,t){if(!iN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Ny(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function PE(n,e,t){if((e=Pe(e))instanceof so)return e._internalPath;if(typeof e=="string")return Mw(n,e);throw Dg("Field path arguments must be of type string or ",n,!1,void 0,t)}const I7=new RegExp("[~\\*/\\[\\]]");function Mw(n,e,t){if(e.search(I7)>=0)throw Dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new so(...e.split("."))._internalPath}catch{throw Dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new de(ne.INVALID_ARGUMENT,h+n+d)}function sN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class R7 extends hf{data(){return super.data()}}function Uy(n,e){return typeof e=="string"?Mw(n,e):e instanceof so?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lw{}class qf extends Lw{}function Na(n,e,...t){let r=[];e instanceof Lw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof Uw).length,h=o.filter(d=>d instanceof By).length;if(u>1||u>0&&h>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class By extends qf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new By(e,t,r)}_apply(e){const t=this._parse(e);return lN(e._query,t),new nr(e.firestore,e.converter,mE(e._query,t))}_parse(e){const t=xl(e.firestore);return function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){gC(_,g);const w=[];for(const I of _)w.push(mC(d,o,I));v={arrayValue:{values:w}}}else v=mC(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||gC(_,g),v=nN(h,u,_,g==="in"||g==="not-in");return He.create(f,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function C7(n,e,t){const r=e,i=Uy("where",n);return By._create(i,r,t)}class Uw extends Lw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const d of h)lN(u,d),u=mE(u,d)}(e._query,t),new nr(e.firestore,e.converter,mE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bw extends qf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Bw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new af(o,u)}(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new $s(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function P7(n,e="asc"){const t=e,r=Uy("orderBy",n);return Bw._create(r,t)}class Fy extends qf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Fy(e,t,r)}_apply(e){return new nr(e.firestore,e.converter,wg(e._query,this._limit,this._limitType))}}function x7(n){return qk("limit",n),Fy._create("limit",n,"F")}function O7(n){return qk("limitToLast",n),Fy._create("limitToLast",n,"L")}class jy extends qf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jy(e,t,r)}_apply(e){const t=oN(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(i,o){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function D7(...n){return jy._create("startAt",n,!0)}function k7(...n){return jy._create("startAfter",n,!1)}class zy extends qf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new zy(e,t,r)}_apply(e){const t=oN(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(i,o){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function N7(...n){return zy._create("endBefore",n,!1)}function V7(...n){return zy._create("endAt",n,!0)}function oN(n,e,t,r){if(t[0]=Pe(t[0]),t[0]instanceof hf)return function(o,u,h,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of $u(o))if(_.field.isKeyField())g.push(gl(u,d.key));else{const v=d.data.field(_.field);if(wy(v))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new no(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=xl(n.firestore);return function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const I=g[w];if(v[w].field.isKeyField()){if(typeof I!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof I}`);if(!$b(u)&&I.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${I}' contains a slash.`);const P=u.path.child(qe.fromString(I));if(!_e.isDocumentKey(P))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const L=new _e(P);T.push(gl(h,L))}else{const P=nN(d,f,I);T.push(P)}}return new no(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function mC(n,e,t){if(typeof(t=Pe(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$b(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!_e.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gl(n,new _e(r))}if(t instanceof Nt)return gl(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ny(t)}.`)}function gC(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lN(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Fw{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return po(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ac].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>wt(u.doubleValue));return new Cw(o)}convertGeoPoint(e){return new Vy(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ty(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nf(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Ae(WD(r));const i=new Za(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Wt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class M7 extends Fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let js=class extends hf{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Uy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ld=class extends js{data(e={}){return super.data(e)}},ao=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ld(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const d=new Ld(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ol(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Ld(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ol(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:L7(h.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function L7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function uN(n,e){return n instanceof js&&e instanceof js?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ao&&e instanceof ao&&n._firestore===e._firestore&&Yk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(n){n=nt(n,Nt);const e=nt(n.firestore,Yt);return Bk(Gn(e),n._key).then(t=>jw(e,n,t))}class Dl extends Fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function B7(n){n=nt(n,Nt);const e=nt(n.firestore,Yt),t=Gn(e),r=new Dl(e);return a7(t,n._key).then(i=>new js(e,r,n._key,i,new ol(i!==null&&i.hasLocalMutations,!0),n.converter))}function F7(n){n=nt(n,Nt);const e=nt(n.firestore,Yt);return Bk(Gn(e),n._key,{source:"server"}).then(t=>jw(e,n,t))}function j7(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new Dl(e);return aN(n._query),Fk(t,n._query).then(i=>new ao(e,r,n,i))}function z7(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new Dl(e);return o7(t,n._query).then(i=>new ao(e,r,n,i))}function q7(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new Dl(e);return Fk(t,n._query,{source:"server"}).then(i=>new ao(e,r,n,i))}function yC(n,e,t){n=nt(n,Nt);const r=nt(n.firestore,Yt),i=qy(n.converter,e,t);return Hf(r,[Ly(xl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,At.none())])}function _C(n,e,t,...r){n=nt(n,Nt);const i=nt(n.firestore,Yt),o=xl(i);let u;return u=typeof(e=Pe(e))=="string"||e instanceof so?Nw(o,"updateDoc",n._key,e,t,r):kw(o,"updateDoc",n._key,e),Hf(i,[u.toMutation(n._key,At.exists(!0))])}function H7(n){return Hf(nt(n.firestore,Yt),[new kc(n._key,At.none())])}function $7(n,e){const t=nt(n.firestore,Yt),r=Og(n),i=qy(n.converter,e);return Hf(t,[Ly(xl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function cN(n,...e){var t,r,i;n=Pe(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||CE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,f,g;if(n instanceof Nt)f=nt(n.firestore,Yt),g=Oc(n._key.path),d={next:_=>{e[u]&&e[u](jw(f,n,_))},error:e[u+1],complete:e[u+2]};else{const _=nt(n,nr);f=nt(_.firestore,Yt),g=_._query;const v=new Dl(f);d={next:T=>{e[u]&&e[u](new ao(f,v,_,T))},error:e[u+1],complete:e[u+2]},aN(n._query)}return function(v,T,w,I){const P=new Dy(I),L=new _w(T,P,w);return v.asyncQueue.enqueueAndForget(async()=>mw(await yc(v),L)),()=>{P.su(),v.asyncQueue.enqueueAndForget(async()=>gw(await yc(v),L))}}(Gn(f),g,h,d)}function G7(n,e){return l7(Gn(n=nt(n,Yt)),CE(e)?e:{next:e})}function Hf(n,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>V8(await Iw(r),i,o)),o.promise}(Gn(n),e)}function jw(n,e,t){const r=t.docs.get(e._key),i=new Dl(n);return new js(n,i,e._key,r,new ol(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W7=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}set(e,t,r){this._verifyNotCommitted();const i=Ua(e,this._firestore),o=qy(i.converter,t,r),u=Ly(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,At.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Ua(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof so?Nw(this._dataReader,"WriteBatch.update",o._key,t,r,i):kw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ua(e,this._firestore);return this._mutations=this._mutations.concat(new kc(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ua(n,e){if((n=Pe(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xl(e)}get(e){const t=Ua(e,this._firestore),r=new M7(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we();const o=i[0];if(o.isFoundDocument())return new hf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new hf(this._firestore,r,t._key,null,t.converter);throw we()})}set(e,t,r){const i=Ua(e,this._firestore),o=qy(i.converter,t,r),u=Ly(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Ua(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof so?Nw(this._dataReader,"Transaction.update",o._key,t,r,i):kw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ua(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y7=class extends Q7{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ua(e,this._firestore),r=new Dl(this._firestore);return super.get(e).then(i=>new js(this._firestore,r,t._key,i._document,new ol(!1,!1),t.converter))}};function X7(n,e,t){n=nt(n,Yt);const r=Object.assign(Object.assign({},K7),t);return function(o){if(o.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const d=new Vn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await r7(o);new t7(o.asyncQueue,f,h,u,d).Iu()}),d.promise}(Gn(n),i=>e(new Y7(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(){return new zf("deleteField")}function Z7(){return new Pw("serverTimestamp")}function e$(...n){return new xw("arrayUnion",n)}function t$(...n){return new Ow("arrayRemove",n)}function n$(n){return new Dw("increment",n)}(function(e,t=!0){(function(i){xc=i})(uo),Ya(new Qi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new X9(r.getProvider("auth-internal")),new eq(u,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(f.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ui(YR,XR,e),ui(YR,XR,"esm2017")})();const r$="@firebase/firestore-compat",i$="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function EC(){if(!kq())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let hN=class xE{constructor(e){this._delegate=e}static fromBase64String(e){return EC(),new xE(Zi.fromBase64String(e))}static fromUint8Array(e){return vC(),new xE(Zi.fromUint8Array(e))}toBase64(){return EC(),this._delegate.toBase64()}toUint8Array(){return vC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n){return s$(n,["next","error","complete"])}function s$(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${enableIndexedDbPersistence(e,t){return m7(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return g7(e._delegate)}clearIndexedDbPersistence(e){return y7(e._delegate)}}class dN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){h7(this._delegate,e,t,r)}enableNetwork(){return v7(this._delegate)}disableNetwork(){return E7(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,zk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return _7(this._delegate)}onSnapshotsInSync(e){return G7(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _c(this,Wk(this._delegate,e))}catch(t){throw Zn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qr(this,Og(this._delegate,e))}catch(t){throw Zn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jn(this,d7(this._delegate,e))}catch(t){throw Zn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return X7(this._delegate,t=>e(new fN(this,t)))}batch(){return Gn(this._delegate),new pN(new W7(this._delegate,e=>Hf(this._delegate,e)))}loadBundle(e){return b7(this._delegate,e)}namedQuery(e){return w7(this._delegate,e).then(t=>t?new Jn(this,t):null)}}class Hy extends Fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new hN(new Zi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qr.forKey(t,this.firestore,null)}}function o$(n){K9(n)}class fN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Hy(e)}get(e){const t=ll(e);return this._delegate.get(t).then(r=>new df(this._firestore,new js(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ll(e);return r?(zw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ll(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ll(e);return this._delegate.delete(t),this}}class pN{constructor(e){this._delegate=e}set(e,t,r){const i=ll(e);return r?(zw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ll(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ll(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ld(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ff(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Sl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Sl(e,new Hy(e),t),i.set(t,o)),o}}Sl.INSTANCES=new WeakMap;class Qr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qr(t,new Nt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Qr(t,new Nt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _c(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _c(this.firestore,Wk(this._delegate,e))}catch(t){throw Zn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Pe(e),e instanceof Nt?Qk(this._delegate,e):!1}set(e,t){t=zw("DocumentReference.set",t);try{return t?yC(this._delegate,e,t):yC(this._delegate,e)}catch(r){throw Zn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?_C(this._delegate,e):_C(this._delegate,e,t,...r)}catch(i){throw Zn(i,"updateDoc()","DocumentReference.update()")}}delete(){return H7(this._delegate)}onSnapshot(...e){const t=mN(e),r=gN(e,i=>new df(this.firestore,new js(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return cN(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=B7(this._delegate):(e==null?void 0:e.source)==="server"?t=F7(this._delegate):t=U7(this._delegate),t.then(r=>new df(this.firestore,new js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qr(this.firestore,e?this._delegate.withConverter(Sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zn(n,e,t){return n.message=n.message.replace(e,t),n}function mN(n){for(const e of n)if(typeof e=="object"&&!OE(e))return e;return{}}function gN(n,e){var t,r;let i;return OE(n[0])?i=n[0]:OE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class df{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uN(this._delegate,e._delegate)}}class ff extends df{data(e){const t=this._delegate.data(e);return this._delegate._converter||W9(t!==void 0),t}}class Jn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hy(e)}where(e,t,r){try{return new Jn(this.firestore,Na(this._delegate,C7(e,t,r)))}catch(i){throw Zn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jn(this.firestore,Na(this._delegate,P7(e,t)))}catch(r){throw Zn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jn(this.firestore,Na(this._delegate,x7(e)))}catch(t){throw Zn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Jn(this.firestore,Na(this._delegate,O7(e)))}catch(t){throw Zn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Jn(this.firestore,Na(this._delegate,D7(...e)))}catch(t){throw Zn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Jn(this.firestore,Na(this._delegate,k7(...e)))}catch(t){throw Zn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Jn(this.firestore,Na(this._delegate,N7(...e)))}catch(t){throw Zn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Jn(this.firestore,Na(this._delegate,V7(...e)))}catch(t){throw Zn(t,"endAt()","Query.endAt()")}}isEqual(e){return Yk(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=z7(this._delegate):(e==null?void 0:e.source)==="server"?t=q7(this._delegate):t=j7(this._delegate),t.then(r=>new DE(this.firestore,new ao(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=mN(e),r=gN(e,i=>new DE(this.firestore,new ao(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return cN(this._delegate,t,r)}withConverter(e){return new Jn(this.firestore,e?this._delegate.withConverter(Sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class l${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ff(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ff(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new l$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ff(this._firestore,r))})}isEqual(e){return uN(this._delegate,e._delegate)}}class _c extends Jn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qr(this.firestore,e):null}doc(e){try{return e===void 0?new Qr(this.firestore,Og(this._delegate)):new Qr(this.firestore,Og(this._delegate,e))}catch(t){throw Zn(t,"doc()","CollectionReference.doc()")}}add(e){return $7(this._delegate,e).then(t=>new Qr(this.firestore,t))}isEqual(e){return Qk(this._delegate,e._delegate)}withConverter(e){return new _c(this.firestore,e?this._delegate.withConverter(Sl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ll(n){return nt(n,Nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(...e){this._delegate=new so(...e)}static documentId(){return new qw(St.keyField().canonicalString())}isEqual(e){return e=Pe(e),e instanceof so?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static serverTimestamp(){const e=Z7();return e._methodName="FieldValue.serverTimestamp",new rl(e)}static delete(){const e=J7();return e._methodName="FieldValue.delete",new rl(e)}static arrayUnion(...e){const t=e$(...e);return t._methodName="FieldValue.arrayUnion",new rl(t)}static arrayRemove(...e){const t=t$(...e);return t._methodName="FieldValue.arrayRemove",new rl(t)}static increment(e){const t=n$(e);return t._methodName="FieldValue.increment",new rl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$={Firestore:dN,GeoPoint:Vy,Timestamp:It,Blob:hN,Transaction:fN,WriteBatch:pN,DocumentReference:Qr,DocumentSnapshot:df,Query:Jn,QueryDocumentSnapshot:ff,QuerySnapshot:DE,CollectionReference:_c,FieldPath:qw,FieldValue:rl,setLogLevel:o$,CACHE_SIZE_UNLIMITED:p7};function c$(n,e){n.INTERNAL.registerComponent(new Qi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},u$)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(n){c$(n,(e,t)=>new dN(e,t,new a$)),n.registerVersion(r$,i$)}h$(Ic);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=2e3;async function f$(n,e,t){var r;const{BuildInfo:i}=Al();hi(e.sessionId,"AuthEvent did not contain a session ID");const o=await _$(e.sessionId),u={};return If()?u.ibi=i.packageName:Af()?u.apn=i.packageName:Rn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,nE(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function p$(n){const{BuildInfo:e}=Al(),t={};If()?t.iosBundleId=e.packageName:Af()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await RO(n,t)}function m$(n){const{cordova:e}=Al();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,e6()?"_blank":"_system","location=yes"),t(i)})})}async function g$(n,e,t){const{cordova:r}=Al();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(mn(n,"redirect-cancelled-by-user"))},d$))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Af()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function y$(n){var e,t,r,i,o,u,h,d,f,g;const _=Al();me(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((d=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function _$(n){const e=v$(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function v$(n){if(hi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=20;class b$ extends AO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function w$(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:A$(),postBody:null,tenantId:n.tenantId,error:mn(n,"no-auth-event")}}function T$(n,e){return kE()._set(NE(n),e)}async function bC(n){const e=await kE()._get(NE(n));return e&&await kE()._remove(NE(n)),e}function S$(n,e){var t,r;const i=R$(e);if(i.includes("/__/auth/callback")){const o=Xm(i),u=o.firebaseError?I$(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=h?mn(h):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function A$(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<E$;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function kE(){return Ir(fy)}function NE(n){return cl("authEvent",n.config.apiKey,n.name)}function I$(n){try{return JSON.parse(n)}catch{return null}}function R$(n){const e=Xm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Xm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Xm(i).link||i||r||t||n}function Xm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Uu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=500;class P${constructor(){this._redirectPersistence=Xa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yy,this._overrideRedirectResult=kb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new b$(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){y$(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),n9(),await this._originValidation(e);const u=w$(e,r,i);await T$(e,u);const h=await f$(e,u,t),d=await m$(h);return g$(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p$(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Al(),u=setTimeout(async()=>{await bC(e),t.onEvent(wC())},C$),h=async g=>{clearTimeout(u);const _=await bC(e);let v=null;_&&(g!=null&&g.url)&&(v=S$(_,g.url)),t.onEvent(v||wC())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=i,f=`${o.packageName.toLowerCase()}://`;Al().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const x$=P$;function wC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(n,e){Mt(n)._logFramework(e)}var D$="@firebase/auth-compat",k$="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=1e3;function Ud(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function V$(){return Ud()==="http:"||Ud()==="https:"}function yN(n=Vt()){return!!((Ud()==="file:"||Ud()==="ionic:"||Ud()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function M$(){return db()||hb()}function L$(){return _x()&&(document==null?void 0:document.documentMode)===11}function U$(n=Vt()){return/Edge\/\d+/.test(n)}function B$(n=Vt()){return L$()||U$(n)}function _N(){try{const n=self.localStorage,e=Pf();if(n)return n.setItem(e,"1"),n.removeItem(e),B$()?$d():!0}catch{return Hw()&&$d()}return!1}function Hw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function k0(){return(V$()||yx()||yN())&&!M$()&&_N()&&!Hw()}function vN(){return yN()&&typeof document<"u"}async function F$(){return vN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},N$);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function j$(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},hd=me,EN="persistence";function z$(n,e){if(hd(Object.values(Sr).includes(e),n,"invalid-persistence-type"),db()){hd(e!==Sr.SESSION,n,"unsupported-persistence-type");return}if(hb()){hd(e===Sr.NONE,n,"unsupported-persistence-type");return}if(Hw()){hd(e===Sr.NONE||e===Sr.LOCAL&&$d(),n,"unsupported-persistence-type");return}hd(e===Sr.NONE||_N(),n,"unsupported-persistence-type")}async function VE(n){await n._initializationPromise;const e=bN(),t=cl(EN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function q$(n,e){const t=bN();if(!t)return[];const r=cl(EN,n,e);switch(t.getItem(r)){case Sr.NONE:return[Xu];case Sr.LOCAL:return[Zu,Xa];case Sr.SESSION:return[Xa];default:return[]}}function bN(){var n;try{return((n=j$())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=me;class Ba{constructor(){this.browserResolver=Ir(CO),this.cordovaResolver=Ir(x$),this.underlyingResolver=null,this._redirectPersistence=Xa,this._completeRedirectFn=yy,this._overrideRedirectResult=kb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return vN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return H$(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await F$();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(n){return n.unwrap()}function $$(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(n){return TN(n)}function K$(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new W$(n,yz(n,e))}else if(r){const i=TN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function TN(n){const{_tokenResponse:e}=n instanceof er?n.customData:n;if(!e)return null;if(!(n instanceof er)&&"temporaryProof"in e&&"phoneNumber"in e)return ml.credentialFromResult(n);const t=e.providerId;if(!t||t===id.PASSWORD)return null;let r;switch(t){case id.GOOGLE:r=Ui;break;case id.FACEBOOK:r=Li;break;case id.GITHUB:r=Bi;break;case id.TWITTER:r=Fi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Ju._create(t,h):Yi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new qu(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof er?r.credentialFromError(n):r.credentialFromResult(n)}function or(n,e){return e.catch(t=>{throw t instanceof er&&K$(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:G$(t),additionalUserInfo:pz(t),user:Ds.getOrCreate(i)}})}async function ME(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>or(n,t.confirm(r))}}class W${constructor(e,t){this.resolver=t,this.auth=$$(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return or(wN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._delegate=e,this.multiFactor=Ez(e)}static getOrCreate(e){return Ds.USER_MAP.has(e)||Ds.USER_MAP.set(e,new Ds(e)),Ds.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return or(this.auth,lO(this._delegate,e))}async linkWithPhoneNumber(e,t){return ME(this.auth,qz(this._delegate,e,t))}async linkWithPopup(e){return or(this.auth,Jz(this._delegate,e,Ba))}async linkWithRedirect(e){return await VE(Mt(this.auth)),o9(this._delegate,e,Ba)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return or(this.auth,uO(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ME(this.auth,Hz(this._delegate,e,t))}reauthenticateWithPopup(e){return or(this.auth,Xz(this._delegate,e,Ba))}async reauthenticateWithRedirect(e){return await VE(Mt(this.auth)),s9(this._delegate,e,Ba)}sendEmailVerification(e){return rz(this._delegate,e)}async unlink(e){return await $6(this._delegate,e),this}updateEmail(e){return oz(this._delegate,e)}updatePassword(e){return lz(this._delegate,e)}updatePhoneNumber(e){return $z(this._delegate,e)}updateProfile(e){return az(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return iz(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ds.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=me;let LE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;dd(r,"invalid-api-key",{appName:e.name}),dd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ba:void 0;this._delegate=t.initialize({options:{persistence:Q$(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Vj),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){eO(this._delegate,e,t)}applyActionCode(e){return Y6(this._delegate,e)}checkActionCode(e){return cO(this._delegate,e)}confirmPasswordReset(e,t){return Q6(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return or(this._delegate,hO(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return nz(this._delegate,e)}isSignInWithEmailLink(e){return Z6(this._delegate,e)}async getRedirectResult(){dd(k0(),this._delegate,"operation-not-supported-in-this-environment");const e=await u9(this._delegate,Ba);return e?or(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){O$(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=TC(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=TC(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return J6(this._delegate,e,t)}sendPasswordResetEmail(e,t){return W6(this._delegate,e,t||void 0)}async setPersistence(e){z$(this._delegate,e);let t;switch(e){case Sr.SESSION:t=Xa;break;case Sr.LOCAL:t=await Ir(Zu)._isAvailable()?Zu:fy;break;case Sr.NONE:t=Xu;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return or(this._delegate,H6(this._delegate))}signInWithCredential(e){return or(this._delegate,hy(this._delegate,e))}signInWithCustomToken(e){return or(this._delegate,K6(this._delegate,e))}signInWithEmailAndPassword(e,t){return or(this._delegate,dO(this._delegate,e,t))}signInWithEmailLink(e,t){return or(this._delegate,ez(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ME(this._delegate,zz(this._delegate,e,t))}async signInWithPopup(e){return dd(k0(),this._delegate,"operation-not-supported-in-this-environment"),or(this._delegate,Yz(this._delegate,e,Ba))}async signInWithRedirect(e){return dd(k0(),this._delegate,"operation-not-supported-in-this-environment"),await VE(this._delegate),r9(this._delegate,e,Ba)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return X6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};LE.Persistence=Sr;function TC(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ds.getOrCreate(u)),error:e,complete:t}}function Q$(n,e){const t=q$(n,e);if(typeof self<"u"&&!t.includes(Zu)&&t.push(Zu),typeof window<"u")for(const r of[fy,Xa])t.includes(r)||t.push(r);return t.includes(Xu)||t.push(Xu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{static credential(e,t){return ml.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new ml(wN(Ic.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}$w.PHONE_SIGN_IN_METHOD=ml.PHONE_SIGN_IN_METHOD;$w.PROVIDER_ID=ml.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=me;class X${constructor(e,t,r=Ic.app()){var i;Y$((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Fz(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="auth-compat";function Z$(n){n.INTERNAL.registerComponent(new Qi(J$,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new LE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Iu.EMAIL_SIGNIN,PASSWORD_RESET:Iu.PASSWORD_RESET,RECOVER_EMAIL:Iu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Iu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Iu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Iu.VERIFY_EMAIL}},EmailAuthProvider:co,FacebookAuthProvider:Li,GithubAuthProvider:Bi,GoogleAuthProvider:Ui,OAuthProvider:qu,SAMLAuthProvider:cg,PhoneAuthProvider:$w,PhoneMultiFactorGenerator:PO,RecaptchaVerifier:X$,TwitterAuthProvider:Fi,Auth:LE,AuthCredential:Cc,Error:er}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(D$,k$)}Z$(Ic);const eG={apiKey:"AIzaSyD6rq9YUjEcjeW5MRLHVAGfx798U4_8NCE",authDomain:"fir-8be4d.firebaseapp.com",projectId:"fir-8be4d",storageBucket:"fir-8be4d.firebasestorage.app",messagingSenderId:"818215471593",appId:"1:818215471593:web:0bf8194fd05f05e8892378"},SN=Ic.initializeApp(eG),kg=$9(SN),AN=SN.firestore();function tG(){const[{basket:n,user:e},t]=W.useContext(zs),r=n.reduce((i,o)=>i+o.amount,0);return console.log(r),z.jsxs("div",{className:Di.fixed_Header,children:[z.jsxs("div",{className:Di.header_container,children:[z.jsxs("div",{className:Di.logo_container,children:[z.jsx(ji,{to:"/",children:z.jsx("img",{src:"amazon_logo_white.png",alt:""})}),z.jsxs("div",{className:Di.delivery,children:[z.jsx("span",{children:z.jsx(zF,{size:15})}),z.jsxs("div",{children:[z.jsx("p",{children:"Deliver to"}),z.jsx("span",{children:"Ethiopia"})]})]})]}),z.jsxs("div",{className:Di.search,children:[z.jsxs("select",{name:"",id:"",children:[z.jsx("option",{value:"",children:"ALL"}),z.jsx("option",{value:"",children:"Computer"}),z.jsx("option",{value:"",children:"Book"}),z.jsx("option",{value:"",children:"Electronics"})]}),z.jsx("input",{type:"text",name:"",id:"",placeholder:"Search Amazon"}),z.jsx(qF,{size:39})]}),z.jsxs("div",{className:Di.order_container,children:[z.jsx("a",{href:"",className:Di.language,children:z.jsxs("div",{className:Di.lang2,children:[z.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),z.jsxs("select",{name:"",id:"",children:[z.jsx("option",{value:"en",children:"EN"}),z.jsx("option",{value:"am",children:"አማ"})]})]})}),z.jsx(ji,{to:!e&&"/auth",children:z.jsx("div",{className:"",children:e?z.jsxs(z.Fragment,{children:[z.jsxs("p",{children:["Hello ",e==null?void 0:e.email.split("@")[0]]}),z.jsxs("span",{onClick:()=>{kg.signOut(),console.log("clicked",e)},children:[" ","Sign Out"]})]}):z.jsxs(z.Fragment,{children:[z.jsx("p",{children:"Hello, Sign In"}),z.jsx("span",{children:"Account & List"})]})})}),z.jsxs(ji,{to:"/orders",children:[z.jsx("p",{children:"Returns"}),z.jsx("span",{children:"&Orders"})]}),z.jsxs(ji,{to:"/cart",className:Di.cart,children:[z.jsx("img",{src:"cart2.png",alt:""}),z.jsx("span",{children:r})]})]})]}),z.jsx($F,{})]})}function Uc({children:n}){return z.jsxs("div",{children:[z.jsx(tG,{}),n]})}function nG(){return z.jsxs(Uc,{children:[z.jsx(oL,{}),z.jsx(hL,{}),z.jsx(AF,{})]})}const rG="_login_cfcnf_1",iG="_login__Container_cfcnf_13",sG="_login_btn_cfcnf_48",aG="_login__register_btn_cfcnf_66",oG="_error_cfcnf_81",fd={login:rG,login__Container:iG,login_btn:sG,login__register_btn:aG,error:oG};var lG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function IN(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return lG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function $i(n){var e=IN(n);return"".concat(e.value).concat(e.unit)}var Ng=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},Vg=function(){return Vg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vg.apply(this,arguments)},uG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},cG=Ng("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function hG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=uG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Vg({background:"transparent !important",width:$i(g),height:$i(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(cG," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?W.createElement("span",Vg({style:v},_)):null}var nn=function(){return nn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nn.apply(this,arguments)},dG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},fG=Ng("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function pG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.height,g=f===void 0?15:f,_=n.width,v=_===void 0?5:_,T=n.radius,w=T===void 0?2:T,I=n.margin,P=I===void 0?2:I,L=dG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),M=IN(P).value,U=M+18,$=U/2+U/5.5,j=nn({display:"inherit",position:"relative",fontSize:"0",top:U,left:U,width:"".concat(U*3,"px"),height:"".concat(U*3,"px")},d),H=function(B){return{position:"absolute",width:$i(v),height:$i(g),margin:$i(P),backgroundColor:i,borderRadius:$i(w),transition:"2s",animationFillMode:"both",animation:"".concat(fG," ").concat(1.2/u,"s ").concat(B*.12,"s infinite ease-in-out")}},V=nn(nn({},H(1)),{top:"".concat(U,"px"),left:"0"}),C=nn(nn({},H(2)),{top:"".concat($,"px"),left:"".concat($,"px"),transform:"rotate(-45deg)"}),R=nn(nn({},H(3)),{top:"0",left:"".concat(U,"px"),transform:"rotate(90deg)"}),b=nn(nn({},H(4)),{top:"".concat(-1*$,"px"),left:"".concat($,"px"),transform:"rotate(45deg)"}),x=nn(nn({},H(5)),{top:"".concat(-1*U,"px"),left:"0"}),O=nn(nn({},H(6)),{top:"".concat(-1*$,"px"),left:"".concat(-1*$,"px"),transform:"rotate(-45deg)"}),D=nn(nn({},H(7)),{top:"0",left:"".concat(-1*U,"px"),transform:"rotate(90deg)"}),te=nn(nn({},H(8)),{top:"".concat($,"px"),left:"".concat(-1*$,"px"),transform:"rotate(45deg)"});return t?W.createElement("span",nn({style:j},L),W.createElement("span",{style:V}),W.createElement("span",{style:C}),W.createElement("span",{style:R}),W.createElement("span",{style:b}),W.createElement("span",{style:x}),W.createElement("span",{style:O}),W.createElement("span",{style:D}),W.createElement("span",{style:te})):null}var Mg=function(){return Mg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Mg.apply(this,arguments)},mG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},SC=[Ng("PuffLoader","0% {transform: scale(0)} 100% {transform: scale(1.0)}","puff-1"),Ng("PuffLoader","0% {opacity: 1} 100% {opacity: 0}","puff-2")];function AC(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?60:f,_=mG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Mg({display:"inherit",position:"relative",width:$i(g),height:$i(g)},d),T=function(w){return{position:"absolute",height:$i(g),width:$i(g),border:"thick solid ".concat(i),borderRadius:"50%",opacity:"1",top:"0",left:"0",animationFillMode:"both",animation:"".concat(SC[0],", ").concat(SC[1]),animationDuration:"".concat(2/u,"s"),animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(0.165, 0.84, 0.44, 1), cubic-bezier(0.3, 0.61, 0.355, 1)",animationDelay:w===1?"-1s":"0s"}};return t?W.createElement("span",Mg({style:v},_),W.createElement("span",{style:T(1)}),W.createElement("span",{style:T(2)})):null}const gG=()=>{var T,w;const n=Ug(),e=lo(),[{user:t},r]=W.useContext(zs),[i,o]=W.useState(""),[u,h]=W.useState(""),[d,f]=W.useState(""),[g,_]=W.useState({signIn:!1,signUp:!1}),v=async I=>{I.preventDefault(),console.log(I.target.name),I.target.name==="signin"?(_({...g,signIn:!0}),dO(kg,i,u).then(P=>{var L;r({type:li.SET_USER,user:P.user}),_({...g,signIn:!1}),n(((L=e==null?void 0:e.state)==null?void 0:L.redirect)||"/")}).catch(P=>{f(P.message),_({...g,signIn:!1})})):(_({...g,signUp:!0}),hO(kg,i,u).then(P=>{var L;r({type:li.SET_USER,user:P.user}),_({...g,signUp:!1}),n(((L=e==null?void 0:e.state)==null?void 0:L.redirect)||"/")}).catch(P=>{f(P.message),_({...g,signUp:!1})}))};return z.jsx(z.Fragment,{children:z.jsxs("div",{className:fd.login,children:[z.jsx(ji,{to:"/",children:z.jsx("img",{src:"https://i.pinimg.com/736x/fe/54/b9/fe54b93c934495741f58a20cfe6daf6d.jpg   ",alt:""})}),z.jsxs("div",{className:fd.login__Container,children:[z.jsx("h1",{children:"Sign In"}),((T=e==null?void 0:e.state)==null?void 0:T.msg)&&z.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(w=e==null?void 0:e.state)==null?void 0:w.msg}),z.jsxs("form",{action:"",children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:"email",children:"Email"}),z.jsx("input",{value:i,type:"email",id:"email",name:"",onChange:I=>o(I.target.value)})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"password",children:"Password"}),z.jsx("input",{value:u,type:"password",id:"password",onChange:I=>h(I.target.value)})]}),z.jsx("button",{type:"submit",name:"signin",className:fd.login_btn,onClick:v,children:g.signIn?z.jsx(AC,{color:"#000",size:20}):"Sign In"})]}),z.jsx("p",{children:"by signing-in you agree to the Amazon Clone Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),z.jsx("button",{name:"signup",onClick:v,className:fd.login__register_btn,children:g.signUp?z.jsx(AC,{color:"#000",size:20}):"Create your Amazon Account"}),d&&z.jsx("small",{className:fd.error,children:d})]})]})})},yG="_container_u3qo6_1",_G="_orders__container_u3qo6_11",IC={container:yG,orders__container:_G},vG=()=>{const[{user:n},e]=W.useContext(zs),[t,r]=W.useState([]);return W.useEffect(()=>{n?AN.collection("users").doc(n==null?void 0:n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[n]),z.jsx(Uc,{children:z.jsx("section",{className:IC.container,children:z.jsxs("div",{className:IC.orders__container,children:[z.jsx("h2",{children:"Your Orders"}),z.jsx("div",{style:{padding:"20px"},children:(t==null?void 0:t.length)===0&&z.jsx("p",{children:"you don't have Orders yet"})}),z.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return z.jsxs("div",{children:[z.jsx("hr",{}),z.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map((d,f)=>z.jsx(Sc,{flex:!0,data:d},f))]},o)})})]})})})},EG="_cart_container_356ud_1",bG="_item_container_356ud_12",wG="_checkout_container_356ud_23",TG="_cart_product_356ud_54",SG="_cart_addsub_356ud_58",AG="_btn_356ud_66",Qo={cart_container:EG,item_container:bG,checkout_container:wG,cart_product:TG,cart_addsub:SG,btn:AG};function IG(n){return Tf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function RG(n){return Tf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function CG(){const[{basket:n},e]=W.useContext(zs);console.log(n);const t=n.reduce((o,u)=>o+u.price*u.amount,0),r=o=>{e({type:li.ADD_TO_BASKET,item:o})},i=o=>{e({type:li.REMOVE_FROM_BASKET,id:o})};return z.jsx(Uc,{children:z.jsxs("section",{className:Qo.cart_container,children:[z.jsxs("div",{className:Qo.item_container,children:[z.jsx("h2",{children:"Hello"}),z.jsx("h3",{children:"Your Shoping Basket"}),z.jsx("hr",{}),(n==null?void 0:n.lenght)===0?z.jsx("p",{children:"Oh! Your basket is empty, pls add item!"}):n==null?void 0:n.map((o,u)=>z.jsxs("section",{className:Qo.cart_product,children:[z.jsx(Sc,{data:o,flex:!0,renderDesc:!0,renderADD:!1},u),z.jsxs("div",{className:Qo.cart_addsub,children:[z.jsx("button",{className:Qo.btn,onClick:()=>r(o),children:z.jsx(RG,{size:35})}),z.jsx("span",{children:o.amount}),z.jsx("button",{className:Qo.btn,onClick:()=>i(o.id),children:z.jsx(IG,{size:35})})]})]}))]}),(n==null?void 0:n.length)!==0&&z.jsxs("div",{className:Qo.checkout_container,children:[z.jsxs("div",{children:[z.jsxs("p",{children:["SubTotal(",n==null?void 0:n.length," items)"]}),z.jsx(ub,{amount:t})]}),z.jsxs("span",{children:[z.jsx("input",{type:"checkbox"}),z.jsx("small",{children:"This order contain a gift"})]}),z.jsx(ji,{to:"/payment",children:"Proceed to Checkout"})]})]})})}const RN="https://fakestoreapi.com",PG="_products_container_1bor2_1",xG={products_container:PG};function CN(){return z.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:z.jsx(pG,{color:"#3db7"})})}function OG(){const{categoryName:n}=HC(),[e,t]=W.useState([]),[r,i]=W.useState(!0);return W.useEffect(()=>{i(!0),Rt.get(`${RN}/products/category/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o)})},[]),z.jsx(Uc,{children:z.jsxs("div",{children:[z.jsx("h1",{style:{padding:"10px"},children:"Results"}),z.jsxs("p",{style:{padding:"10px"},children:["Category/",n]}),z.jsx("hr",{}),r?z.jsx(CN,{}):z.jsx("div",{className:xG.products_container,children:e==null?void 0:e.map(o=>z.jsx(Sc,{data:o,renderADD:!0},o.id))})]})})}function DG(){const{productId:n}=HC(),[e,t]=W.useState({}),[r,i]=W.useState(!0);return W.useEffect(()=>{i(!0),Rt.get(`${RN}/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o)})},[]),z.jsx(Uc,{children:r?z.jsx(CN,{}):z.jsx(Sc,{data:e,flex:!0,renderDesc:!0,renderADD:!0})})}const kG="_payment__header_13y3b_1",NG="_payment_13y3b_1",VG="_flex_13y3b_23",MG="_payment_details_13y3b_89",LG="_loading_13y3b_117",Oi={payment__header:kG,payment:NG,flex:VG,payment_details:MG,loading:LG};function RC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(t),!0).forEach(function(r){PN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jm=function(e){return typeof e}:Jm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(n)}function PN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xN(n,e){return UG(n)||BG(n,e)||FG(n,e)||jG()}function UG(n){if(Array.isArray(n))return n}function BG(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,h=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function FG(n,e){if(n){if(typeof n=="string")return PC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return PC(n,e)}}function PC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},UE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},vc=function(e){return e!==null&&Jm(e)==="object"},zG=function(e){return vc(e)&&typeof e.then=="function"},qG=function(e){return vc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},xC="[object Object]",HG=function n(e,t){if(!vc(e)||!vc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===xC,u=Object.prototype.toString.call(t)===xC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var T=e,w=t,I=function(L){return n(T[L],w[L])};return v.every(I)},ON=function(e,t,r){return vc(e)?Object.keys(e).reduce(function(i,o){var u=!vc(t)||!HG(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?CC(CC({},i||{}),{},PN({},o,e[o])):i},null):null},DN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",OC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DN;if(e===null||qG(e))return e;throw new Error(t)},$G=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DN;if(zG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return OC(i,t)})};var r=OC(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},GG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},$y=Ke.createContext(null);$y.displayName="ElementsContext";var kN=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},NN=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return $G(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=xN(u,2),d=h[0],f=h[1];Ke.useEffect(function(){var v=!0,T=function(I){f(function(P){return P.stripe?P:{stripe:I,elements:I.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&T(w)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){v=!1}},[o,d,r]);var g=UE(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=UE(r);return Ke.useEffect(function(){if(d.elements){var v=ON(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Ke.useEffect(function(){GG(d.stripe)},[d.stripe]),Ke.createElement($y.Provider,{value:d},i)};NN.propTypes={stripe:Dt.any,options:Dt.object};var KG=function(e){var t=Ke.useContext($y);return kN(t,e)},WG=function(){var e=KG("calls useElements()"),t=e.elements;return t};Dt.func.isRequired;var VN=Ke.createContext(null);VN.displayName="CheckoutSdkContext";var QG=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},YG=Ke.createContext(null);YG.displayName="CheckoutContext";Dt.any,Dt.shape({clientSecret:Dt.string.isRequired,elementsOptions:Dt.object}).isRequired;var BE=function(e){var t=Ke.useContext(VN),r=Ke.useContext($y);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?QG(t,e):kN(r,e)},XG=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},on=function(e,t){var r="".concat(XG(e),"Element"),i=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,T=d.onBlur,w=d.onFocus,I=d.onReady,P=d.onChange,L=d.onEscape,M=d.onClick,U=d.onLoadError,$=d.onLoaderStart,j=d.onNetworksChange,H=d.onConfirm,V=d.onCancel,C=d.onShippingAddressChange,R=d.onShippingRateChange,b=BE("mounts <".concat(r,">")),x="elements"in b?b.elements:null,O="checkoutSdk"in b?b.checkoutSdk:null,D=Ke.useState(null),te=xN(D,2),B=te[0],ee=te[1],ie=Ke.useRef(null),ue=Ke.useRef(null);wr(B,"blur",T),wr(B,"focus",w),wr(B,"escape",L),wr(B,"click",M),wr(B,"loaderror",U),wr(B,"loaderstart",$),wr(B,"networkschange",j),wr(B,"confirm",H),wr(B,"cancel",V),wr(B,"shippingaddresschange",C),wr(B,"shippingratechange",R),wr(B,"change",P);var Te;I&&(e==="expressCheckout"?Te=I:Te=function(){I(B)}),wr(B,"ready",Te),Ke.useLayoutEffect(function(){if(ie.current===null&&ue.current!==null&&(x||O)){var ae=null;O?ae=O.createElement(e,v):x&&(ae=x.create(e,v)),ie.current=ae,ee(ae),ae&&ae.mount(ue.current)}},[x,O,v]);var q=UE(v);return Ke.useEffect(function(){if(ie.current){var ae=ON(v,q,["paymentRequest"]);ae&&"update"in ie.current&&ie.current.update(ae)}},[v,q]),Ke.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),Ke.createElement("div",{id:f,className:g,ref:ue})},o=function(d){BE("mounts <".concat(r,">"));var f=d.id,g=d.className;return Ke.createElement("div",{id:f,className:g})},u=t?o:i;return u.propTypes={id:Dt.string,className:Dt.string,onChange:Dt.func,onBlur:Dt.func,onFocus:Dt.func,onReady:Dt.func,onEscape:Dt.func,onClick:Dt.func,onLoadError:Dt.func,onLoaderStart:Dt.func,onNetworksChange:Dt.func,onConfirm:Dt.func,onCancel:Dt.func,onShippingAddressChange:Dt.func,onShippingRateChange:Dt.func,options:Dt.object},u.displayName=r,u.__elementType=e,u},ln=typeof window>"u",JG=Ke.createContext(null);JG.displayName="EmbeddedCheckoutProviderContext";var ZG=function(){var e=BE("calls useStripe()"),t=e.stripe;return t};on("auBankAccount",ln);var DC=on("card",ln);on("cardNumber",ln);on("cardExpiry",ln);on("cardCvc",ln);on("fpxBank",ln);on("iban",ln);on("idealBank",ln);on("p24Bank",ln);on("epsBank",ln);on("payment",ln);on("expressCheckout",ln);on("currencySelector",ln);on("paymentRequestButton",ln);on("linkAuthentication",ln);on("address",ln);on("shippingAddress",ln);on("paymentMethodMessaging",ln);on("affirmMessage",ln);on("afterpayClearpayMessage",ln);const eK=Rt.create({baseURL:"https://amazon-backend-eh14.onrender.com/"}),tK=()=>{const[n,e]=W.useState(null),[t,r]=W.useState(!1),[{user:i,basket:o},u]=W.useContext(zs),h=o==null?void 0:o.reduce((w,I)=>(I==null?void 0:I.amount)+w,0),d=o==null?void 0:o.reduce((w,I)=>(I==null?void 0:I.price)*(I==null?void 0:I.amount)+w,0),f=ZG(),g=WG(),_=Ug(),v=w=>{var I;w.error&&e((I=w==null?void 0:w.error)==null?void 0:I.message)},T=async w=>{var I;w.preventDefault();try{r(!0);const P=await eK({method:"post",url:`/payment/create?total=${d*100}`});console.log(P.data);const L=(I=P.data)==null?void 0:I.clientSecret,{paymentIntent:M}=await f.confirmCardPayment(L,{payment_method:{card:g.getElement(DC)}});await AN.collection("users").doc(i==null?void 0:i.uid).collection("orders").doc(M==null?void 0:M.id).set({basket:o,amount:M==null?void 0:M.amount,created:M==null?void 0:M.created}),u({type:"EMPTY_BASKET"}),r(!1),_("/orders",{state:{msg:"Order Placed Successfully"}})}catch(P){console.log(P),r(!1)}};return z.jsxs(Uc,{children:[z.jsxs("div",{className:Oi.payment__header,children:["Checkout (",h,") items"]}),z.jsxs("section",{className:Oi.payment,children:[z.jsxs("div",{className:Oi.flex,children:[z.jsx("h2",{children:"Delivery Address"}),z.jsxs("div",{children:[i==null?void 0:i.email,z.jsx("div",{children:"123 React Lane"}),z.jsx("div",{children:"Chicago, IL"})]})]}),z.jsx("hr",{}),z.jsxs("div",{className:Oi.flex,children:[z.jsx("h3",{children:"Review items and delivery"}),z.jsx("div",{children:o==null?void 0:o.map((w,I)=>z.jsx(Sc,{data:w,flex:!0},I))})]}),z.jsx("hr",{}),z.jsxs("div",{className:Oi.flex,children:[z.jsx("h3",{children:"Payment Method"}),z.jsx("div",{className:Oi.payment__card__container,children:z.jsx("div",{className:Oi.payment_details,children:z.jsxs("form",{action:"",onSubmit:T,children:[n&&z.jsx("small",{style:{color:"red",padding:"10px"},children:n}),z.jsx(DC,{onChange:v}),z.jsxs("div",{className:Oi.payment_price,children:[z.jsx("div",{style:{marginBottom:"15px"},children:z.jsxs("span",{className:Oi.flex,children:[z.jsx("b",{children:"Total Order"})," |",z.jsx(ub,{amount:d})]})}),z.jsx("button",{type:"submit",children:t?z.jsxs("div",{className:Oi.loading,children:[z.jsx(hG,{color:"gray",size:12}),z.jsx("p",{children:"Please Wait ..."})]}):" Pay Now"})]})]})})})]})]})]})},kC=({children:n,msg:e,redirect:t})=>{const r=Ug(),[{user:i},o]=W.useContext(zs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n};var MN="acacia",nK=function(e){return e===3?"v3":e},LN="https://js.stripe.com",rK="".concat(LN,"/").concat(MN,"/stripe.js"),iK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,sK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var aK=function(e){return iK.test(e)||sK.test(e)},oK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(LN,'"]')),t=0;t<e.length;t++){var r=e[t];if(aK(r.src))return r}return null},NC=function(e){var t="",r=document.createElement("script");r.src="".concat(rK).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},lK=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"6.0.0",startTime:t})},pd=null,Im=null,Rm=null,uK=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},cK=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},hK=function(e){return pd!==null?pd:(pd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=oK();if(!(i&&e)){if(!i)i=NC(e);else if(i&&Rm!==null&&Im!==null){var o;i.removeEventListener("load",Rm),i.removeEventListener("error",Im),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=NC(e)}}Rm=cK(t,r),Im=uK(r),i.addEventListener("load",Rm),i.addEventListener("error",Im)}catch(u){r(u);return}}),pd.catch(function(t){return pd=null,Promise.reject(t)}))},dK=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),u=nK(e.version),h=MN;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("6.0.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return lK(d,r),d},md,UN=!1,BN=function(){return md||(md=hK(null).catch(function(e){return md=null,Promise.reject(e)}),md)};Promise.resolve().then(function(){return BN()}).catch(function(n){UN||console.warn(n)});var fK=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];UN=!0;var i=Date.now();return BN().then(function(o){return dK(o,t,i)})};const pK=fK("pk_test_51R2QhzDap7n9PTXQL80DKbX7zaxJfsOupho3EGwJuRfRvZdJaDPKpWwRDavQeMfKH4oy6A0h4ytLg1mBMOUqYu1g002XU0zMd1");function mK(){return z.jsx("div",{children:z.jsx(NM,{children:z.jsxs(cM,{children:[z.jsx(Va,{path:"/",element:z.jsx(nG,{})}),z.jsx(Va,{path:"/auth",element:z.jsx(gG,{})}),z.jsx(Va,{path:"/payment",element:z.jsx(kC,{msg:"Please Login to Continue with payment",redirect:"/payment",children:z.jsx(NN,{stripe:pK,children:z.jsx(tK,{})})})}),z.jsx(Va,{path:"/orders",element:z.jsx(kC,{msg:"Please Login to Continue your orders",redirect:"/orders",children:z.jsx(vG,{})})}),z.jsx(Va,{path:"/cart",element:z.jsx(CG,{})}),z.jsx(Va,{path:"/category/:categoryName",element:z.jsx(OG,{})}),z.jsx(Va,{path:"/products/:productId",element:z.jsx(DG,{})})]})})})}function gK(){const[{user:n},e]=W.useContext(zs);return W.useEffect(()=>{kg.onAuthStateChanged(t=>{e(t?{type:li.SET_USER,user:t}:{type:li.SET_USER,user:null})})},[]),z.jsx("div",{children:z.jsx(mK,{})})}const yK={basket:[],user:null},_K=(n,e)=>{switch(e.type){case li.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case li.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case li.SET_USER:return{...n,user:e.user};case li.EMPTY_BASKET:return{...n,basket:[]};default:return n}};EV.createRoot(document.getElementById("root")).render(z.jsx(W.StrictMode,{children:z.jsx(SF,{reducer:_K,initialState:yK,children:z.jsx(gK,{})})}));
